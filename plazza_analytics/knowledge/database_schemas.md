# Database Schema Documentation - 2025-03-25

## Metadata
- **Documentation Date**: 2025-03-25
- **Documentation Type**: Technical
- **Data Domains**: Database Structure, Tables, Relationships
- **Generated By**: CrewAI Analyst

## Database Structure Overview

### user_transactions Database

The user_transactions database contains customer order information and product data.

#### Tables

##### orders
- **order_id**: Primary key, unique identifier for each order
- **contact_id**: Foreign key to contacts table, identifies the customer
- **status**: Order status (created, processing, shipped, delivered, paid)
- **bill_total_amount**: Total amount of the order in Indian Rupees
- **created_at**: Timestamp when the order was created
- **updated_at**: Timestamp when the order was last updated
- **payment_method**: Method of payment (COD, online payment, etc.)

##### order_items
- **id**: Primary key, unique identifier for each order item
- **order_id**: Foreign key to orders table
- **product_id**: Identifier for the product
- **medicine_name**: Name of the medicine/product
- **quantity**: Number of units ordered
- **mrp**: Maximum retail price
- **selling_price**: Actual selling price (may be discounted)

##### contacts
- **id**: Primary key, unique identifier for each customer
- **first_name**: Customer's first name
- **last_name**: Customer's last name
- **email**: Customer's email address
- **created_at**: Timestamp when the contact was created

### defaultdb Database

The defaultdb database contains the main product catalog and inventory information.

#### Tables

##### all_products
- **product_id**: Primary key, unique identifier for each product
- **name**: Product name
- **manufacturers**: Product manufacturer
- **salt_composition**: Chemical composition of the medicine
- **medicine_type**: Type of medicine (tablet, syrup, etc.)

##### inventory_products
- **id**: Primary key
- **product_id**: Foreign key to all_products
- **vendor_id**: ID of the vendor/supplier
- **batch_number**: Manufacturing batch number
- **expiry_date**: Expiration date of the product
- **stock_qty**: Current stock quantity

### Relationships

- Each order in the **orders** table can have multiple items in the **order_items** table (one-to-many)
- Each contact in the **contacts** table can have multiple orders in the **orders** table (one-to-many)
- Products in **all_products** table can correspond to multiple items in **inventory_products** (one-to-many)

## Schema Update History

### 2025-03-25
- Initial documentation of database schemas
- Documented primary tables in user_transactions and defaultdb
- Identified key relationships between tables