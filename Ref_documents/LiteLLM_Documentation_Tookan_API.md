# Tookan API · Apiary

- [Documentation](https://tookanapi.docs.apiary.io/)
- [Inspector](https://tookanapi.docs.apiary.io/traffic)

### Tookan API

Tookan •tookanapi

[Create New API Project](https://tookanapi.docs.apiary.io/create-api)

Help

Apiary Powered Documentation

[Sign in](https://login.apiary.io/login?redirect=https%3A%2F%2Ftookanapi.docs.apiary.io%2F) with Apiary account.


[Download\\
\\
API Blueprint](https://tookanapi.docs.apiary.io/api-description-document)

### Introduction

[Data Types & Response Format](https://tookanapi.docs.apiary.io/introduction/data-types-&-response-format)

[Error Codes](https://tookanapi.docs.apiary.io/introduction/error-codes)

[Timezones](https://tookanapi.docs.apiary.io/introduction/timezones)

[Task Statuses](https://tookanapi.docs.apiary.io/introduction/task-statuses)

[Custom Fields](https://tookanapi.docs.apiary.io/introduction/custom-fields)

[NPM Module](https://tookanapi.docs.apiary.io/introduction/npm-module)

### Reference

[Task](https://tookanapi.docs.apiary.io/reference/task)
- [Create Task](https://tookanapi.docs.apiary.io/reference/task/create-task)
- [Create Multiple Tasks](https://tookanapi.docs.apiary.io/reference/task/create-multiple-tasks)
- [Create Task From CSV](https://tookanapi.docs.apiary.io/reference/task/create-task-from-csv)
- [Create Task For Form User](https://tookanapi.docs.apiary.io/reference/task/create-task-for-form-user)
- [Get Task Details](https://tookanapi.docs.apiary.io/reference/task/get-task-details)
- [Get Task From Order ID](https://tookanapi.docs.apiary.io/reference/task/get-task-from-order-id)
- [Edit Task](https://tookanapi.docs.apiary.io/reference/task/edit-task)
- [Edit Multiple Tasks](https://tookanapi.docs.apiary.io/reference/task/edit-multiple-tasks)
- [Change Task Datetime](https://tookanapi.docs.apiary.io/reference/task/change-task-datetime)
- [Delete Task](https://tookanapi.docs.apiary.io/reference/task/delete-task)
- [Update Task Status](https://tookanapi.docs.apiary.io/reference/task/update-task-status)
- [Ready to Dispatch](https://tookanapi.docs.apiary.io/reference/task/ready-to-dispatch)
- [Start Task](https://tookanapi.docs.apiary.io/reference/task/start-task)
- [Cancel Task](https://tookanapi.docs.apiary.io/reference/task/cancel-task)
- [Assign task](https://tookanapi.docs.apiary.io/reference/task/assign-task)
- [AutoAssign Task](https://tookanapi.docs.apiary.io/reference/task/autoassign-task)
- [View All Tasks](https://tookanapi.docs.apiary.io/reference/task/view-all-tasks)
- [View All Deleted Tasks](https://tookanapi.docs.apiary.io/reference/task/view-all-deleted-tasks)
- [Get All Related Tasks](https://tookanapi.docs.apiary.io/reference/task/get-all-related-tasks)
- [Get Task Statistics](https://tookanapi.docs.apiary.io/reference/task/get-task-statistics)
- [Get Route Details](https://tookanapi.docs.apiary.io/reference/task/get-route-details)
- [Get Fare Estimate](https://tookanapi.docs.apiary.io/reference/task/get-fare-estimate)
[Agent](https://tookanapi.docs.apiary.io/reference/agent)
- [Get All Agents](https://tookanapi.docs.apiary.io/reference/agent/get-all-agents)
- [Add Agent](https://tookanapi.docs.apiary.io/reference/agent/add-agent)
- [Edit Agent](https://tookanapi.docs.apiary.io/reference/agent/edit-agent)
- [Block/Unblock Agent](https://tookanapi.docs.apiary.io/reference/agent/blockunblock-agent)
- [Delete Agent](https://tookanapi.docs.apiary.io/reference/agent/delete-agent)
- [View Agent Profile](https://tookanapi.docs.apiary.io/reference/agent/view-agent-profile)
- [View Agent Stripe Details](https://tookanapi.docs.apiary.io/reference/agent/view-agent-stripe-details)
- [Update Agent Tags](https://tookanapi.docs.apiary.io/reference/agent/update-agent-tags)
- [Get Agent Tags](https://tookanapi.docs.apiary.io/reference/agent/get-agent-tags)
- [Get Agent Logs](https://tookanapi.docs.apiary.io/reference/agent/get-agent-logs)
- [Get Agent Location](https://tookanapi.docs.apiary.io/reference/agent/get-agent-location)
- [Send Notification](https://tookanapi.docs.apiary.io/reference/agent/send-notification)
- [Get Agent Schedule](https://tookanapi.docs.apiary.io/reference/agent/get-agent-schedule)
- [Set Agent Schedule](https://tookanapi.docs.apiary.io/reference/agent/set-agent-schedule)
- [Get Agent Activity Timeline](https://tookanapi.docs.apiary.io/reference/agent/get-agent-activity-timeline)
- [Get Agent Ratings And Reviews](https://tookanapi.docs.apiary.io/reference/agent/get-agent-ratings-and-reviews)
- [Get Nearby Agents](https://tookanapi.docs.apiary.io/reference/agent/get-nearby-agents)
- [Get Agents Near Customer](https://tookanapi.docs.apiary.io/reference/agent/get-agents-near-customer)
- [Assign Agent To Task](https://tookanapi.docs.apiary.io/reference/agent/assign-agent-to-task)
- [Assign Agent To Related Tasks](https://tookanapi.docs.apiary.io/reference/agent/assign-agent-to-related-tasks)
- [Reassign Multiple Tasks To Agent](https://tookanapi.docs.apiary.io/reference/agent/reassign-multiple-tasks-to-agent)
- [Get Monthly Agent Schedule](https://tookanapi.docs.apiary.io/reference/agent/get-monthly-agent-schedule)
- [Create Fleet Wallet Transaction](https://tookanapi.docs.apiary.io/reference/agent/create-fleet-wallet-transaction)
- [Get Fleet Wallet Transaction](https://tookanapi.docs.apiary.io/reference/agent/get-fleet-wallet-transaction)
[Team](https://tookanapi.docs.apiary.io/reference/team)
- [Create Team](https://tookanapi.docs.apiary.io/reference/team/create-team)
- [Update Team](https://tookanapi.docs.apiary.io/reference/team/update-team)
- [Delete Team](https://tookanapi.docs.apiary.io/reference/team/delete-team)
- [Get Team Details](https://tookanapi.docs.apiary.io/reference/team/get-team-details)
- [Get All Teams](https://tookanapi.docs.apiary.io/reference/team/get-all-teams)
- [Get Job and Agent Details](https://tookanapi.docs.apiary.io/reference/team/get-job-and-agent-details)
[Manager](https://tookanapi.docs.apiary.io/reference/manager)
- [Create Manager](https://tookanapi.docs.apiary.io/reference/manager/create-manager)
- [View All Managers](https://tookanapi.docs.apiary.io/reference/manager/view-all-managers)
- [Delete Manager](https://tookanapi.docs.apiary.io/reference/manager/delete-manager)
[Customers](https://tookanapi.docs.apiary.io/reference/customers)
- [Get Customers](https://tookanapi.docs.apiary.io/reference/customers/get-customers)
- [Add Customer](https://tookanapi.docs.apiary.io/reference/customers/add-customer)
- [Edit Customer](https://tookanapi.docs.apiary.io/reference/customers/edit-customer)
- [Delete Customer](https://tookanapi.docs.apiary.io/reference/customers/delete-customer)
- [Find Customer with Phone](https://tookanapi.docs.apiary.io/reference/customers/find-customer-with-phone)
- [Find Customer with Name](https://tookanapi.docs.apiary.io/reference/customers/find-customer-with-name)
- [View Customer Profile](https://tookanapi.docs.apiary.io/reference/customers/view-customer-profile)
[User](https://tookanapi.docs.apiary.io/reference/user)
- [Update Phone Number](https://tookanapi.docs.apiary.io/reference/user/update-phone-number)
- [Change Password](https://tookanapi.docs.apiary.io/reference/user/change-password)
- [Check Email](https://tookanapi.docs.apiary.io/reference/user/check-email)
- [Get User Details](https://tookanapi.docs.apiary.io/reference/user/get-user-details)
[Merchant](https://tookanapi.docs.apiary.io/reference/merchant)
- [Create Merchant](https://tookanapi.docs.apiary.io/reference/merchant/create-merchant)
- [View Merchants](https://tookanapi.docs.apiary.io/reference/merchant/view-merchants)
- [Edit Merchant](https://tookanapi.docs.apiary.io/reference/merchant/edit-merchant)
- [Get Merchant Details](https://tookanapi.docs.apiary.io/reference/merchant/get-merchant-details)
- [Get Merchant Report](https://tookanapi.docs.apiary.io/reference/merchant/get-merchant-report)
- [Get Merchant Teams](https://tookanapi.docs.apiary.io/reference/merchant/get-merchant-teams)
- [Block/Unblock Merchant](https://tookanapi.docs.apiary.io/reference/merchant/blockunblock-merchant)
- [Assign Merchant To Task](https://tookanapi.docs.apiary.io/reference/merchant/assign-merchant-to-task)
- [Delete Merchant](https://tookanapi.docs.apiary.io/reference/merchant/delete-merchant)
- [Get All Agents](https://tookanapi.docs.apiary.io/reference/merchant/get-all-agents)
- [Add Agent](https://tookanapi.docs.apiary.io/reference/merchant/add-agent)
- [Edit Agent](https://tookanapi.docs.apiary.io/reference/merchant/edit-agent)
- [Assign Agent To Task](https://tookanapi.docs.apiary.io/reference/merchant/assign-agent-to-task)
- [Create Merchant Task](https://tookanapi.docs.apiary.io/reference/merchant/create-merchant-task)
- [Multiple Merchant Tasks](https://tookanapi.docs.apiary.io/reference/merchant/multiple-merchant-tasks)
- [Edit Merchant Task](https://tookanapi.docs.apiary.io/reference/merchant/edit-merchant-task)
- [View Merchant Tasks](https://tookanapi.docs.apiary.io/reference/merchant/view-merchant-tasks)
[Geofence](https://tookanapi.docs.apiary.io/reference/geofence)
- [Add Region](https://tookanapi.docs.apiary.io/reference/geofence/add-region)
- [Edit Region](https://tookanapi.docs.apiary.io/reference/geofence/edit-region)
- [View Regions](https://tookanapi.docs.apiary.io/reference/geofence/view-regions)
- [View Region Details](https://tookanapi.docs.apiary.io/reference/geofence/view-region-details)
- [Remove Region For Agent](https://tookanapi.docs.apiary.io/reference/geofence/remove-region-for-agent)
- [Delete Region](https://tookanapi.docs.apiary.io/reference/geofence/delete-region)
- [Find Region From Points](https://tookanapi.docs.apiary.io/reference/geofence/find-region-from-points)
[Mission](https://tookanapi.docs.apiary.io/reference/mission)
- [Create Mission Task](https://tookanapi.docs.apiary.io/reference/mission/create-mission-task)
- [Mission List](https://tookanapi.docs.apiary.io/reference/mission/mission-list)
- [Delete Mission](https://tookanapi.docs.apiary.io/reference/mission/delete-mission)
[Webhook](https://tookanapi.docs.apiary.io/reference/webhook)
- [Tookan Shared Secret](https://tookanapi.docs.apiary.io/reference/webhook/tookan-shared-secret)
[Logistics](https://tookanapi.docs.apiary.io/reference/logistics)
- [Adding a Hub](https://tookanapi.docs.apiary.io/reference/logistics/adding-a-hub)
- [Editing a Hub](https://tookanapi.docs.apiary.io/reference/logistics/editing-a-hub)

- Introduction

# Tookan API

### Introduction

- The Tookan API is a RESTful web service for developers to programmatically interact with Tookan’s data and real-time delivery management functionality.

- Every bit of data exchanged between clients and the API is JSON over HTTPS.

- The base URL for the Tookan API is [https://api.tookanapp.com](https://api.tookanapp.com/) , all the requests on this url use post method and we need to add the specific end points mentioned below to this URL. Example, if you want to create a task in Tookan, you will Post to the below API: [https://api.tookanapp.com/v2/create\_task](https://api.tookanapp.com/v2/create_task)

- All sample requests in this documentation are formatted for cURL.

- API key is mandatory in all the API's request.

- All parameters marked with \* are mandatory otherwise optional.

- If you have questions about using the API, want to share some feedback, or have come across a bug you'd like to report, write us an email at contact@tookanapp.com or submit a request through our Support Center.

- Tookan API uses key based authentication method. You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key from v2 section.


### Data Types & Response Format

The API we have follows all the following DATATYPES and Response Formats.

- Throughout the api the date format we recommend is YYYY-MM-DD HH:MM:SS. Explore [http://gr2m.github.io/moment-parseformat/](http://gr2m.github.io/moment-parseformat/) for more formats.

- The response format will be JSON having status, message and data key.


```
    {
        "message": "Successful",
        "status": 200,
        "data": {}
    }

```


### Error Codes

When something is wrong with a request, the API will respond with a non- `200` status code in the response. To help you better understand the problem, where possible, the API overloads a number of different error codes so your application logic has as much visibility as possible into what has gone wrong.

`100` \-\- PARAMETER\_MISSING

`101` \-\- INVALID\_KEY

`200` \-\- ACTION\_COMPLETE

`201` \-\- SHOW\_ERROR\_MESSAGE

`404` \-\- ERROR\_IN\_EXECUTION

### Timezones

How are timezones handled in Tookan?

- Here is the link to find your timezone

[https://timezones.tookanapp.com](https://timezones.tookanapp.com/)

- In Dashboard

When a task is created from Tookan Dashboard the local time zone from where the task is being created is considered.

Example: Let’s say a task is created in Singapore, the time zone considered is GMT +8hrs.

- In Bulk Upload

In the case of bulk upload of tasks, the time zone of the admin account is taken into consideration while tasks are created.

Example: Let’s say an admin in the US(say A for convenience) has created a manager(say M) in India. When this manager(M) creates tasks using the bulk upload the timezone of Admin(A) and tasks are created in US TimeZone.

- Using Tookan API

Tookan API accepts a request body parameter named “timezone” which is the Timezone difference with UTC in minutes. When a task is created with local time(say X), and timezone(+Y). Y minutes are added to X to make it UTC time.

- How to get the Timezone difference with UTC in minutes?

Let’s say I am creating a task in India’s time which is five and half hours ahead of UTC time (+05:30), convert five and half hours into minutes i.e 330 minutes. Since India’s time is ahead of UTC time to convert it into UTC time 330 minutes has to be subtracted from it. So, timezone is -330.

### Task Statuses

Below mentioned are the values of the `job_status` parameters of the respective Task Status:

|     |     |     |
| --- | --- | --- |
| **Status** | **Value** | **Description** |
| Assigned | `0` | The task has been assigned to a agent. |
| Started | `1` | The task has been started and the agent is on the way. This will appear as a light-blue pin on the map and as a rectangle in the assigned category on the left. |
| Successful | `2` | The task has been completed successfully and will appear as a green pin on the map and as a rectangle in the completed category on the left. |
| Failed | `3` | The task has been completed unsuccessfully and will appear as red pin on the map and as a rectangle in the completed category on the left. |
| InProgress/Arrived | `4` | The task is being performed and the agent has reached the destination. This will appear as a dark-blue pin on the map and as a rectangle in the assigned category on the left. |
| Unassigned | `6` | The task has not been assigned to any agent and will appear as a grey pin on the map and as a rectangle in the unassigned category on the left. |
| Accepted/Acknowledged | `7` | The task has been accepted by the agent which is assigned to him. |
| Decline | `8` | The task has been declined by the agent which is assigned to him. |
| Cancel | `9` | The task has been cancelled by the agent which is accepted by him. |
| Deleted | `10` | When the task is deleted from the Dashboard. |

### Custom Fields

We support a variety of Custom Fields/Data Types which you can create and manage from the Templates section from your Tookan Dashboard. As described below, you can utilize the "meta\_data" key in the /create\_task API calls, to send custom data for each task. "meta\_data" or "pickup\_meta\_data" key should be detailed as follows -

1. Array of Objects, where each Object consists of two keys - "label" - which is the name of the custom field key, as shown in the template settings page and "data" with the value of that key. Both the keys should be of string Data Type.
For ex -


```
    [{\
        "label": "Price",\
        "data":"10"\
    }]

```

2. All the Custom Field Data Types work in the similar fashion, except the following -

a. Checklist


```
    {
        "label": "PackageType",
        "data":"A,B,C"
    }

```


comma separated values that you want to display in task details. If you skip the "label" or "data" key, it will populate the checklist as per the template settings.

b. Tables


```
    {
        "label": "DeliveryDetails",
        "data":[\
            ["car","123"],\
            ["bike","234"],\
            ["scooter","456"]\
        ]
    }

```


data key should be a 2D Array, with the number of each element in the parent array are different rows and each element in the child arrays are values of each key, as per your template table settings. If you send different number of elements in any particular row, then the complete row will be ignored. For sending the location datatype within a table, you can send the value in the following format -


```
        {
            lat" :"22.44",
            "lng":"34.4555",
            "add":"srilanka"
        }

```


So, in this case, a sample row would look like this -


```
    [\
        "car",\
        "123",\
        {\
            "lat":"22.44",\
            "lng":"34.4555",\
            "add":"srilanka\
        }\
    ]

```


c. Barcode Verification


```
    {
    "label":"barode_custom_field",
    "data":[\
        {\
            "display_name":"Barcode1",\
            "data":"data1",\
            "is_verified":0\
        },\
        {\
            "display_name":"Barcode2",\
            "data":"data2",\
            "is_verified":1\
        }\
    ]

```


}

You can pass the array of objects and each object should contains these keys and act as a one barcode value.

If you have any questions regarding Custom Fields, you can reach out to us, with your questions on support@tookanapp.com

### NPM Module

Refer to Tookan's NPM Module **[tookan-api](https://www.npmjs.com/package/tookan-api)** to directly access tookan's APIs.

### Reference

# Task

## Create Task

### Attributes

There are different types of tasks can be created inside Tookan depending on the workflow you have selected in your account for e.g. - pick & delivery task, appointment task etc. Please refer to appropriate API below according to your requirement. In case of any doubt, feel free to reach out to us at contact@tookanapp.com.

[**Create a Pickup Task**](https://tookanapi.docs.apiary.io/reference/task/create-task/create-a-pickup-task)

This API is used to create a pickup task.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| order\_id | string | Your can pass this key as your own transaction number which can be used to identify tasks in tookan |
| job\_description | String | The description of the task to be done |
| job\_pickup\_phone | string | The contact number of the person from whom the pickup should be collected |
| job\_pickup\_name | string<br>(optional) | The name of the person from whom the pickup should be collected |
| job\_pickup\_email | string <br> (optional) | The email of the person from whom the pickup should be collected |
| job\_pickup\_address\* | string | The address from which the pickup should be collected. |
| job\_pickup\_latitude | string <br> (optional) | This is the latitiude of the pickup location |
| job\_pickup\_longitude | string <br> (optional) | This is the longitude of the pickup location |
| job\_pickup\_datetime\* | string | This is time before which the pickup should be collected |
| has\_pickup\* | boolean <br> (Fixed) | For a Pickup task, this is fixed to `1` |
| has\_delivery\* | boolean <br> (Fixed) | For a Pickup task this is fixed to `0` |
| layout\_type\* | integer <br> (Fixed) | For a Pickup task this is fixed to `0` |
| tracking\_link | boolean | If this value is `1` it will return a url in the response where the driver's movement can be tracked.if not no url will be returned |
| timezone\* | string | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330`, for CST: `+360` (CDT: `+300`) |
| pickup\_custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| pickup\_meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| auto\_assignment | boolean | If this value is `1` The task will be auto assigned to the members of the specific team mentioned. or if this value is `0` it will be unassigned task created. |
| fleet\_id | string | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| p\_ref\_images | Array | This is an array of strings containing links of images. |
| notify | integer | This is used to enable the notifications. |
| geofence | integer | This is used to enable the geofencing. |
| ignore\_customer\_lat\_long | integer | This is used to add address sent in request body otherwise tookan fetch customer by phone number saved in tookan database and use that customer adddress . |
| pickup\_job\_validate\_otp | Number | 4-digit OTP is allowed & It should start from 1000 onwards. Applicable only if Validate OTP extension is enabled. |
| Barcode | string | Use this key to add Barcode to the Task |
| tags | string | This is a string containing comma separated tags as filters for agents in auto assignment. |

[**Create a Delivery Task**](https://tookanapi.docs.apiary.io/reference/task/create-task/create-a-delivery-task)

This API is used to create a Delivery Task.

Body Parameters :

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| order\_id | string | Your can pass this key as your own transaction number which can be used to identify tasks in tookan |
| job\_description | String | The description of the task to be done |
| customer\_email | email <br> (optional) | This is email of the customer to whom the product should be delivered |
| customer\_username | String<br>(optional) | This is the name of the customer to whom the product should be delivered |
| customer\_phone | String | This is the contact number of the customer to whom the product should be delivered |
| customer\_address\* | String | This is the address of the customer to whom the product should be delivered |
| latitude | String <br> (optional) | This is the latitiude of the pickup location if you have it. Otherwise leave it blank. We will get it through geocoding API |
| longitude | String <br> (optional) | This is the latitiude of the pickup location if you have it. Otherwise leave it blank. We will get it through geocoding API |
| job\_delivery\_datetime\* | Date/String | This is time before which the product should be delivered |
| has\_pickup\* | boolean<br> (Fixed) | For a delivery task this value is `0` |
| has\_delivery\* | boolean<br> (Fixed) | For a delivery task this value is `1` |
| layout\_type\* | integer<br> (Fixed) | For a delivery task this value is `0` |
| tracking\_link | boolean | If this value is `1` it will return a url in the respone where the driver's movement can be tracked. |
| timezone\* | string | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330` |
| custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| auto\_assignment | boolean | If this value is `1` The task will be auto assigned to the members of the specific team mentioned. or if this value is `0` it will be unassigned task created. |
| fleet\_id | string | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| ref\_images | Array | This is an array of strings containing links of images. |
| notify | integer | This is used to enable the notifications. |
| geofence | integer | This is used to enable the geofencing. |
| ignore\_customer\_lat\_long | integer | This is used to add address sent in request body otherwise tookan fetch customer by phone number saved in tookan database and use that customer adddress . |
| job\_validate\_otp | Number | 4-digit Otp is allowed & It should start from 1000 onwards. Applicable only if Validate OTP extension is enabled. |
| Barcode | string | Use this key to add Barcode to the Task |
| tags | string | This is a string containing comma separated tags as filters for agents in auto assignment. |

[**Create a Pickup and Delivery Task**](https://tookanapi.docs.apiary.io/reference/task/create-task/create-a-pickup-and-delivery-task)

This api is used to create Pickup and delivery task.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| order\_id | string | Your can pass this key as your own transaction number which can be used to identify tasks in tookan |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| auto\_assignment | boolean | If this value is `1` The task will be auto assigned to the members of the specific team mentioned. or if this value is `0` it will be unassigned task created. |
| job\_description | String | The description of the task to be done |
| job\_pickup\_phone | string | The contact number of the person from whom the pickup should be collected |
| job\_pickup\_name | string <br> (optional) | The name of the person from whom the pickup should be collected |
| job\_pickup\_email | string <br> (optional) | The email of the person from whom the pickup should be collected |
| job\_pickup\_address\* | string | The address from which the pickup should be collected. |
| job\_pickup\_latitude | string <br> (optional) | This is the latitiude of the pickup location |
| job\_pickup\_longitude | string <br> (optional) | This is the longitude of the pickup location |
| job\_pickup\_datetime\* | string | This is time before which the pickup should be collected |
| pickup\_custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| pickup\_meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| customer\_email | email <br> (optional) | This is email of the customer to whom the product should be delivered |
| customer\_username | String <br> (optional) | This is the name of the customer to whom the product should be delivered |
| customer\_phone | String | This is the contact number of the customer to whom the product should be delivered |
| customer\_address\* | String | This is the address of the customer to whom the product should be delivered |
| latitude | String <br> (optional) | This is the latitiude of the delivery location |
| longitude | String <br> (optional) | This is the longitude of the delivery location |
| job\_delivery\_datetime\* | Date/String | This is time before which the product should be delivered |
| custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| timezone\* | Integer | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330` |
| has\_pickup\* | boolean<br> (Fixed) | For a pickup and delivery task this value is fixed to `1` |
| has\_delivery\* | boolean<br> (Fixed) | For a pickup and delivery task this value is fixed to `1` |
| layout\_type\* | integer<br> (Fixed) | For a pickup and delivery task this value is fixed to `0` |
| tracking\_link | boolean | If this value is `1` it will return a url in the respone where the driver's movement can be tracked. |
| fleet\_id | string | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| p\_ref\_images | Array | (Pickup) This is an array of strings containing links of images. |
| ref\_images | Array | (Delivery) This is an array of strings containing links of images. |
| notify | integer | This is used to enable the notifications. |
| geofence | integer | This is used to enable the geofencing. |
| ignore\_customer\_lat\_long | integer | This is used to add address sent in request body otherwise tookan fetch customer by phone number saved in tookan database and use that customer adddress . |
| tags | string | This is a string containing comma separated tags as filters for agents in auto assignment. |
| ignore\_validate\_otp | Number | 1 - OTP won't be required, 0 - OTP will be required. Applicable only if Validate OTP extension is enabled. Default value is 0. |
| pickup\_job\_validate\_otp | Number | 4-digit OTP is allowed & It should start from 1000 onwards. Applicable only if Validate OTP extension is enabled. |
| job\_validate\_otp | Number | 4-digit Otp is allowed & It should start from 1000 onwards. Applicable only if Validate OTP extension is enabled. |
| ride\_type | number | 0 for Non-Pool Task, 1 for Pool Task. |

Response Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| message | string |
| status | number | This should be mapped with the error codes mention in error codes section above. |
| data | Object | This gives the information about the task like pickup\_tracking\_link,delivery\_tracing\_link,job\_id, job\_token,<br>pickup\_hash, delivery\_hash |

[**Create an Appointment Task**](https://tookanapi.docs.apiary.io/reference/task/create-task/create-an-appointment-task)

This api is used to create an appointment task.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| order\_id | string | Your can pass this key as your own transaction number which can be used to identify tasks in tookan |
| customer\_email | email <br> (optional) | Customer email |
| customer\_username | String | customer name to whom the product should be delivered. |
| customer\_phone | String | The contact number of the customer to whom the product should be delivered |
| customer\_address\* | String | The address to which the product should be delivered. |
| latitude | number <br> (optional) | The latitude of the location of customer address |
| longitude | number <br> (optional) | The longitude of the location of customer address |
| job\_description | String | The description of the task to be done |
| job\_pickup\_datetime\* | Date/String | This is the start time of the appointment. |
| job\_delivery\_datetime\* | Date/String | Time before which the appointment should be completed |
| timezone\* | Integer | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330` |
| custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| has\_pickup\* | boolean<br> (Fixed) | For an appointment task this value is fixed to `0` |
| has\_delivery\* | boolean <br> (Fixed) | For an appointment task this value is fixed to `0` |
| layout\_type\* | number <br> (Fixed) | For an appointment task this value is fixed to `1` |
| tracking\_link | boolean | If this value is `1` it will return a url in the respone where the driver's movement can be tracked |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| auto\_assignment | boolean | If this value is `1` The task will be auto assigned to the members of the specific team mentioned. or if this value is `0` it will be unassigned task created. |
| fleet\_id | string | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| ref\_images | Array | This is an array of strings containing links of images. |
| notify | integer | This is used to enable the notifications. |
| geofence | integer | This is used to enable the geofencing. |
| ignore\_customer\_lat\_long | integer | This is used to add address sent in request body otherwise tookan fetch customer by phone number saved in tookan database and use that customer adddress . |
| tags | string | This is a string containing comma separated tags as filters for agents in auto assignment. |

[**Create a Field Workforce Task**](https://tookanapi.docs.apiary.io/reference/task/create-task/create-a-field-workforce-task)

This api is used to create a field workforce task.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| order\_id | string | Your can pass this key as your own transaction number which can be used to identify tasks in tookan |
| customer\_email | email <br> (optional) | Customer email |
| customer\_username | String | customer name to whom the product should be delivered. |
| customer\_phone | String | The contact number of the customer to whom the product should be delivered |
| customer\_address\* | String | The address to which the product should be delivered. |
| latitude | number <br> (optional) | The latitude of the location of customer address |
| longitude | number <br> (optional) | The longitude of the location of customer address |
| job\_description | String | The description of the task to be done |
| job\_pickup\_datetime\* | Date/String | This is the start time of the appointment. |
| job\_delivery\_datetime\* | Date/String | Time before which the appointment should be completed |
| timezone\* | Integer | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330` |
| custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| has\_pickup\* | boolean<br> (Fixed) | For an appointment task this value is fixed to `0` |
| has\_delivery\* | boolean <br> (Fixed) | For an appointment task this value is fixed to `0` |
| layout\_type\* | number <br> (Fixed) | For an field workforce task this value is fixed to `2` |
| tracking\_link | boolean | If this value is `1` it will return a url in the respone where the driver's movement can be tracked |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| auto\_assignment | boolean | If this value is `1` The task will be auto assigned to the members of the specific team mentioned. or if this value is `0` it will be unassigned task created. |
| fleet\_id | string | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| ref\_images | Array | This is an array of strings containing links of images. |
| notify | integer | This is used to enable the notifications. |
| geofence | integer | This is used to enable the geofencing. |
| ignore\_customer\_lat\_long | integer | This is used to add address sent in request body otherwise tookan fetch customer by phone number saved in tookan database and use that customer adddress . |
| tags | string | This is a string containing comma separated tags as filters for agents in auto assignment. |

## Create Multiple Tasks

### Attributes

[**Create Multiple Pickup And Delivery Tasks**](https://tookanapi.docs.apiary.io/reference/task/create-multiple-tasks/create-multiple-pickup-and-delivery-tasks)

This API is used to create multiple pickup and delivery tasks for the fleets at once.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id | String | Id of the fleet to which this task is to be assigned, optional. |
| timezone | string | Timezone of the country or location in numerical format. Eg - timezone for India = -330. |
| has\_pickup | boolean | Boolean key containing 1 if these are pickup tasks. |
| has\_delivery | boolean | Boolean key containing 1 if these are delivery tasks. |
| layout\_type | string | Set it as 0 (PICKUP\_AND\_DELIVERY), 1 (APPOINTMENT) or 2 (FOS) depending upon the type of layout. |
| geofence | string | This is used to enable the geofencing. |
| ignore\_customer\_lat\_long | integer | This is used to add address sent in request body otherwise tookan fetch customer by phone number saved in tookan database and use that customer adddress . |
| auto\_assignment | boolean | Boolean key containing the value 0 if the task is not to be assigned automatically to the fleet. |
| tags | String | This is a string containing comma separated tags as filters for agents in auto assignment. |
| ignore\_validate\_otp | Number | 1 - OTP won't be required, 0 - OTP will be required. Applicable only if Validate OTP extension is enabled. Default value is 0. |
| deliveries | JSON array | Array of objects containing address, name, job\_description, latitude, longitude, tie, phone, template\_name, template\_data, ref\_images, email, order\_id where address defines the address of the customer to whom the product should be delivered, name defines the name of the customer, job\_description defines the description of the task, latitude defines the latitude of the pickup location if you have it, otherwise leave it blank. We'll get it through geocoding API, longitude and latitude defines the long and lat of the pick up, time defines the time before the pickup should be collected, phone defines the contact number of the customer, template\_name defines the custom fields template name that is predefined in your workflow page in the admin account and you just need to replace space in template with underscore(\_), template\_data defines an array of object containing label and data where label defines the custom field name and data will be his value. (Provided label should be in specified template.),ref\_images defines an array of strings containing links of images,email defines the email of the customer to whom the product should be delivered,order\_id can be passed as your own transaction number which can be used to identify tasks in tookan. |
| pickups\* | JSON array | Array of objects containing address, name, job\_description, latitude, longitude, time, phone, template\_name, template\_data, ref\_images, email, order\_id where address defines the address from which the pickup should be collected, name defines the name of the person from whom the pickup should be collected, job\_description defines the description of the task to be done, latitude and longitude defines the lat and long of the pick up location, time defines the time before which the pickup should be collected,phone defines the contact number of the person from whom the pickup should be collected,template\_name defines the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_), template\_data defines an array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.),ref\_images defines an array of strings containing links of images,email defines the email of the person from whom the pickup should be collected,order\_id can be passed as your own transaction number which can be used to identify tasks in tookan. |

[**Create Multiple Pickup Tasks**](https://tookanapi.docs.apiary.io/reference/task/create-multiple-tasks/create-multiple-pickup-tasks)

This API is used to create multiple pickup tasks for the fleets at once.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id | String | Id of the fleet to which this task is to be assigned, optional. |
| timezone\* | string | Timezone of the country or location in numerical format. Eg - timezone for India = -330. |
| has\_pickup\* | boolean | Boolean key containing 1 if these are pickup tasks. |
| has\_delivery\* | boolean | Boolean key containing 1 if these are delivery tasks. |
| layout\_type\* | string | Set it as 0(PICKUP\_AND\_DELIVERY), 1(APPOINTMENT) or 2(FOS) depending upon the type of layout. |
| geofence | string | This is used to enable the geofencing. |
| ignore\_customer\_lat\_long | integer | This is used to add address sent in request body otherwise tookan fetch customer by phone number saved in tookan database and use that customer adddress . |
| auto\_assignment | boolean | Boolean key containing the value 0 if the task is not to be assigned automatically to the fleet. |
| tags | String | This is a string containing comma separated tags as filters for agents in auto assignment. |
| pickups\* | JSON array | Array of objects containing address, name, job\_description, latitude, longitude, time, phone, template\_name, template\_data, ref\_images, email, order\_id where address defines the address from which the pickup should be collected, name defines the name of the person from whom the pickup should be collected, job\_description defines the description of the task to be done, latitude and longitude defines the lat and long of the pick up location, time defines the time before which the pickup should be collected,phone defines the contact number of the person from whom the pickup should be collected,template\_name defines the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_), template\_data defines an array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.),ref\_images defines an array of strings containing links of images,email defines the email of the person from whom the pickup should be collected,order\_id can be passed as your own transaction number which can be used to identify tasks in tookan. |

[**Create Multiple Delivery Tasks**](https://tookanapi.docs.apiary.io/reference/task/create-multiple-tasks/create-multiple-delivery-tasks)

This API is used to create multiple delivery tasks for the fleets at once.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id | String | Id of the fleet to which this task is to be assigned, optional. |
| timezone\* | string | Timezone of the country or location in numerical format. Eg - timezone for India = -330. |
| has\_pickup\* | boolean | Boolean key containing 1 if these are pickup tasks. |
| has\_delivery\* | boolean | Boolean key containing 1 if these are delivery tasks. |
| layout\_type\* | string | Set it as 0(PICKUP\_AND\_DELIVERY), 1(APPOINTMENT) or 2(FOS) depending upon the type of layout. |
| geofence | string | This is used to enable the geofencing. |
| ignore\_customer\_lat\_long | integer | This is used to add address sent in request body otherwise tookan fetch customer by phone number saved in tookan database and use that customer adddress . |
| auto\_assignment | boolean | Boolean key containing the value 0 if the task is not to be assigned automatically to the fleet. |
| tags | String | This is a string containing comma separated tags as filters for agents in auto assignment. |
| deliveries\* | JSON array | Array of objects containing address, name, job\_description, latitude, longitude, tie, phone, template\_name, template\_data, ref\_images, email, order\_id where address defines the address of the customer to whom the product should be delivered, name defines the name of the customer, job\_description defines the description of the task, latitude defines the latitude of the pickup location if you have it, otherwise leave it blank. We'll get it through geocoding API, longitude and latitude defines the long and lat of the pick up, time defines the time before the pickup should be collected, phone defines the contact number of the customer, template\_name defines the custom fields template name that is predefined in your workflow page in the admin account and you just need to replace space in template with underscore(\_), template\_data defines an array of object containing label and data where label defines the custom field name and data will be his value. (Provided label should be in specified template.),ref\_images defines an array of strings containing links of images,email defines the email of the customer to whom the product should be delivered,order\_id can be passed as your own transaction number which can be used to identify tasks in tookan. |

## Create Task From CSV

### Attributes

[**Create Tasks From CSV**](https://tookanapi.docs.apiary.io/reference/task/create-task-from-csv/create-tasks-from-csv)

This API is used to create tasks from CSV.

Request File Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| tasks\_csv | file | File with extension .csv that contains tasks in proper format as described in “Create Task” |

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| timezone\* | Integer | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330` |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| auto\_assignment | boolean (optional) | If this value is `1` The task will be auto assigned to the members of the specific team mentioned. or if this value is `0` it will be unassigned task created. |
| notify | integer (optional) | This is used to enable the notifications. |
| geofence | integer (optional) | This is used to enable the geofencing. |
| tags | string (optional) | This is a string containing comma separated tags as filters for agents in auto assignment. |
| p\_c\_f | string (optional) | Pickup custom field, used to define the custom field in csv for pickup. |
| d\_c\_f | string (optional) | Delivery custom field, used to define the custom field in csv for delivery. |
| search\_add\_on | integer (optional) | This is used to enable search add on (if applicable) |

## Create Task For Form User

### Attributes

[**Create Tasks For Form User**](https://tookanapi.docs.apiary.io/reference/task/create-task-for-form-user/create-tasks-for-form-user)

This API is used to create tasks for form user.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| timezone\* | string | Timezone of the country or location in numerical format. Eg - timezone for India = -330. |
| has\_pickup\* | boolean | Boolean key containing 1 if these are pickup tasks. |
| has\_delivery\* | boolean | Boolean key containing 1 if these are delivery tasks. |
| layout\_type\* | string | Set it as 0 (PICKUP\_AND\_DELIVERY), 1 (APPOINTMENT) or 2 (FOS) depending upon the type of layout. |
| deliveries\* | JSON array | Array of objects containing address, name, job\_description, latitude, longitude, tie, phone, template\_name, template\_data, ref\_images, email, order\_id where address defines the address of the customer to whom the product should be delivered, name defines the name of the customer, job\_description defines the description of the task, latitude defines the latitude of the pickup location if you have it, otherwise leave it blank. We'll get it through geocoding API, longitude and latitude defines the long and lat of the pick up, time defines the time before the pickup should be collected, phone defines the contact number of the customer, template\_name defines the custom fields template name that is predefined in your workflow page in the admin account and you just need to replace space in template with underscore(\_), template\_data defines an array of object containing label and data where label defines the custom field name and data will be his value. (Provided label should be in specified template.),ref\_images defines an array of strings containing links of images,email defines the email of the customer to whom the product should be delivered,order\_id can be passed as your own transaction number which can be used to identify tasks in tookan. |
| pickups\* | JSON array | Array of objects containing address, name, job\_description, latitude, longitude, time, phone, template\_name, template\_data, ref\_images, email, order\_id where address defines the address from which the pickup should be collected, name defines the name of the person from whom the pickup should be collected, job\_description defines the description of the task to be done, latitude and longitude defines the lat and long of the pick up location, time defines the time before which the pickup should be collected,phone defines the contact number of the person from whom the pickup should be collected,template\_name defines the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_), template\_data defines an array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.),ref\_images defines an array of strings containing links of images,email defines the email of the person from whom the pickup should be collected,order\_id can be passed as your own transaction number which can be used to identify tasks in tookan. |
| is\_multiple\_tasks\* | boolean | Boolean key containing 1. |
| vendor\_email\_id\* | email | Registered email of form user. |
| domain\_name\* | string | Domain name of form. |

## Get Task Details

### Attributes

[**Get Task Details**](https://tookanapi.docs.apiary.io/reference/task/get-task-details/get-task-details)

This api is used to get the details of the task.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_ids\* | array | You can get it from task details. You can send 100 job id's in single request. |
| include\_task\_history | number | Enter 1, if you want task history. Otherwise, enter 0 in the key. |
| job\_additional\_info | number | Enter 1, if you want Job Additional Details. Otherwise, enter 0 in the key. |
| include\_job\_report | number | Enter 1, if you want to retreive the Job report. Otherwise, enter 0 in the key. |

## Get Task From Order ID

### Attributes

[**Get Task Details From Order ID**](https://tookanapi.docs.apiary.io/reference/task/get-task-from-order-id/get-task-details-from-order-id)

This api is used to get the details of the task.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| order\_ids\* | array | This will be set by you. |
| include\_task\_history | number | Enter 1, if you want task history. Otherwise, enter 0 in the key. |

## Edit Task

### Attributes

[**Edit Task**](https://tookanapi.docs.apiary.io/reference/task/edit-task/edit-task)

This api used to edit a task that has already been added.

Request Body Parameters : Every parameter is same as while creating a task the only parameters that should added while editing a task is shown below.

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| job\_id\* | string | This is the unique id given to every job which is returned while creating a task |
| meta\_data | string | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template |
| custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |

## Edit Multiple Tasks

### Attributes

[**Edit Multiple Tasks**](https://tookanapi.docs.apiary.io/reference/task/edit-multiple-tasks/edit-multiple-tasks)

This API is used to edit multiple tasks that are already added. It takes as input the array of pickup and delivery tasks and one by one updates their data.

Request Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| pickups\* | json array | This json array contains the pickup tasks the you want to edit. The format of each pickup task is same as defined in the create multiple tasks section. |
| deliveries\* | json array | This json array contains the delivery tasks the you want to edit. The format of each delivery task is same as defined in the create multiple tasks section. |

## Change Task Datetime

### Attributes

[**Change Task Datetime**](https://tookanapi.docs.apiary.io/reference/task/change-task-datetime/change-task-datetime)

This API is used to change datetime of multiple tasks that are already added. It takes as input the array of task id's and one by one update the datetime for all the tasks.

Request Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_ids\* | array | This array contains the task id's the you want to edit. |
| layout\_type\* | number | For Pickup & Delivery, it's value is 0. For Appointment, it's value is 1. For FOS, it's value is 2. |
| start\_time\* | datetime | Enter the datetime of the pickup tasks. For Appointment/FOS, it refers to start time of the task. |
| end\_time\* | datetime | Enter the datetime of the delivery tasks. For Appointment/FOS, it refers to end time of the task. |

## Delete Task

### Attributes

[**Delete Task**](https://tookanapi.docs.apiary.io/reference/task/delete-task/delete-task)

This API is used to Delete a task which is not necessary.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_id\* | number | You can get it from task details. |

## Update Task Status

### Attributes

[**Update Task Status**](https://tookanapi.docs.apiary.io/reference/task/update-task-status/update-task-status)

This API is used to force update the status of a task.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_id\* | string (single or comma separated values) | You can get it from task details. |
| job\_status\* | number | Refer status codes section above for various statuses available. |

## Ready to Dispatch

### Attributes

[**Ready to Dispatch**](https://tookanapi.docs.apiary.io/reference/task/ready-to-dispatch/ready-to-dispatch)

Upon requested, this API sends push notifications to the Agent Application following the assignment of an agent to a designated task. Additionally, it sends a webhook aligned with the "Ready to dispatch" event.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_id\* | number | You can get it from task details. |
| message | string | You can specify a custom push message. |

## Start Task

### Attributes

[**Start Task**](https://tookanapi.docs.apiary.io/reference/task/start-task/start-task)

This API is used to change the status of a task that has already been created to "start".

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_id\* | string | You can get it from task details. (single or comma separated values) |
| job\_status\* | number (fixed) | Set this value to “1” to start the task. |

## Cancel Task

### Attributes

[**Cancel Task**](https://tookanapi.docs.apiary.io/reference/task/cancel-task/cancel-task)

This API is used to change the status of a task that has already been created to "cancelled".

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_id\* | string | You can get it from task details. (single or comma separated values) |
| job\_status\* | number (fixed) | Set this value to “9” to start the task. |

## Assign task

### Attributes

[**Assign Task**](https://tookanapi.docs.apiary.io/reference/task/assign-task/assign-task)

This API is used to assign/reassign a unassigned/assigned task or an assigned task to Agent.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_id\* | number | You can get it from task details. |
| fleet\_id | number | You can get it from your tookan account or you can use 'Get All Agents' API for retrieving list from your account. |
| team\_id\* | number | You can get it from your tookan account in teams section. |
| job\_status | string | Refer status codes section above for various statuses available. |

## AutoAssign Task

### Attributes

[**AutoAssign Task**](https://tookanapi.docs.apiary.io/reference/task/autoassign-task/autoassign-task)

This API is used to auto-assign an unassigned/assigned task. Only tasks that have `auto_assignment` enabled will be auto-assigned through this API.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings (Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_id\* | number | This is the id of the task you want to auto assign. You can get it from task details. |

## View All Tasks

### Attributes

[**View All Tasks**](https://tookanapi.docs.apiary.io/reference/task/view-all-tasks/view-all-tasks)

This API is used to get all the tasks as per the filters. Start Date and End Date range refer to Task Date. The start and End Date shall have to be inside the 31 days span.
By utilizing this API, you can retrieve task details for a maximum span of 31 days from the current date.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_status | string | Filter the list of tasks via their status |
| job\_type\* | number(mandatory) | Filter via Job Type - 0 for Pick Up, 1 for Delivery, 2 for Appointment and 3 for FOS |
| start\_date\* | date/string | Start Date for the date range (YYYY-MM-DD) |
| end\_date\* | date/string | End Date for the date range (YYYY-MM-DD) |
| custom\_fields | number | You can pass this flag as 1, if you want the custom fields data to be included in the response. default is 0 |
| is\_pagination | Boolean | You can set this as 1 to enable pagination. |
| requested\_page | number | Current(Which) page according to the page number of tasks in the filter. |
| customer\_id | number | Filter the list based on the customer id. |
| fleet\_id | number | Filter the list based on the agent id. |
| job\_id | array | Filter the list based on the job ids. |
| order\_id | array | Filter the list based on the order ids. |
| team\_id | number | Filter the list based on the team id. |

## View All Deleted Tasks

### Attributes

[**View All Deleted Tasks**](https://tookanapi.docs.apiary.io/reference/task/view-all-deleted-tasks/view-all-deleted-tasks)

This API is used to get all the tasks as per the filters. Start Date and End Date range refer to Task Date.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_type\* | number(mandatory) | Filter via Job Type - 0 for Pick Up, 1 for Delivery, 2 for Appointment and 3 for FOS |
| start\_date | number | Start Date for the date range |
| end\_date | number | End Date for the date range |
| custom\_fields | number | You can pass this flag as 1, if you want the custom fields data to be included in the response. default is 0 |
| is\_pagination | Boolean | You can set this as 1 to enable pagination. |
| requested\_page | number | Current(Which) page according to the page number of tasks in the filter. |
| customer\_id | number | Filter the list based on the customer id. |
| fleet\_id | number | Filter the list based on the agent id. |
| job\_id | array | Filter the list based on the job ids. |
| order\_id | array | Filter the list based on the order ids. |
| team\_id | number | Filter the list based on the team id. |

## Get All Related Tasks

### Attributes

[**Get All Related Tasks**](https://tookanapi.docs.apiary.io/reference/task/get-all-related-tasks/get-all-related-tasks)

This api is used to get all related tasks.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| pickup\_delivery\_relationship\* | string | You can get it from task details. |

## Get Task Statistics

### Attributes

[**Get Task Statistics**](https://tookanapi.docs.apiary.io/reference/task/get-task-statistics/get-task-statistics)

This API is used to get stats related to tasks.

Request Body Parametrs:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_status | array (optional) | Filter the list of tasks via their status. |
| job\_type | number (optional) | Filter via Job Type - 0 for Pick Up, 1 for Delivery, 2 for Appointment and 3 for FOS. |
| start\_date | date (optional) | Start Date for the date range. |
| end\_date | date (optional) | End Date for the date range. |
| team\_id | number (optional) | Filter the list of tasks w.r.t team. |

## Get Route Details

### Attributes

[**Get Route Details**](https://tookanapi.docs.apiary.io/reference/task/get-route-details/get-route-details)

This API is used to get the routes after route optimization for a particular date.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| date\* | date | Enter the date for which you want to get the routes. |

## Get Fare Estimate

### Attributes

[**Get Fare Estimate**](https://tookanapi.docs.apiary.io/reference/task/get-fare-estimate/get-fare-estimate)

This API is used to get fare estimate of a task.

Request Body Parametrs:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| template\_name\* | string | Name of the template with spaces replaced by underscore. |
| pickup\_latitude | string | Pickup Latitude. |
| pickup\_longitude | string | Pickup Longitude. |
| delivery\_latitude | string | Delivery Latitude. |
| delivery\_longitude | string | Delivery Longitude. |
| formula\_type | number | Set 1 for Earning, 2 for Pricing and 3 for Both. |
| map\_keys | object | This contains 'map\_plan\_type' which is to be set as 1 and 'google\_api\_key' which should be your Google Api Key. |

# Agent

## Get All Agents

### Attributes

[**Get All Agents**](https://tookanapi.docs.apiary.io/reference/agent/get-all-agents/get-all-agents)

This API is used to get all the Agents/drivers/fleets information with respect to a location. The response array contains a status key for each of the fleet, which shows the current status of the fleet - 0 for available, 1 for offline and 2 for busy, taking into account the location, connectivity, ON-Duty/OFF-Duty status and if they are presently working a task.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| tags | string | You can pass the tags, comma separated, if you want to filter the list of agents via tags. |
| name | string | Enter name, if you want to get list of agents matching this name string. |
| fleet\_ids | array | You can specify array of fleet ids for getting information of only those fleets in response. |
| include\_any\_tag | number | Provide this key along with tags key in request body. Set value of this key to 1 if you want to agents having any of the tags provided in tags key, else set value of this key to 0 if you want the list of agents having all the tags you have provided in request body. |
| status | number | Pass 0 for getting agents who are free and Pass 1 for getting agents who are busy. |
| fleet\_type | number | Pass 1 for getting agents with fleet type "capative", Pass 2 for getting agents with fleet type "freelancer" |
| include\_team\_id | number | Pass 1 for getting agents with team id , Pass 0 for getting agents without team id |
| region\_ids | string | region ids are the geofence ids , use these ids to get the fleets of that perticular regionn only , go to setings->geofence to get the region ids . |
| include\_rule | string | Pass 1 for getting Agent's Rule\_id in the response body. |
| include\_regions | string | Pass 1 for getting Agent's Assigned Region in the response body. |

## Add Agent

### Attributes

[**Add Agent**](https://tookanapi.docs.apiary.io/reference/agent/add-agent/add-agent)

This API is used to register a new Agent in your account.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| email | string | email of your agent. |
| phone\* | string | add the phone number of the agent. He will get a notification with the links and credentials to download the app |
| transport\_type | string | Send 1 for Car, 2 for Motor Cycle, 3 for Bicycle, 4 for Scooter, 5 for Foot, 6 for Truck |
| transport\_desc | string |  |
| license | string |  |
| color | string |  |
| timezone\* | string |  |
| team\_id\* | string | You need to pass a team of which the agent will be a part of. Team Id will be visible on the All teams page |
| password\* | string | You can set the password yourself, or leave it empty, in which case the system will auto-generate the password |
| username\* | string | Unique username, which the agent will use to login to the Tookan Agent App |
| first\_name\* | string |  |
| last\_name | string |  |
| rule\_id | number | You can find rule id in the Access Control page for the agents named as Role ID. |
| fleet\_type | number | Send 1 for captive agents and 2 for freelancer agents. Default value is 1. |
| profile\_url | string | Send url of agent profile image. |
| profile\_thumb\_url | string | Send url of agent profile Thumbnail. |
| region\_ids | string | Enter the Region id to Assign the Geofence to the Agent |

## Edit Agent

### Attributes

[**Edit Agent**](https://tookanapi.docs.apiary.io/reference/agent/edit-agent/edit-agent)

This API is used to update particular agent of your account.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id\* | string | Agent Id of your agent. You will get this from agent list in dashboard. |
| email | string | Email of your agent. |
| phone | string | Add the phone number of the agent. |
| transport\_type | string | Send 1 for Car, 2 for Motor Cycle, 3 for Bicycle, 4 for Scooter, 5 for Foot, 6 for Truck |
| transport\_desc | string |  |
| license | string |  |
| color | string |  |
| timezone | string |  |
| team\_id | string | You need to pass a team of which the agent will be a part of. Team Id will be visible on the All teams page |
| password | string | You can set the password yourself, or leave it empty, in which case the system will auto-generate the password |
| first\_name | string |  |
| last\_name | string |  |
| rule\_id | number | You can find rule id in the Access Control page for the agents named as Role ID. |
| fleet\_type | number | Send 1 for captive agents and 2 for freelancer agents. Default value is 1. |
| profile\_url | string | Send url of agent profile image. |
| profile\_thumb\_url | string | Send url of agent profile Thumbnail. |
| region\_ids | string | Assign a new Region id or delete the existing Region id aligned with the Agent |

## Block/Unblock Agent

### Attributes

[**Block/Unblock Agent**](https://tookanapi.docs.apiary.io/reference/agent/blockunblock-agent/block/unblock-agent)

This API is used to block/unblock the Agent in your account.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your Tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API Key. |
| fleet\_id\* | string | Enter fleet ids of the agents (comma sperated string). |
| block\_status\* | number | Enter 0 or 1. 0 for block and 1 for unblock the agent. |
| block\_reason | text (optional) | Enter block reason |
| unblock\_on\_date | date (optional) | Agent will be automatically unblocked on this date. If not entered, the agent will remain blocked forever. Date format must be - 'YYYY-MM-DD'. |

## Delete Agent

### Attributes

[**Delete Agent**](https://tookanapi.docs.apiary.io/reference/agent/delete-agent/delete-agent)

This API is used to delete the Agent in your account.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your Tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key. |
| fleet\_id\* | number | Enter fleet id of the agent. |

## View Agent Profile

### Attributes

[**View Agent Profile**](https://tookanapi.docs.apiary.io/reference/agent/view-agent-profile/view-agent-profile)

This API is used to view agent's profile.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key. |
| fleet\_id\* | string | You can get it from your tookan account or you can use 'Get All Agents' API for retrieving list from your account. |

## View Agent Stripe Details

### Attributes

[**View Agent Stripe Details**](https://tookanapi.docs.apiary.io/reference/agent/view-agent-stripe-details/view-agent-stripe-details)

This API is used to view agent's stripe account details.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key. |
| fleet\_id\* | string | You can get it from your tookan account or you can use 'Get All Agents' API for retrieving list from your account. |

## Update Agent Tags

### Attributes

[**Update Agent Tags**](https://tookanapi.docs.apiary.io/reference/agent/update-agent-tags/update-agent-tags)

This API is used to update agent's tags.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id\* | string | You can get it from your tookan account or you can use 'Get All Agents' API for retrieving list from your account. |
| tags\* | string | Comma Separated Values of tags to be assigned to the agent. |

## Get Agent Tags

### Attributes

[**Get Agent Tags**](https://tookanapi.docs.apiary.io/reference/agent/get-agent-tags/get-agent-tags)

This API is used to view the list of agent tags.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key. |
| fleet\_id\* | string (optional) | You can get it from your tookan account or you can use 'Get All Agents' API for retrieving list from your account. |
| team\_id | string (optional) | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |

## Get Agent Logs

### Attributes

[**Get Agent Logs**](https://tookanapi.docs.apiary.io/reference/agent/get-agent-logs/get-agent-logs)

This API is used to get Agent logs. It returns details about when your agents went offline and online.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your Tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key. |
| date\* | date | Enter the date for which you want to get the agent logs. |
| team\_ids\* | array(optional) | Enter the team ids for which you want to get the agent logs. |

## Get Agent Location

### Attributes

[**Get Agent Location**](https://tookanapi.docs.apiary.io/reference/agent/get-agent-location/get-agent-location)

This API is used to get an agent's location coordinates.

Request Body Parametrs:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id\* | string (optional) | You can get it from your tookan account or you can use 'Get All Agents' API for retrieving list from your account. |

## Send Notification

### Attributes

[**Send Notification**](https://tookanapi.docs.apiary.io/reference/agent/send-notification/send-notification)

This API is used to send push notifications to logged in agent(s). Same message cannot be sent to same agent again in same day. Maximum push notification limit per agent is:

- 50 notifications per day.
- 150 notifications per week.
- 300 notifications per month.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your Tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key. |
| fleet\_ids\* | array | Agent Id of your agent(s). You will get this from agent list in dashboard. |
| message\* | string | Message that you want to send in push. Minimun character length should be 4 and maximum 160 |

## Get Agent Schedule

### Attributes

[**Get Agent Schedule**](https://tookanapi.docs.apiary.io/reference/agent/get-agent-schedule/get-agent-schedule)

This API is used to get the agent schedule for a particular date.

- available\_status: 1 defines agent is not available for that particular time.
- available\_status: 0 defines agent is available for that particular time.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| local\_date\_time\* | date | Enter date for which you want to get the agent schedule |
| limit | number | It used to get the number of agents from total agents. If the value is 0, it returns first 10 results. If it is 1, it returns next 10 records and so on. |

## Set Agent Schedule

### Attributes

[**Set Agent Schedule**](https://tookanapi.docs.apiary.io/reference/agent/set-agent-schedule/set-agent-schedule)

This API is used to set the agent schedule for a particular date.

The period between the start time and end time will be marked as 'Available', while the period between the break start time and break end time will be marked as 'Unavailable'.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| date\* | date | Enter date for which you want to set the agent schedule |
| fleet\_ids\* | array | You can specify array of fleet ids for setting the schedule. |
| availability\_schedule | json array | This array of objects contains the schedules for agents, specifying their availability with start and end times and their non-availability periods defined by break start and end times. |

## Get Agent Activity Timeline

### Attributes

[**Get Agent Activity Timeline**](https://tookanapi.docs.apiary.io/reference/agent/get-agent-activity-timeline/get-agent-activity-timeline)

This API is used to get an agent's daily activity timeline.

Request Body Parametrs:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id\* | string | You can get it from your tookan account or you can use 'Get All Agents' API for retrieving list from your account. |
| date\* | date | Enter the date for which you want to get the agent activity timeline. |
| timezone\* | string | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330`, for CST: `+360` (CDT: `+300`) |
| start\_time\* | date time | Start Date time for the date range. |
| end\_time\* | date time | End Date time for the date range. |

[**Get Agent Activity Timeline**](https://tookanapi.docs.apiary.io/reference/agent/get-agent-activity-timeline/get-agent-activity-timeline)

This API is used to get an agent's daily activity timeline.

Request Body Parametrs:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id\* | string | You can get it from your tookan account or you can use 'Get All Agents' API for retrieving list from your account. |
| date\* | date | Enter the date for which you want to get the agent activity timeline. |
| timezone\* | string | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330`, for CST: `+360` (CDT: `+300`) |
| start\_time\* | date time | Start Date time for the date range. |
| end\_time\* | date time | End Date time for the date range. |

## Get Agent Ratings And Reviews

### Attributes

[**Get Agent Ratings And Reviews**](https://tookanapi.docs.apiary.io/reference/agent/get-agent-ratings-and-reviews/get-agent-ratings-and-reviews)

This API is used to get agent's overall rating and reviews given by customers.

Request Body Parametrs:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_ids\* | array | You can get it from your tookan account or you can use 'Get All Agents' API for retrieving list from your account. |

## Get Nearby Agents

### Attributes

[**Get Nearby Agents**](https://tookanapi.docs.apiary.io/reference/agent/get-nearby-agents/get-nearby-agents)

This API is used to get available agent's near the given latitude longitude up to 100kms.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| latitude\* | number | The latitude of the location from where you want nearby available fleets. |
| longitude\* | number | The longitude of the location from where you want nearby available fleets. |
| radius\_in\_metres\* | number | Some radius in metre |

## Get Agents Near Customer

### Attributes

[**Get Agents Near Customer**](https://tookanapi.docs.apiary.io/reference/agent/get-agents-near-customer/get-agents-near-customer)

This API is used to get available agent's near customers.

Request Body Parametrs:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| customer\_id\* | number | You can get it from your tookan account or you can use 'Get All Customer' API for retrieving list from your account. |
| radius\_in\_metres\* | number | Some radius in metre |

## Assign Agent To Task

### Attributes

[**Assign Agent To Task**](https://tookanapi.docs.apiary.io/reference/agent/assign-agent-to-task/assign-agent-to-task)

This API is used to assign an agent to your task.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_id\* | number | This is the unique id given to every job which is returned while creating a task. |
| fleet\_id\* | number | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| team\_id\* | number | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| notify | 0/1 | This is used to enable the notifications. |
| geofence | 0/1 | This is used to enable the geofencing. |
| job\_status | string | Refer status codes section above for various statuses available. |

## Assign Agent To Related Tasks

### Attributes

[**Assign Agent To Related Tasks**](https://tookanapi.docs.apiary.io/reference/agent/assign-agent-to-related-tasks/assign-agent-to-related-tasks)

This API is used to assign an agent to related task.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| team\_id\* | number | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| notify | 0/1 (optional) | This is used to enable the notifications. |
| geofence | 0/1 (optional) | This is used to enable the geofencing. |
| job\_status | string (optional) | Refer status codes section above for various statuses available. |
| merchant\_id | number (optional) | This is the unique ID given to each merchant. If you want to assign a task to merchant's team/agent, send the corresponding merchant\_id. You can get it from dashboard Menu>More>Merchant. |
| pickup\_delivery\_relationship\* | string | This is the relationship key between pickup and delivery tasks. Either send this or the job\_id |

## Reassign Multiple Tasks To Agent

### Attributes

[**Reassign Multiple Tasks To Agent**](https://tookanapi.docs.apiary.io/reference/agent/reassign-multiple-tasks-to-agent/reassign-multiple-tasks-to-agent)

This API is used to reassign multiple tasks to agent.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| team\_id | number (Optional) | This is the unique id of every team. You can get it from the Dashboard>Menu>Settings>Teams>respective id of the team will be displayed. |
| fleet\_id\* | number | This is the unique id of every agent. You can get it from the Dashboard>Menu>Agent>respective id of the agent will be displayed. |
| job\_ids\* | Array | Enter array of task ids. |

## Get Monthly Agent Schedule

### Attributes

[**Get Monthly Agent Schedule**](https://tookanapi.docs.apiary.io/reference/agent/get-monthly-agent-schedule/get-monthly-agent-schedule)

This API is used to get an agent's schedule within date range.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id\* | string | This is the unique id of every agent. You can get it from the Dashboard>Menu>Agent>respective id of the agent will be displayed. |
| start\_date\* | string | Start date specified in YYYY-MM-DD format. |
| end\_date\* | string | End date specified in YYYY-MM-DD format. |

## Create Fleet Wallet Transaction

### Attributes

[**Create Fleet Wallet Transaction**](https://tookanapi.docs.apiary.io/reference/agent/create-fleet-wallet-transaction/create-fleet-wallet-transaction)

This API is used to transact amount to or from agent wallet.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id\* | number | This is the unique id of every agent. You can get it from the Dashboard>Menu>Agent>respective id of the agent will be displayed. |
| amount\* | number | Amount must be greater than 0. |
| reference\_id | string (optional) | This is optional reference id for the transaction. |
| transaction\_type\* | number | Send 1 for debit and 2 for credit. |
| wallet\_type\* | number | Send 1 if you want to transact to/from wallet and 2 for credits. |
| description | string (optional) | This is optional description field for the transction. |
| remarks | string (optional) | This is optional remarks field for the transction. |

## Get Fleet Wallet Transaction

### Attributes

[**Get Fleet Wallet Transaction History**](https://tookanapi.docs.apiary.io/reference/agent/get-fleet-wallet-transaction/get-fleet-wallet-transaction-history)

This API is used to get agent wallet transaction history.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id\* | number | This is the unique id of every agent. You can get it from the Dashboard>Menu>Agent>respective id of the agent will be displayed. |
| starting\_date | date | Start date specified in YYYY-MM-DD format |
| ending\_date | date | End date specified in YYYY-MM-DD format |
| wallet\_type | number | Send 1 for agent wallet and 2 for credits. |

# Team

## Create Team

### Attributes

[**Create Team**](https://tookanapi.docs.apiary.io/reference/team/create-team/create-team)

This API is used to create a team

Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your Tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API Key. |
| team\_name\* | string | This is the name of the team to be created. |
| battery\_usage | string | This is parameter decides the battery usage and accuracy level of agent's mobile. If '0', it is low. If '1', it is Medium. If '2' It is High. |
| address | string | This is the address of the team to be created. |
| tags | string | This is tags that you can mention for any team. |

## Update Team

### Attributes

[**Update Team**](https://tookanapi.docs.apiary.io/reference/team/update-team/update-team)

This API is used to update a team.

Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your Tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API Key. |
| team\_name | string | This is the name of the team to be created. |
| battery\_usage | number | This is parameter decides the battery usage and accuracy level of agent's mobile. If '0', it is low. If '1', it is Medium. If '2' It is High. |
| tags | string | This is tags that you can mention for any team. |
| team\_id\* | number | This is team\_id that you can mention for any team. |

## Delete Team

### Attributes

[**Delete Team**](https://tookanapi.docs.apiary.io/reference/team/delete-team/delete-team)

This API is used to delete a team.

Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your Tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API Key. |
| team\_id\* | number | This is team\_id that you can mention for any team. |

## Get Team Details

### Attributes

[**Get Team Details**](https://tookanapi.docs.apiary.io/reference/team/get-team-details/get-team-details)

This API is used to get the all the team details along with their agents' data

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |

## Get All Teams

### Attributes

[**Get All Teams**](https://tookanapi.docs.apiary.io/reference/team/get-all-teams/get-all-teams)

This API is used to get the all teams details without their agent's data.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |

## Get Job and Agent Details

### Attributes

[**Get Job and Agent Details**](https://tookanapi.docs.apiary.io/reference/team/get-job-and-agent-details/get-job-and-agent-details)

This API is used to get the job and agent details related to a team.

Request Body Prameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| date\* | date | Enter date for which you want to view the deatils. |
| team\_id\* | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| fleet\_id | string (optional) | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| unzip | boolean (optional) | Send 1 if you want data to be zipped, otherwise 0. |
| sorting | string (optional) | Enter “ASC” or “DESC” to sort data in ascending or descending order. Default is ascending. |
| ignore\_fleets | boolean (optional) | Either 0 or 1. Enter value 1 if you don’t want to view fleet details. The default value is 0. |
| has\_agent\_module | boolean (optional) | Either 0 or 1. Enter value 1 if you want to view external fleet details. The default value is 0. |
| is\_offline | boolean (optional) | Either 0 or 1. Enter value 1 if you want to view offline external fleet details. The default value is 0. |
| search\_string | string (optional) | Enter any string that you want to search in the data. |
| form\_id | number (optional) | Enter id to filter data on the basis of form id. |

# Manager

## Create Manager

### Attributes

[**Create Manager**](https://tookanapi.docs.apiary.io/reference/manager/create-manager/create-manager)

This API is used to Create a Manager.

Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| email\* | string(Optional) | This is email of the manager to be added which is used while Login. |
| password\* | string(Optional) | This is the password for the manager account to login. |
| first\_name\* | string(Optional) | This is the First name of the manager to be added. |
| last\_name | string(Optional) | This is the Last name of the manager to be added. |
| phone\* | string(Optional) | This is the phone number of the manager to be added. |
| timezone\* | string(Optional) | Timezone difference with UTC in minutes for e.g., For PST:+480 (PDT: +420),For MST +420 (MDT:+360) for EST: +300(EDT:+240), for AEST: -600 (AEDT: -660), for IST: -330, for CST: +360 (CDT:+300) |
| task\_access\* | string(Optional) | This is to give access for the unasigned tasks. Set this to '1' to give access and '0' not to give the access |
| add\_driver\_access | string(Optional) | This is to give access for the manager to create Agents. Set this to '1' to give access and '0' not to give the access |
| dispatcher\_teams\* | string(Optional) | Pass the team\_ids in this parameter with comma seperated values to which the manager can access. |
| rule\_id | Number(Optional) | This is the rule that you want to assign to your manager , you can get the rule id from dashboard when you create a rule from settings->access control . |

## View All Managers

### Attributes

[**View All Managers**](https://tookanapi.docs.apiary.io/reference/manager/view-all-managers/view-all-managers)

This API is used to view details of all the managers.

Request Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| team\_id | integer (optional) | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. Use this to filter managers on the basis of team\_id. |
| form\_id | integer (optional) | Enter id to filter managers on the basis of form\_id. |
| name | string (optional) | Enter username of manager here to search for a particular manager. |

## Delete Manager

### Attributes

[**Delete Manager**](https://tookanapi.docs.apiary.io/reference/manager/delete-manager/delete-manager)

This API is used to delete a manager.

Request Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| dispatcher\_id\* | integer | Id of the manager to be deleted |

# Customers

## Get Customers

### Attributes

[**Get Customers**](https://tookanapi.docs.apiary.io/reference/customers/get-customers/get-customers)

This API is used to get the all the Customer details.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| customer\_username | string(Optional) | This is used to search with customer name. |
| customer\_phone | string(Optional) | This is used to search with customer phone number. |
| is\_pagination | Boolean | You can set this as 1 to enable pagination. |
| requested\_page | number(Optional) | Current(Which) page according to the page number of customer list. |
| vendor\_id | number(Optional) | This is used to search Form user. |

## Add Customer

### Attributes

[**Add Customer**](https://tookanapi.docs.apiary.io/reference/customers/add-customer/add-customer)

This API is used to add customer.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_type\* | number | It should be 0. |
| name\* | string | Enter customer's name. |
| phone\* | string | Enter customer's phone number. |
| email | string(Optional) | Enter customer's email address. |
| address | string((Optional)) | Enter customer's address location. |
| latitude | number(Optional) | Enter latitiude of the customer's location. |
| longitude | number(Optional) | Enter longitiude of the customer's location. |

## Edit Customer

### Attributes

[**Edit Customer**](https://tookanapi.docs.apiary.io/reference/customers/edit-customer/edit-customer)

This API is used to edit customer details.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_type\* | number | It should be 0. |
| customer\_id\* | number | Enter customer id that you want to edit. You will get the customer id while adding the customer. |
| name | string | Enter customer's name. |
| phone | number | Enter customer's phone number. |
| email | string(Optional) | Enter customer's email address. |
| address | string((Optional)) | Enter customer's address location. |
| latitude | number(Optional) | Enter latitiude of the customer's location. |
| longitude | number(Optional) | Enter longitiude of the customer's location. |

## Delete Customer

### Attributes

[**Delete Customer**](https://tookanapi.docs.apiary.io/reference/customers/delete-customer/delete-customer)

This API is used to delete an existing customer.

Request Body Parametrs:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| customer\_id\* | number | Enter customer id that you want to delete. You will get the customer id while adding the customer. |

## Find Customer with Phone

### Attributes

[**Find Customer with Phone Number**](https://tookanapi.docs.apiary.io/reference/customers/find-customer-with-phone/find-customer-with-phone-number)

This API is used to search for a customer using his phone number.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| customer\_phone\* | string | Enter the customer’s phone number here whose details you want to search. |

## Find Customer with Name

### Attributes

[**Find Customer with Name**](https://tookanapi.docs.apiary.io/reference/customers/find-customer-with-name/find-customer-with-name)

This API is used to search for a customer using his name.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| customer\_name\* | string | Enter the customer’s name here whose details you want to search. |

## View Customer Profile

### Attributes

[**View Customer Profile**](https://tookanapi.docs.apiary.io/reference/customers/view-customer-profile/view-customer-profile)

This API is used to view profile details of a customer.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| customer\_id\* | number | Enter id of the customer whose details you want to see. You will get the customer id while adding the customer. |

# User

## Update Phone Number

### Attributes

[**Update Phone Number**](https://tookanapi.docs.apiary.io/reference/user/update-phone-number/update-phone-number)

This API is used to update user's phone number.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key. |
| phone\* | string | Enter user's new phone number here. |

## Change Password

### Attributes

[**Change Password**](https://tookanapi.docs.apiary.io/reference/user/change-password/change-password)

This API is used to change user's password.

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key. |
| old\_password\* | string | This is user's old password. |
| new\_password\* | string | This is user's new password. |

## Check Email

### Attributes

[**Check Email**](https://tookanapi.docs.apiary.io/reference/user/check-email/check-email)

This API is used to check if your email is already registered or not.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| email\* | string | Enter your email here. |

## Get User Details

### Attributes

[**Get User Details**](https://tookanapi.docs.apiary.io/reference/user/get-user-details/get-user-details)

This API is used to get the Tookan user details.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |

# Merchant

Merchant is basically the seller or service provider on a marketplace. Merchants can log in to their own dashboard from where they can manage their agents, tasks and other functionalities. The admin has full access to all of the details and activities of the merchant, including, but not limited to tasks and agents. To create merchants you need to activate **Multi Merchant Marketplace** addon from Tookan Marketplace.

## Create Merchant

### Attributes

[**Create Merchant**](https://tookanapi.docs.apiary.io/reference/merchant/create-merchant/create-merchant)

This API is used to add a merchant to your account.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_id\* | number | You can get it from account details page in [Tookan dashboard](https://app.tookanapp.com/#/app/account). |
| name\* | string | Enter the full name of merchant here. |
| first\_name\* | string | Enter the first name of merchant here. |
| last\_name | string | Enter the last name of merchant here. |
| company\_name\* | string | This is your company’s name. |
| company\_address\* | string | This is your company’s address |
| email\* | string | Enter the email of merchant here. |
| timezone\* | string | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330`, for CST: `+360` (CDT: `+300`) |
| phone\_directory\* | json object | This include two key value pairs named, **phoneNo** which is the contact number of merchant and **countryCode** which is the country code for the phone number. |
| merchant\_permission | json object | Various permissions are granted to the merchant. The default value is 1. Set 1 to give permission, otherwise 0. These are : view\_task, add\_task, add\_team, view\_team, add\_region, view\_region, add\_agent, view\_agent, view\_fleet\_avalibility, edit\_fleet\_avalibility. |
| commission\_percentage\* | number | This is the percentage of commision that the merchant will be earning. |
| password\* | string | Set login password for merchant here. |
| geofence | json object | This includes parameters related to geofence of the merchant like region\_name, region\_description, region\_data, is\_force. All the fields are optional. |
| rule\_id | number | This is the role id of access control. |
| shared\_teams | string | The admin's account team id's which you want to share with merchants. |

## View Merchants

### Attributes

[**View Merchants**](https://tookanapi.docs.apiary.io/reference/merchant/view-merchants/view-merchants)

This API is used to view the list of all merchants under the admin.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_id\* | number | You can get it from account details page in [Tookan dashboard](https://app.tookanapp.com/#/app/account). |

## Edit Merchant

### Attributes

[**Edit Merchant**](https://tookanapi.docs.apiary.io/reference/merchant/edit-merchant/edit-merchant)

This API is used to edit the details of a merchant.

Request Body Parameters:

The request body parameters of this API are same as that of Create Merchant. The only parameters that should be added while editing a merchant are shown below.

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| merchant\_id\* | number | This is the unique ID given to each merchant. Enter the ID of the merchant whose details you want to edit. You can get it from dashboard Menu>More>Merchant. |

## Get Merchant Details

### Attributes

[**Get Merchant Details**](https://tookanapi.docs.apiary.io/reference/merchant/get-merchant-details/get-merchant-details)

This API is used to get the details of a particular merchant.

Query Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_id\* | number | This is the ID of the merchant whose details you wan to view. |

## Get Merchant Report

### Attributes

[**Get Merchant Report**](https://tookanapi.docs.apiary.io/reference/merchant/get-merchant-report/get-merchant-report)

This API is used to get a merchant report related to is tasks and performance.

Query Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_id\* | number | You can get it from account details page in Tookan dashboard. |
| merchant\_id\* | number | This is the unique ID given to each merchant. Enter the ID of the merchant whose details you want to edit. You can get it from dashboard Menu>More>Merchant. |

## Get Merchant Teams

### Attributes

[**Get Merchant Teams**](https://tookanapi.docs.apiary.io/reference/merchant/get-merchant-teams/get-merchant-teams)

This API is used to fetch teams related to a merchant.

Request body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| get\_team\_flag | 2 (fixed) | Set this values as 2 to get merchant teams. |
| merchant\_id\* | number | This is the array containg single merchant id whose teams you want to view. |

## Block/Unblock Merchant

### Attributes

[**Block/Unblock Merchant**](https://tookanapi.docs.apiary.io/reference/merchant/blockunblock-merchant/block/unblock-merchant)

This API is used to block or unblock any merchant's account.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| merchant\_id\* | number | This is the unique ID given to each merchant. Enter the ID of the merchant whose task you want to create. You can get it from dashboard Menu>More>Merchant. |
| is\_blocked\* | number | Set is\_blocked as 0 to block merchant, 1 to unblock merchant. |

## Assign Merchant To Task

### Attributes

[**Assign Merchant To Task**](https://tookanapi.docs.apiary.io/reference/merchant/assign-merchant-to-task/assign-merchant-to-task)

This API is used to assign a particular task to a merchant.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_id | number | You can get it from account details page in Tookan dashboard. |
| merchant\_id\* | number | This is the unique ID given to each merchant. Enter the ID of the merchant whose details you want to edit. You can get it from dashboard Menu>More>Merchant. |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| job\_id | string | This is the unique id given to every job which is returned while creating a task |
| job\_status | number | Refer status codes section above for various statuses available. |
| fleet\_id | number (optional) | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |

## Delete Merchant

### Attributes

[**Delete Merchant**](https://tookanapi.docs.apiary.io/reference/merchant/delete-merchant/delete-merchant)

This API is used to delete a merchant.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| merchant\_id\* | number | This is the unique ID given to each merchant. Enter the ID of the merchant whose details you want to edit. You can get it from dashboard Menu>More>Merchant. |

## Get All Agents

### Attributes

[**Get All Agents**](https://tookanapi.docs.apiary.io/reference/merchant/get-all-agents/get-all-agents)

This API is used to get all the Agents/drivers/fleets information with respect to a location. The response array contains a status key for each of the fleet, which shows the current status of the fleet - 0 for available, 1 for offline and 2 for busy, taking into account the location, connectivity, ON-Duty/OFF-Duty status and if they are presently working a task.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| tags | string | You can pass the tags, comma separated, if you want to filter the list of agents via tags. |
| name | string | Enter name, if you want to get list of agents matching this name string. |
| fleet\_ids | array | You can specify array of fleet ids for getting information of only those fleets in response. |
| include\_any\_tag | number | Provide this key along with tags key in request body. Set value of this key to 1 if you want to agents having any of the tags provided in tags key, else set value of this key to 0 if you want the list of agents having all the tags you have provided in request body. |
| status | number | Pass 0 for getting agents who are free and Pass 1 for getting agents who are busy. |
| fleet\_type | number | Pass 1 for getting agents with fleet type "capative", Pass 2 for getting agents with fleet type "freelancer" |
| merchant\_id | number | Enter merchant id to get agents under that merchant. |

## Add Agent

### Attributes

[**Add Agent**](https://tookanapi.docs.apiary.io/reference/merchant/add-agent/add-agent)

This API is used to register a new Agent in your account.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| email | string | email of your agent. |
| phone | string | add the phone number of the agent. He will get a notification with the links and credentials to download the app |
| transport\_type | string | Send 1 for Car, 2 for Motor Cycle, 3 for Bicycle, 4 for Scooter, 5 for Foot, 6 for Truck |
| transport\_desc | string |  |
| license | string |  |
| color | string |  |
| timezone\* | string |  |
| team\_ids\* | string | You need to pass a team of which the agent will be a part of. Team Id will be visible on the All teams page |
| password\* | string | You can set the password yourself, or leave it empty, in which case the system will auto-generate the password |
| username\* | string | Unique username, which the agent will use to login to the Tookan Agent App |
| first\_name\* | string |  |
| last\_name | string |  |
| rule\_id | number | You can find rule id in the Access Control page for the agents named as Role ID. |
| fleet\_type\* | number | Send 1 for captive agents and 2 for freelancer agents. Default value is 1. |
| merchant\_id | number | Enter merchant id to add the agent under that merchant. |

## Edit Agent

### Attributes

[**Edit Agent**](https://tookanapi.docs.apiary.io/reference/merchant/edit-agent/edit-agent)

This API is used to update particular agent of your account.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id\* | string | Agent Id of your agent. You will get this from agent list in dashboard. |
| email | string | Email of your agent. |
| phone | string | Add the phone number of the agent. |
| transport\_type | string | Send 1 for Car, 2 for Motor Cycle, 3 for Bicycle, 4 for Scooter, 5 for Foot, 6 for Truck |
| transport\_desc | string |  |
| license | string |  |
| color | string |  |
| timezone | string |  |
| team\_id | string | You need to pass a team of which the agent will be a part of. Team Id will be visible on the All teams page |
| password | string | You can set the password yourself, or leave it empty, in which case the system will auto-generate the password |
| first\_name | string |  |
| last\_name | string |  |
| rule\_id | number | You can find rule id in the Access Control page for the agents named as Role ID. |
| fleet\_type | number | Send 1 for captive agents and 2 for freelancer agents. Default value is 1. |
| merchant\_id | number | Enter merchant id to edit the agent under that merchant. |

## Assign Agent To Task

### Attributes

[**Assign Agent To Task**](https://tookanapi.docs.apiary.io/reference/merchant/assign-agent-to-task/assign-agent-to-task)

This API is used to assign a merchant's agent to your task.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| merchant\_id | number | This is the unique ID given to each merchant. Enter the ID of the merchant whose task you want to create. You can get it from dashboard Menu>More>Merchant. |
| job\_id\* | number | This is the unique id given to every job which is returned while creating a task. |
| fleet\_id\* | number | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| team\_id\* | number | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| notify | 0/1 | This is used to enable the notifications. |
| geofence | 0/1 | This is used to enable the geofencing. |
| job\_status | string | Refer status codes section above for various statuses available. |

## Create Merchant Task

### Attributes

There are different types of tasks can be created inside Tookan depending on the workflow you have selected in your account for e.g. - pick & delivery task, appointment task etc. Please refer to appropriate API below according to your requirement. In case of any doubt, feel free to reach out to us at contact@tookanapp.com.

[**Create a Pickup Task**](https://tookanapi.docs.apiary.io/reference/merchant/create-merchant-task/create-a-pickup-task)

This API is used to create a pickup task for merchant.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| merchant\_id\* | string | This is the unique ID given to each merchant. Enter the ID of the merchant whose task you want to create. You can get it from dashboard Menu>More>Merchant. |
| order\_id | string | Your can pass this key as your own transaction number which can be used to identify tasks in tookan |
| job\_description | String | The description of the task to be done |
| job\_pickup\_phone | string | The contact number of the person from whom the pickup should be collected |
| job\_pickup\_name | string<br>(optional) | The name of the person from whom the pickup should be collected |
| job\_pickup\_email | string <br> (optional) | The email of the person from whom the pickup should be collected |
| job\_pickup\_address\* | string | The address from which the pickup should be collected. |
| job\_pickup\_latitude | string <br> (optional) | This is the latitiude of the pickup location |
| job\_pickup\_longitude | string <br> (optional) | This is the longitude of the pickup location |
| job\_pickup\_datetime\* | string | This is time before which the pickup should be collected |
| has\_pickup\* | boolean <br> (Fixed) | For a Pickup task, this is fixed to `1` |
| has\_delivery\* | boolean <br> (Fixed) | For a Pickup task this is fixed to `0` |
| layout\_type\* | integer <br> (Fixed) | For a Pickup task this is fixed to `0` |
| tracking\_link | boolean | If this value is `1` it will return a url in the response where the driver's movement can be tracked.if not no url will be returned |
| timezone | string | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330`, for CST: `+360` (CDT: `+300`) |
| pickup\_custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| pickup\_meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| auto\_assignment | boolean | If this value is `1` The task will be auto assigned to the members of the specific team mentioned. or if this value is `0` it will be unassigned task created. |
| fleet\_id | string | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| p\_ref\_images | Array | This is an array of strings containing links of images. |
| notify | integer | This is used to enable the notifications. |
| geofence | integer | This is used to enable the geofencing. |
| tags | string | This is a string containing comma separated tags as filters for agents in auto assignment. |

[**Create a Delivery Task**](https://tookanapi.docs.apiary.io/reference/merchant/create-merchant-task/create-a-delivery-task)

This API is used to create a Delivery Task for merchant.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| merchant\_id\* | string | This is the unique ID given to each merchant. Enter the ID of the merchant whose task you want to create. You can get it from dashboard Menu>More>Merchant. |
| order\_id | string | Your can pass this key as your own transaction number which can be used to identify tasks in tookan |
| job\_description | String | The description of the task to be done |
| job\_pickup\_phone | string | The contact number of the person from whom the pickup should be collected |
| customer\_email | email <br> (optional) | This is email of the customer to whom the product should be delivered |
| customer\_username | String<br>(optional) | This is the name of the customer to whom the product should be delivered |
| customer\_phone | String | This is the contact number of the customer to whom the product should be delivered |
| customer\_address\* | String | This is the address of the customer to whom the product should be delivered |
| latitude | String <br> (optional) | This is the latitiude of the pickup location if you have it. Otherwise leave it blank. We will get it through geocoding API |
| longitude | String <br> (optional) | This is the latitiude of the pickup location if you have it. Otherwise leave it blank. We will get it through geocoding API |
| job\_delivery\_datetime\* | Date/String | This is time before which the product should be delivered |
| has\_pickup\* | boolean<br> (Fixed) | For a delivery task this value is `0` |
| has\_delivery\* | boolean<br> (Fixed) | For a delivery task this value is `1` |
| layout\_type\* | integer<br> (Fixed) | For a delivery task this value is `0` |
| tracking\_link | boolean | If this value is `1` it will return a url in the respone where the driver's movement can be tracked. |
| timezone\* | string | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330` |
| custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| auto\_assignment | boolean | If this value is `1` The task will be auto assigned to the members of the specific team mentioned. or if this value is `0` it will be unassigned task created. |
| fleet\_id | string | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| ref\_images | Array | This is an array of strings containing links of images. |
| notify | integer | This is used to enable the notifications. |
| geofence | integer | This is used to enable the geofencing. |
| tags | string | This is a string containing comma separated tags as filters for agents in auto assignment. |

[**Create a Pickup and Delivery Task**](https://tookanapi.docs.apiary.io/reference/merchant/create-merchant-task/create-a-pickup-and-delivery-task)

This api is used to create Pickup and Delivery task for merchant.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| merchant\_id\* | string | This is the unique ID given to each merchant. Enter the ID of the merchant whose task you want to create. You can get it from dashboard Menu>More>Merchant. |
| order\_id | string | Your can pass this key as your own transaction number which can be used to identify tasks in tookan |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| auto\_assignment | boolean | If this value is `1` The task will be auto assigned to the members of the specific team mentioned. or if this value is `0` it will be unassigned task created. |
| job\_description | String | The description of the task to be done |
| job\_pickup\_phone | string | The contact number of the person from whom the pickup should be collected |
| job\_pickup\_name | string <br> (optional) | The name of the person from whom the pickup should be collected |
| job\_pickup\_email | string <br> (optional) | The email of the person from whom the pickup should be collected |
| job\_pickup\_address\* | string | The address from which the pickup should be collected. |
| job\_pickup\_latitude | string <br> (optional) | This is the latitiude of the pickup location |
| job\_pickup\_longitude | string <br> (optional) | This is the longitude of the pickup location |
| job\_pickup\_datetime\* | string | This is time before which the pickup should be collected |
| pickup\_custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| pickup\_meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| customer\_email | email <br> (optional) | This is email of the customer to whom the product should be delivered |
| customer\_username | String <br> (optional) | This is the name of the customer to whom the product should be delivered |
| customer\_phone | String | This is the contact number of the customer to whom the product should be delivered |
| customer\_address\* | String | This is the address of the customer to whom the product should be delivered |
| latitude | String <br> (optional) | This is the latitiude of the delivery location |
| longitude | String <br> (optional) | This is the longitude of the delivery location |
| job\_delivery\_datetime\* | Date/String | This is time before which the product should be delivered |
| custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| timezone\* | Integer | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330` |
| has\_pickup\* | boolean<br> (Fixed) | For a pickup and delivery task this value is fixed to `1` |
| has\_delivery\* | boolean<br> (Fixed) | For a pickup and delivery task this value is fixed to `1` |
| layout\_type\* | integer<br> (Fixed) | For a pickup and delivery task this value is fixed to `0` |
| tracking\_link | boolean | If this value is `1` it will return a url in the respone where the driver's movement can be tracked. |
| fleet\_id | string | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| p\_ref\_images | Array | (Pickup) This is an array of strings containing links of images. |
| ref\_images | Array | (Delivery) This is an array of strings containing links of images. |
| notify | integer | This is used to enable the notifications. |
| geofence | integer | This is used to enable the geofencing. |
| tags | string | This is a string containing comma separated tags as filters for agents in auto assignment. |
| ride\_type | number | 0 for Non-Pool Task, 1 for Pool Task. |

Response Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| message | string |
| status | number | This should be mapped with the error codes mention in error codes section above. |
| data | Object | This gives the information about the task like pickup\_tracking\_link,delivery\_tracing\_link,job\_id, job\_token,<br>pickup\_hash, delivery\_hash |

[**Create an Appointment Task**](https://tookanapi.docs.apiary.io/reference/merchant/create-merchant-task/create-an-appointment-task)

This api is used to create an Appointment task for merchant.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| merchant\_id\* | string | This is the unique ID given to each merchant. Enter the ID of the merchant whose task you want to create. You can get it from dashboard Menu>More>Merchant. |
| order\_id | string | Your can pass this key as your own transaction number which can be used to identify tasks in tookan |
| customer\_email | email <br> (optional) | Customer email |
| customer\_username | String | customer name to whom the product should be delivered. |
| customer\_phone | String | The contact number of the customer to whom the product should be delivered |
| customer\_address\* | String | The address to which the product should be delivered. |
| latitude | number <br> (optional) | The latitude of the location of customer address |
| longitude | number <br> (optional) | The longitude of the location of customer address |
| job\_description | String | The description of the task to be done |
| job\_pickup\_datetime\* | Date/String | This is the start time of the appointment. |
| job\_delivery\_datetime\* | Date/String | Time before which the appointment should be completed |
| timezone\* | Integer | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330` |
| custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| has\_pickup\* | boolean<br> (Fixed) | For an appointment task this value is fixed to `0` |
| has\_delivery\* | boolean <br> (Fixed) | For an appointment task this value is fixed to `0` |
| layout\_type\* | number <br> (Fixed) | For an appointment task this value is fixed to `1` |
| tracking\_link | boolean | If this value is `1` it will return a url in the respone where the driver's movement can be tracked |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| auto\_assignment | boolean | If this value is `1` The task will be auto assigned to the members of the specific team mentioned. or if this value is `0` it will be unassigned task created. |
| fleet\_id | string | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| ref\_images | Array | This is an array of strings containing links of images. |
| notify | integer | This is used to enable the notifications. |
| geofence | integer | This is used to enable the geofencing. |
| tags | string | This is a string containing comma separated tags as filters for agents in auto assignment. |

## Multiple Merchant Tasks

### Attributes

[**Create Multiple Pickup And Delivery Tasks**](https://tookanapi.docs.apiary.io/reference/merchant/multiple-merchant-tasks/create-multiple-pickup-and-delivery-tasks)

This API is used to create multiple pickup and delivery merchant tasks for the fleets at once.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| merchant\_id\* | string | This is the unique ID given to each merchant. Enter the ID of the merchant whose task you want to create. You can get it from dashboard Menu>More>Merchant. |
| fleet\_id | String | Id of the fleet to which this task is to be assigned, optional. |
| timezone\* | string | Timezone of the country or location in numerical format. Eg - timezone for India = -330. |
| has\_pickup\* | boolean | Boolean key containing 1 if these are pickup tasks. |
| has\_delivery\* | boolean | Boolean key containing 1 if these are delivery tasks. |
| layout\_type\* | string | Set it as 0 (PICKUP\_AND\_DELIVERY), 1 (APPOINTMENT) or 2 (FOS) depending upon the type of layout. |
| geofence | string | This is used to enable the geofencing. |
| auto\_assignment | boolean | Boolean key containing the value 0 if the task is not to be assigned automatically to the fleet. |
| tags | String | This is a string containing comma separated tags as filters for agents in auto assignment. |
| deliveries\* | JSON array | Array of objects containing address, name, job\_description, latitude, longitude, tie, phone, template\_name, template\_data, ref\_images, email, order\_id where address defines the address of the customer to whom the product should be delivered, name defines the name of the customer, job\_description defines the description of the task, latitude defines the latitude of the pickup location if you have it, otherwise leave it blank. We'll get it through geocoding API, longitude and latitude defines the long and lat of the pick up, time defines the time before the pickup should be collected, phone defines the contact number of the customer, template\_name defines the custom fields template name that is predefined in your workflow page in the admin account and you just need to replace space in template with underscore(\_), template\_data defines an array of object containing label and data where label defines the custom field name and data will be his value. (Provided label should be in specified template.),ref\_images defines an array of strings containing links of images,email defines the email of the customer to whom the product should be delivered,order\_id can be passed as your own transaction number which can be used to identify tasks in tookan. |
| pickups\* | JSON array | Array of objects containing address, name, job\_description, latitude, longitude, time, phone, template\_name, template\_data, ref\_images, email, order\_id where address defines the address from which the pickup should be collected, name defines the name of the person from whom the pickup should be collected, job\_description defines the description of the task to be done, latitude and longitude defines the lat and long of the pick up location, time defines the time before which the pickup should be collected,phone defines the contact number of the person from whom the pickup should be collected,template\_name defines the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_), template\_data defines an array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.),ref\_images defines an array of strings containing links of images,email defines the email of the person from whom the pickup should be collected,order\_id can be passed as your own transaction number which can be used to identify tasks in tookan. |

[**Create Multiple Pickup Tasks**](https://tookanapi.docs.apiary.io/reference/merchant/multiple-merchant-tasks/create-multiple-pickup-tasks)

This API is used to create multiple pickup merchant tasks for the fleets at once.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| merchant\_id\* | string | This is the unique ID given to each merchant. Enter the ID of the merchant whose task you want to create. You can get it from dashboard Menu>More>Merchant. |
| fleet\_id | String | Id of the fleet to which this task is to be assigned, optional. |
| timezone\* | string | Timezone of the country or location in numerical format. Eg - timezone for India = -330. |
| has\_pickup\* | boolean | Boolean key containing 1 if these are pickup tasks. |
| has\_delivery\* | boolean | Boolean key containing 1 if these are delivery tasks. |
| layout\_type\* | string | Set it as 0(PICKUP\_AND\_DELIVERY), 1(APPOINTMENT) or 2(FOS) depending upon the type of layout. |
| geofence | string | This is used to enable the geofencing. |
| auto\_assignment | boolean | Boolean key containing the value 0 if the task is not to be assigned automatically to the fleet. |
| tags | String | This is a string containing comma separated tags as filters for agents in auto assignment. |
| pickups\* | JSON array | Array of objects containing address, name, job\_description, latitude, longitude, time, phone, template\_name, template\_data, ref\_images, email, order\_id where address defines the address from which the pickup should be collected, name defines the name of the person from whom the pickup should be collected, job\_description defines the description of the task to be done, latitude and longitude defines the lat and long of the pick up location, time defines the time before which the pickup should be collected,phone defines the contact number of the person from whom the pickup should be collected,template\_name defines the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_), template\_data defines an array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.),ref\_images defines an array of strings containing links of images,email defines the email of the person from whom the pickup should be collected,order\_id can be passed as your own transaction number which can be used to identify tasks in tookan. |

[**Create Multiple Delivery Tasks**](https://tookanapi.docs.apiary.io/reference/merchant/multiple-merchant-tasks/create-multiple-delivery-tasks)

This API is used to create multiple delivery merchant tasks for the fleets at once.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| merchant\_id\* | string | This is the unique ID given to each merchant. Enter the ID of the merchant whose task you want to create. You can get it from dashboard Menu>More>Merchant. |
| fleet\_id | String | Id of the fleet to which this task is to be assigned, optional. |
| timezone\* | string | Timezone of the country or location in numerical format. Eg - timezone for India = -330. |
| has\_pickup\* | boolean | Boolean key containing 1 if these are pickup tasks. |
| has\_delivery\* | boolean | Boolean key containing 1 if these are delivery tasks. |
| layout\_type\* | string | Set it as 0(PICKUP\_AND\_DELIVERY), 1(APPOINTMENT) or 2(FOS) depending upon the type of layout. |
| geofence | string | This is used to enable the geofencing. |
| auto\_assignment | boolean | Boolean key containing the value 0 if the task is not to be assigned automatically to the fleet. |
| tags | String | This is a string containing comma separated tags as filters for agents in auto assignment. |
| deliveries\* | JSON array | Array of objects containing address, name, job\_description, latitude, longitude, tie, phone, template\_name, template\_data, ref\_images, email, order\_id where address defines the address of the customer to whom the product should be delivered, name defines the name of the customer, job\_description defines the description of the task, latitude defines the latitude of the pickup location if you have it, otherwise leave it blank. We'll get it through geocoding API, longitude and latitude defines the long and lat of the pick up, time defines the time before the pickup should be collected, phone defines the contact number of the customer, template\_name defines the custom fields template name that is predefined in your workflow page in the admin account and you just need to replace space in template with underscore(\_), template\_data defines an array of object containing label and data where label defines the custom field name and data will be his value. (Provided label should be in specified template.),ref\_images defines an array of strings containing links of images,email defines the email of the customer to whom the product should be delivered,order\_id can be passed as your own transaction number which can be used to identify tasks in tookan. |

## Edit Merchant Task

### Attributes

[**Edit Merchant Task**](https://tookanapi.docs.apiary.io/reference/merchant/edit-merchant-task/edit-merchant-task)

This api used to edit a task that has already been added to the merchant account.

Request Body Parameters : Every parameter is same as while creating a merchant task the only parameter that should added while editing a task is shown below.

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| job\_id\* | string | This is the unique id given to every job which is returned while creating a task |

## View Merchant Tasks

### Attributes

[**View Merchant Tasks**](https://tookanapi.docs.apiary.io/reference/merchant/view-merchant-tasks/view-merchant-tasks)

This API is used to get all the tasks of merchant as per the filters. Start Date and End Date range refer to Task Date.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_status | number | Filter the list of tasks via their status |
| job\_type\* | number(mandatory) | Filter via Job Type - 0 for Pick Up, 1 for Delivery, 2 for Appointment and 3 for FOS |
| start\_date | number | Start Date for the date range |
| end\_date | number | End Date for the date range |
| custom\_fields | number | You can pass this flag as 1, if you want the custom fields data to be included in the response. default is 0 |
| is\_pagination | Boolean | You can set this as 1 to enable pagination. |
| requested\_page | number | Current(Which) page according to the page number of tasks in the filter. |
| customer\_id | number | Filter the list based on the customer id. |
| fleet\_id | number | Filter the list based on the agent id. |
| job\_id | array | Filter the list based on the job ids. |
| order\_id | array | Filter the list based on the order ids. |
| team\_id | number | Filter the list based on the team id. |
| is\_merchant | number | Set this key to 1. |
| merchant\_id | number | This is the unique ID given to each merchant. Enter the ID of the merchant whose task you want to create. You can get it from dashboard Menu>More>Merchant. |

# Geofence

## Add Region

### Attributes

[**Add Region**](https://tookanapi.docs.apiary.io/reference/geofence/add-region/add-region)

This API is used add regions for fleets.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| region\_name\* | string | This is the name of your region. |
| region\_data\* | string | Enter comma-seperated latitude longitude here that decribe the outline of the region. For Example : "30.71890702340647 76.80553835246496,31.72091770495563 76.81113880488806" |
| region\_description | string | Enter description about your region here/ |
| fleet\_id\* | string | Enter comma-seperated fleet ids here whom you want to assign this region. |
| selected\_team\_id | array | If you want to assign a region to whole team, then enter its team\_id here. |
| user\_id\* | number | You can get it from account details page in [Tookan dashboard](https://app.tookanapp.com/#/app/account). |
| is\_force | 0/1 (optional) | If the region is overlapping with other regions, the response will be a error message with status 410. If you still want to create this geofence, then set this parameter to 1. |

## Edit Region

### Attributes

[**Edit Region**](https://tookanapi.docs.apiary.io/reference/geofence/edit-region/edit-region)

This API is used to edit a geofence's details.

Request Body Parameters : Every parameter is same as while adding a region the only parameter that should added while editing a region is shown below.

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| region\_id\* | number | You can get region ids using the View Regions api. |

## View Regions

### Attributes

[**View Regions**](https://tookanapi.docs.apiary.io/reference/geofence/view-regions/view-regions)

This API is used to view the Geofences and their respective agents.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_id\* | number | You can get it from account details page in [Tookan dashboard](https://app.tookanapp.com/#/app/account). |
| region\_id | number(Optional) | This will get the data of particular Geofence region. You can get this region id from the response when all Geofences called. |

## View Region Details

### Attributes

[**View Region Details**](https://tookanapi.docs.apiary.io/reference/geofence/view-region-details/view-region-details)

This API is used to view a particular region's details.

Requset Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_id\* | number | You can get it from account details page in [Tookan dashboard](https://app.tookanapp.com/#/app/account). |
| region\_id | number | You can get region ids using the View Regions api. |

## Remove Region For Agent

### Attributes

[**Remove Region For Agent**](https://tookanapi.docs.apiary.io/reference/geofence/remove-region-for-agent/remove-region-for-agent)

This API is used to remove a region for a particular agent/fleet/driver.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_id\* | number | You can get it from account details page in [Tookan dashboard](https://app.tookanapp.com/#/app/account). |
| region\_id\* | number | You can get region ids using the View Regions api. |
| fleet\_id\* | string | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |

## Delete Region

### Attributes

[**Delete Region**](https://tookanapi.docs.apiary.io/reference/geofence/delete-region/delete-region)

This API is used to delete a region.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_id\* | number | You can get it from account details page in [Tookan dashboard](https://app.tookanapp.com/#/app/account). |
| region\_id\* | number | You can get region ids using the View Regions api. |

## Find Region From Points

### Attributes

[**Find Region From Points**](https://tookanapi.docs.apiary.io/reference/geofence/find-region-from-points/find-region-from-points)

This API is used to find geofence region using latitude and longitude as points.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| points\* | JSON array | Array containing latitude and longitude. |

# Mission

A mission consists of multiple tasks belonging to multiple workflows (Pickup & Delivery/ Appointments/ Field Workforce) and each could be assigned to multiple agents. So, if a business has such a diverse need, then instead of creating multiple individual tasks it can create just one ‘Mission’. Once the mission is dispatched for assignment, agents are assigned corresponding to their workflow. As the mission is in progress, you can track the overall status of the mission as well as the status of the individual tasks within each mission.

## Create Mission Task

### Attributes

[**Create Mission Task**](https://tookanapi.docs.apiary.io/reference/mission/create-mission-task/create-mission-task)

This API is used to create a Mission.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| mission\_name\* | string | This is the name of your mission. |
| create\_task\_body | json obect | This is same as the create multiple tasks request body. Enter the array of pickups, delivery and appointments you want to create. |
| end\_date\* | string | Enter end date of your mission in (YYYY-MM-DD) format. |
| start\_date\* | string | Enter start date of your mission in (YYYY-MM-DD) format. |
| dispatched\_status | number | Set this value to 0 if you want to save mission as a draft, otherwise set 1. |

## Mission List

### Attributes

[**Mission List**](https://tookanapi.docs.apiary.io/reference/mission/mission-list/mission-list)

This API is used to view the list of mission owned by admin.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| end\_date\* | string | Enter end date of your mission in (YYYY-MM-DD) format. |
| start\_date\* | string | Enter start date of your mission in (YYYY-MM-DD) format. |

## Delete Mission

### Attributes

[**Delete Mission**](https://tookanapi.docs.apiary.io/reference/mission/delete-mission/delete-mission)

This API is used to delete a mission.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| mission\_id\* | number | This is the unique Id assigned to a mission. You can get in using the "Mission List" Api. |

# Webhook

We can POST following data to your url upon status update. You can use job\_id and job\_status to detect the state and update accordingly at your end. For verifying the request, you can compare tookan\_shared\_secret param. We can set it to a key provided by you and upon web hook call, you can check if it is the same which you have shared and verify that requests are coming from Tookan.
Append ?task\_history=1 at the end of the URL, if you want to include task history in the webhook data. You can customize these webhook URLs from the notifications section in the dashboard.

- Sample Webhook POST data:


```
    {
        "job_latitude": "37.7913917",
        "fleet_email": "JonSnow@example.com",
        "is_routed": "0",
        "job_type": "1",
        "team_id": "56",
        "auto_assignment": "0",
        "job_description": "adsfasd",
        "timezone": "-330",
        "fleet_rating": "0",
        "user_id": "1",
        "job_id": "236365",
        "job_state": "Successful",
        "has_delivery": "1",
        "pickup_delivery_relationship": "cd7dd3e12424de76141787af773782c9100",
        "job_hash": "c48fcd2646c282ad3576e9b096c1d798",
        "job_address": "114, Sansome St Ste 250, San Francisco, CA, USA",
        "job_pickup_latitude": "30.7397101",
        "job_pickup_name": "Jon Snow",
        "job_status": "2",
        "sign_image": "https://app.tookanapp.com",
        "customer_username": "sesas",
        "customer_email": "",
        "order_id": "",
        "customer_comment": "",
        "customer_phone": "+13334445555",
        "is_active": "1",
        "job_longitude": "-122.4008504",
        "dispatcher_id": "",
        "job_pickup_longitude": "-122.4008504",
        "is_customer_rated": "0",
        "completed_by_admin": "0",
        "customer_id": "1074",
        "tookan_shared_secret": "",
        "total_distance_travelled": "0",
        "total_time_spent_at_task_till_completion": "15",
        "session_id": "",
        "has_pickup": "1",
        "job_token": "cd7dd3e12424de76141787af773782c9100",
        "job_pickup_address": "CDCL,MadhyaMarg,Chandigarh,India",
        "job_pickup_phone": "+917837173739",
        "fleet_id": "3635",
        "fleet_name": "SumeetRana",
        "job_pickup_email": "sumeet@clicklabs.in",
        "custom_fields": [\
            {\
                "label": "Customer_Name",\
                "value": 1,\
                "required": 1,\
                "data_type": "Text",\
                "app_side": 1,\
                "data": "",\
                "template_id": "booking_information",\
                "item_id": 0,\
                "fleet_data": "harry"\
            },\
            {\
                "label": "CustomerImage",\
                "value": 1,\
                "required": 1,\
                "data_type": "Image",\
                "app_side": 1,\
                "data": "",\
                "template_id": "booking_information",\
                "item_id": 0,\
                "fleet_data": "['https: //tookan.s3.amazonaws.com/task_images/zJOw1452514280545-TOOKAN_11012016_053825.jpg']"\
            },\
            {\
                "label": "Vehicle_selected",\
                "value": 1,\
                "required": 1,\
                "data_type": "Dropdown",\
                "app_side": 1,\
                "data": "Bike, Van, Truck",\
                "template_id": "booking_information",\
                "item_id": 0,\
                "dropdown": [\
                    {\
                        "id": 0,\
                        "value": "Bike"\
                    },\
                    {\
                        "id": 1,\
                        "value": " Van"\
                    },\
                    {\
                        "id": 2,\
                        "value": " Truck"\
                    }\
                ]\
            },\
            {\
                "label": "Date",\
                "value": 1,\
                "required": 1,\
                "data_type": "Date",\
                "app_side": 1,\
                "data": "",\
                "template_id": "booking_information",\
                "item_id": 0\
            },\
            {\
                "label": "Amount",\
                "value": 1,\
                "required": 1,\
                "data_type": "Number",\
                "app_side": 1,\
                "data": "",\
                "template_id": "booking_information",\
                "item_id": 0\
            },\
            {\
                "label": "Gender",\
                "value": 1,\
                "required": 1,\
                "data_type": "Dropdown",\
                "app_side": 0,\
                "data": "Male,Female",\
                "template_id": "booking_information",\
                "item_id": 0,\
                "dropdown": [\
                    {\
                        "id": 0,\
                        "value": "Male"\
                    },\
                    {\
                        "id": 1,\
                        "value": "Female"\
                    }\
                ]\
            },\
            {\
                "label": "Gender",\
                "value": 1,\
                "required": 1,\
                "data_type": "Dropdown",\
                "app_side": 1,\
                "data": "Male,Female",\
                "template_id": "booking_information",\
                "item_id": 0,\
                "dropdown": [\
                    {\
                        "id": 0,\
                        "value": "Male"\
                    },\
                    {\
                        "id": 1,\
                        "value": "Female"\
                    }\
                ]\
            },\
            {\
                "label": "ID_Image",\
                "value": 1,\
                "required": 1,\
                "data_type": "Image",\
                "app_side": 1,\
                "data": "",\
                "template_id": "booking_information",\
                "item_id": 0,\
                "fleet_data": "['https: //tookan.s3.amazonaws.com/task_images/PZyQ1452514382208-TOOKAN_11012016_054006.jpg']"\
            }\
        ],
        "task_history": [\
            {\
                "id": 235973,\
                "job_id": 85185,\
                "fleet_id": 3829,\
                "fleet_name": "bobby singh",\
                "latitude": "30.7192552",\
                "longitude": "76.8102558",\
                "type": "state_changed",\
                "description": "Status updated from Assigned to Unassigned",\
                "creation_datetime": "2016-01-11T09:34:17.000Z"\
            },\
            {\
                "id": 236365,\
                "job_id": 85185,\
                "fleet_id": 3635,\
                "fleet_name": "Rusty B",\
                "latitude": "30.7193512",\
                "longitude": "76.8102679",\
                "type": "state_changed",\
                "description": "Accepted at",\
                "creation_datetime": "2016-01-11T12:11:02.000Z"\
            },\
            {\
                "id": 236366,\
                "job_id": 85185,\
                "fleet_id": 3635,\
                "fleet_name": "Rusty B",\
                "latitude": "30.7193512",\
                "longitude": "76.8102679",\
                "type": "state_changed",\
                "description": "Started at",\
                "creation_datetime": "2016-01-11T12:11:04.000Z"\
            },\
            {\
                "id": 236367,\
                "job_id": 85185,\
                "fleet_id": 3635\
                "fleet_name": "Rusty B",\
                "latitude": "30.7195829",\
                "longitude": "76.8101409",\
                "type": "state_changed",\
                "description": "Arrived at",\
                "creation_datetime": "2016-01-11T12:11:07.000Z"\
            },\
            {\
                "id": 236368,\
                "job_id": 85185,\
                "fleet_id": 3635,\
                "fleet_name": "Rusty B",\
                "latitude": "30.7183782",\
                "longitude": "76.8096116",\
                "type": "custom_field_updated",\
                "description": "\
                    {\
                        'label':'CustomerImage',\
                        'value':1,'required':1,\
                        'data_type':'Image',\
                        'app_side':1,\
                        'data':'',\
                        'template_id':'booking_information',\
                        'item_id':0,\
                        'fleet_data':'https: //tookan.s3.amazonaws.com/task_images/zJOw1452514280545-TOOKAN_11012016_053825.jpg'\
                    }",\
                "creation_datetime": "2016-01-11T12:12:46.000Z"\
            },\
            {\
                "id": 236376,\
                "job_id": 85185,\
                "fleet_id": 3635,\
                "fleet_name": "Rusty B",\
                "latitude": "30.7183782",\
                "longitude": "76.8096116",\
                "type": "text_added",\
                "description": "vcvvvv",\
                "creation_datetime": "2016-01-11T12:13:14.000Z"\
            },\
            {\
                "id": 236377,\
                "job_id": 85185,\
                "fleet_id": 3635,\
                "fleet_name": "Rusty B",\
                "latitude": "30.7194513",\
                "longitude": "76.8103432",\
                "type": "image_added",\
                "description": "https://tookan.s3.amazonaws.com/acknowledgement_images/JhTU1452514406350-TOOKAN_11012016_054030.jpg",\
                "creation_datetime": "2016-01-11T12:13:27.000Z"\
            },\
            {\
                "id": 236378,\
                "job_id": 85185,\
                "fleet_id": 3635,\
                "fleet_name": "Rusty B",\
                "latitude": "30.7194513",\
                "longitude": "76.8103432",\
                "type": "signature_image_added",\
                "description": "https://tookan.s3.amazonaws.com/acknowledgement_images/srA51452514416346-task_signature.png",\
                "creation_datetime": "2016-01-11T12:13:36.000Z"\
            },\
            {\
                "id": 236379,\
                "job_id": 85185,\
                "fleet_id": 3635,\
                "fleet_name": "Rusty B",\
                "latitude": "30.7194513",\
                "longitude": "76.8103432",\
                "type": "state_changed",\
                "description": "Successful at",\
                "creation_datetime": "2016-01-11T12:13:42.000Z"\
            }\
        ]
    }
```


## Tookan Shared Secret

### Attributes

[**Set Tookan Shared Secret**](https://tookanapi.docs.apiary.io/reference/webhook/tookan-shared-secret/set-tookan-shared-secret)

This API is used to set Tookan Shared Secret for Webhook data validation.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| tookan\_shared\_secret | string | Tookan Shared Secret Value |

# Logistics

## Adding a Hub

### Attributes

[**Create Hubs**](https://tookanapi.docs.apiary.io/reference/logistics/adding-a-hub/create-hubs)

This API is used to create and add a hub.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key\* | String | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| hub\_name\* | String | Name of the hub. |
| hub\_address\* | String | Address of the hub. |
| hub\_latitude\* | String | Latitude corresponding to the hub you wish to create. |
| hub\_longitude\* | String | Latitude corresponding to the hub you wish to create. |
| sub\_admin\_ids\* | Array | Subadmin ID/s managing the hub. |
| team\_ids\* | Array | ID of the team Id linked to the hub. |
| hub\_radius\* | Number | Radius of the hub in kilometers. |

## Editing a Hub

### Attributes

[**Edit Hubs**](https://tookanapi.docs.apiary.io/reference/logistics/editing-a-hub/edit-hubs)

This API is used to edit hub parameters like name, address, latitude, longitude, radius.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key\* | String | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| hub\_id\* | Number | ID of the hub to Update. |
| is\_delete\* | Number | Set to 1 if deleting certain params, and 0 incase of UPDATION/MODIFICATION of hub details. |
| is\_hub\_updated\* | Number | Set to 1 in order to update or delete a hub. |
| hub\_name | String | Name of the updated hub (Optional). |
| hub\_address | String | Address of the updated hub (Optional). |
| hub\_latitude | String | Latitude corresponding to the hub you wish to update (Optional). |
| hub\_longitude | String | Latitude corresponding to the hub you wish to update (Optional). |
| hub\_radius | Number | Radius of the updated hub in kilometers (Optional). |

Switch between example and interactive console for customized API calls.

Switch to Console

### No action selected

You can try selecting ‘Create a Pickup Task’ from the left column.

[Learn more about using the documentation.](https://help.apiary.io/tools/interactive-documentation/)

### No action selected

To try out Console, please select an action. E.g. select ‘Create a Pickup Task’ from the left column.

[Learn more about using the documentation.](https://help.apiary.io/tools/interactive-documentation/)

# Tookan API · Apiary



# Untitled Section

FORMAT: 1A
HOST: https://api.tookanapp.com/v2

\# Tookan API

\- The Tookan API is a RESTful web service for developers to programmatically interact with Tookan’s data and real-time delivery management functionality.

\- Every bit of data exchanged between clients and the API is JSON over HTTPS.

\- The base URL for the Tookan API is https://api.tookanapp.com , all the requests on this url use post method and we need to add the specific end points mentioned below to this URL. Example, if you want to create a task in Tookan, you will Post to the below API: https://api.tookanapp.com/v2/create\_task

\- All sample requests in this documentation are formatted for cURL.

\- API key is mandatory in all the API's request.

\- All parameters marked with \* are mandatory otherwise optional.

\- If you have questions about using the API, want to share some feedback, or have come across a bug you'd like to report, write us an email at contact@tookanapp.com or submit a request through our Support Center.

\- Tookan API uses key based authentication method. You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key from v2 section.

\### Data Types & Response Format

The API we have follows all the following DATATYPES and Response Formats.

\- Throughout the api the date format we recommend is YYYY-MM-DD HH:MM:SS. Explore http://gr2m.github.io/moment-parseformat/ for more formats.
\- The response format will be JSON having status, message and data key.

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\### Error Codes

When something is wrong with a request, the API will respond with a non-\`200\` status code in the response. To help you better understand the problem, where possible, the API overloads a number of different error codes so your application logic has as much visibility as possible into what has gone wrong.

 \`100\` -- PARAMETER\_MISSING

 \`101\` -- INVALID\_KEY

 \`200\` -- ACTION\_COMPLETE

 \`201\` -- SHOW\_ERROR\_MESSAGE

 \`404\` -- ERROR\_IN\_EXECUTION

\### Timezones

How are timezones handled in Tookan?

\- Here is the link to find your timezone

https://timezones.tookanapp.com

\- In Dashboard

When a task is created from Tookan Dashboard the local time zone from where the task is being created is considered.

Example: Let’s say a task is created in Singapore, the time zone considered is GMT +8hrs.

\- In Bulk Upload

In the case of bulk upload of tasks, the time zone of the admin account is taken into consideration while tasks are created.

Example: Let’s say an admin in the US(say A for convenience) has created a manager(say M) in India. When this manager(M) creates tasks using the bulk upload the timezone of Admin(A) and tasks are created in US TimeZone.

\- Using Tookan API

Tookan API accepts a request body parameter named “timezone” which is the Timezone difference with UTC in minutes. When a task is created with local time(say X), and timezone(+Y). Y minutes are added to X to make it UTC time.

\- How to get the Timezone difference with UTC in minutes?

Let’s say I am creating a task in India’s time which is five and half hours ahead of UTC time (+05:30), convert five and half hours into minutes i.e 330 minutes. Since India’s time is ahead of UTC time to convert it into UTC time 330 minutes has to be subtracted from it. So, timezone is -330.

\### Task Statuses

Below mentioned are the values of the \`job\_status\` parameters of the respective Task Status:

|     |     |     |
| --- | --- | --- |
| **Status** | **Value** | **Description** |
| Assigned | `0` | The task has been assigned to a agent. |
| Started | `1` | The task has been started and the agent is on the way. This will appear as a light-blue pin on the map and as a rectangle in the assigned category on the left. |
| Successful | `2` | The task has been completed successfully and will appear as a green pin on the map and as a rectangle in the completed category on the left. |
| Failed | `3` | The task has been completed unsuccessfully and will appear as red pin on the map and as a rectangle in the completed category on the left. |
| InProgress/Arrived | `4` | The task is being performed and the agent has reached the destination. This will appear as a dark-blue pin on the map and as a rectangle in the assigned category on the left. |
| Unassigned | `6` | The task has not been assigned to any agent and will appear as a grey pin on the map and as a rectangle in the unassigned category on the left. |
| Accepted/Acknowledged | `7` | The task has been accepted by the agent which is assigned to him. |
| Decline | `8` | The task has been declined by the agent which is assigned to him. |
| Cancel | `9` | The task has been cancelled by the agent which is accepted by him. |
| Deleted | `10` | When the task is deleted from the Dashboard. |

\### Custom Fields

We support a variety of Custom Fields/Data Types which you can create and manage from the Templates section from your Tookan Dashboard. As described below, you can utilize the "meta\_data" key in the /create\_task API calls, to send custom data for each task. "meta\_data" or "pickup\_meta\_data" key should be detailed as follows -

1\. Array of Objects, where each Object consists of two keys - "label" - which is the name of the custom field key, as shown in the template settings page and "data" with the value of that key. Both the keys should be of string Data Type.
For ex -

 \[{\
 "label": "Price",\
 "data":"10"\
 }\]

2\. All the Custom Field Data Types work in the similar fashion, except the following -

 a. Checklist

 {
 "label": "PackageType",
 "data":"A,B,C"
 }

 comma separated values that you want to display in task details. If you skip the "label" or "data" key, it will populate the checklist as per the template settings.

 b. Tables

 {
 "label": "DeliveryDetails",
 "data":\[\
 \["car","123"\],\
 \["bike","234"\],\
 \["scooter","456"\]\
 \]
 }

 data key should be a 2D Array, with the number of each element in the parent array are different rows and each element in the child arrays are values of each key, as per your template table settings. If you send different number of elements in any particular row, then the complete row will be ignored. For sending the location datatype within a table, you can send the value in the following format -

 {
 lat" :"22.44",
 "lng":"34.4555",
 "add":"srilanka"
 }

 So, in this case, a sample row would look like this -

 \[\
 "car",\
 "123",\
 {\
 "lat":"22.44",\
 "lng":"34.4555",\
 "add":"srilanka\
 }\
 \]

 c. Barcode Verification

 {
 "label":"barode\_custom\_field",
 "data":\[\
 {\
 "display\_name":"Barcode1",\
 "data":"data1",\
 "is\_verified":0\
 },\
 {\
 "display\_name":"Barcode2",\
 "data":"data2",\
 "is\_verified":1\
 }\
 \]
}

You can pass the array of objects and each object should contains these keys and act as a one barcode value.

If you have any questions regarding Custom Fields, you can reach out to us, with your questions on support@tookanapp.com

\### NPM Module

Refer to Tookan's NPM Module **[tookan-api](https://www.npmjs.com/package/tookan-api)** to directly access tookan's APIs.

\# Group Task

\## Create Task \[/create\_task\]

There are different types of tasks can be created inside Tookan depending on the workflow you have selected in your account for e.g. - pick & delivery task, appointment task etc. Please refer to appropriate API below according to your requirement. In case of any doubt, feel free to reach out to us at contact@tookanapp.com.

\### Create a Pickup Task \[POST\]

This API is used to create a pickup task.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| order\_id | string | Your can pass this key as your own transaction number which can be used to identify tasks in tookan |
| job\_description | String | The description of the task to be done |
| job\_pickup\_phone | string | The contact number of the person from whom the pickup should be collected |
| job\_pickup\_name | string<br>(optional) | The name of the person from whom the pickup should be collected |
| job\_pickup\_email | string <br> (optional) | The email of the person from whom the pickup should be collected |
| job\_pickup\_address\* | string | The address from which the pickup should be collected. |
| job\_pickup\_latitude | string <br> (optional) | This is the latitiude of the pickup location |
| job\_pickup\_longitude | string <br> (optional) | This is the longitude of the pickup location |
| job\_pickup\_datetime\* | string | This is time before which the pickup should be collected |
| has\_pickup\* | boolean <br> (Fixed) | For a Pickup task, this is fixed to `1` |
| has\_delivery\* | boolean <br> (Fixed) | For a Pickup task this is fixed to `0` |
| layout\_type\* | integer <br> (Fixed) | For a Pickup task this is fixed to `0` |
| tracking\_link | boolean | If this value is `1` it will return a url in the response where the driver's movement can be tracked.if not no url will be returned |
| timezone\* | string | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330`, for CST: `+360` (CDT: `+300`) |
| pickup\_custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| pickup\_meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| auto\_assignment | boolean | If this value is `1` The task will be auto assigned to the members of the specific team mentioned. or if this value is `0` it will be unassigned task created. |
| fleet\_id | string | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| p\_ref\_images | Array | This is an array of strings containing links of images. |
| notify | integer | This is used to enable the notifications. |
| geofence | integer | This is used to enable the geofencing. |
| ignore\_customer\_lat\_long | integer | This is used to add address sent in request body otherwise tookan fetch customer by phone number saved in tookan database and use that customer adddress . |
| pickup\_job\_validate\_otp | Number | 4-digit OTP is allowed & It should start from 1000 onwards. Applicable only if Validate OTP extension is enabled. |
| Barcode | string | Use this key to add Barcode to the Task |
| tags | string | This is a string containing comma separated tags as filters for agents in auto assignment. |

\+ Request (application/json)

 {
 "api\_key":"2b997be77e2cc22becfd4c66426ef504",
 "order\_id":"654321",
 "job\_description":"groceries delivery",
 "job\_pickup\_phone":"+1201555555",
 "job\_pickup\_name":"7 Eleven Store",
 "job\_pickup\_email":"",
 "job\_pickup\_address":"114, sansome street, San Francisco",
 "job\_pickup\_latitude":"30.7188978",
 "job\_pickup\_longitude":"76.810296",
 "job\_pickup\_datetime":"2016-08-14 19:00:00",
 "pickup\_custom\_field\_template":"Template\_1",
 "pickup\_meta\_data": \[{"label":"Price","data":"100"},{"label":"Quantity","data":"100"}\],
 "team\_id":"",
 "auto\_assignment":"0",
 "has\_pickup":"1",
 "has\_delivery":"0",
 "layout\_type":"0",
 "tracking\_link":1,
 "timezone":"300",
 "fleet\_id":"",
 "p\_ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],
 "notify":1,
 "tags":"",
 "barcode" : "11225544777",
 "geofence":0
 }

\+ Response 200 (application/json)

 \+ Body

 {
 "message": "Successful",
 "status": 200,
 "data": {
 "tracking\_link": "http://bit.ly/1LwzMJS",
 "job\_id": 5265,
 "job\_hash": "f02aac468aebde6ef46ed90532b4a417",
 "job\_token": "1444849200000",
 "job\_pickup\_name": "7 Eleven Store",
 "job\_pickup\_address": "frigate bay 1",
 "geofence\_details": \[{\
 "region\_id": 5215,\
 "region\_name": "CHD"\
 }\],
 }
 }

\### Create a Delivery Task \[POST\]

This API is used to create a Delivery Task.

Body Parameters :

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| order\_id | string | Your can pass this key as your own transaction number which can be used to identify tasks in tookan |
| job\_description | String | The description of the task to be done |
| customer\_email | email <br> (optional) | This is email of the customer to whom the product should be delivered |
| customer\_username | String<br>(optional) | This is the name of the customer to whom the product should be delivered |
| customer\_phone | String | This is the contact number of the customer to whom the product should be delivered |
| customer\_address\* | String | This is the address of the customer to whom the product should be delivered |
| latitude | String <br> (optional) | This is the latitiude of the pickup location if you have it. Otherwise leave it blank. We will get it through geocoding API |
| longitude | String <br> (optional) | This is the latitiude of the pickup location if you have it. Otherwise leave it blank. We will get it through geocoding API |
| job\_delivery\_datetime\* | Date/String | This is time before which the product should be delivered |
| has\_pickup\* | boolean<br> (Fixed) | For a delivery task this value is `0` |
| has\_delivery\* | boolean<br> (Fixed) | For a delivery task this value is `1` |
| layout\_type\* | integer<br> (Fixed) | For a delivery task this value is `0` |
| tracking\_link | boolean | If this value is `1` it will return a url in the respone where the driver's movement can be tracked. |
| timezone\* | string | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330` |
| custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| auto\_assignment | boolean | If this value is `1` The task will be auto assigned to the members of the specific team mentioned. or if this value is `0` it will be unassigned task created. |
| fleet\_id | string | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| ref\_images | Array | This is an array of strings containing links of images. |
| notify | integer | This is used to enable the notifications. |
| geofence | integer | This is used to enable the geofencing. |
| ignore\_customer\_lat\_long | integer | This is used to add address sent in request body otherwise tookan fetch customer by phone number saved in tookan database and use that customer adddress . |
| job\_validate\_otp | Number | 4-digit Otp is allowed & It should start from 1000 onwards. Applicable only if Validate OTP extension is enabled. |
| Barcode | string | Use this key to add Barcode to the Task |
| tags | string | This is a string containing comma separated tags as filters for agents in auto assignment. |

\+ Request (application/json)

 {
 "api\_key":"2b997be77e2cc22becfd4c66426ef504",
 "order\_id":"654321",
 "job\_description":"groceries delivery",
 "customer\_email":"john@example.com",
 "customer\_username":"John Doe",
 "customer\_phone":"+12015555555",
 "customer\_address":"frigate bay 2",
 "latitude":"30.7188978",
 "longitude":"76.810298",
 "job\_delivery\_datetime":"2016-08-14 21:00:00",
 "custom\_field\_template":"Template\_1",
 "meta\_data": \[{"label":"Price","data":"100"},{"label":"Quantity","data":"100"}\],
 "team\_id":"",
 "auto\_assignment":"0",
 "has\_pickup":"0",
 "has\_delivery":"1",
 "layout\_type":"0",
 "tracking\_link":1,
 "timezone":"-330",
 "fleet\_id":"636",
 "ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png","http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],
 "notify":1,
 "tags":"",
 "barcode" : "11225544777",
 "geofence":0
 }

\+ Response 200 (application/json)

 \+ Body

 {
 "message": "Successful",
 "status": 200,
 "data": {
 "tracking\_link": "http://bit.ly/1OqtCS9",
 "job\_id": 5268,
 "job\_hash": "6e419074d9cbaa2ec52754e852b91e21",
 "job\_token": "1444856400000",
 "customer\_name": "John Doe",
 "customer\_address": "frigate bay 2",
 "geofence\_details": \[{\
 "region\_id": 5215,\
 "region\_name": "CHD"\
 }\],
 }
 }

\### Create a Pickup and Delivery Task \[POST\]

This api is used to create Pickup and delivery task.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| order\_id | string | Your can pass this key as your own transaction number which can be used to identify tasks in tookan |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| auto\_assignment | boolean | If this value is `1` The task will be auto assigned to the members of the specific team mentioned. or if this value is `0` it will be unassigned task created. |
| job\_description | String | The description of the task to be done |
| job\_pickup\_phone | string | The contact number of the person from whom the pickup should be collected |
| job\_pickup\_name | string <br> (optional) | The name of the person from whom the pickup should be collected |
| job\_pickup\_email | string <br> (optional) | The email of the person from whom the pickup should be collected |
| job\_pickup\_address\* | string | The address from which the pickup should be collected. |
| job\_pickup\_latitude | string <br> (optional) | This is the latitiude of the pickup location |
| job\_pickup\_longitude | string <br> (optional) | This is the longitude of the pickup location |
| job\_pickup\_datetime\* | string | This is time before which the pickup should be collected |
| pickup\_custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| pickup\_meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| customer\_email | email <br> (optional) | This is email of the customer to whom the product should be delivered |
| customer\_username | String <br> (optional) | This is the name of the customer to whom the product should be delivered |
| customer\_phone | String | This is the contact number of the customer to whom the product should be delivered |
| customer\_address\* | String | This is the address of the customer to whom the product should be delivered |
| latitude | String <br> (optional) | This is the latitiude of the delivery location |
| longitude | String <br> (optional) | This is the longitude of the delivery location |
| job\_delivery\_datetime\* | Date/String | This is time before which the product should be delivered |
| custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| timezone\* | Integer | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330` |
| has\_pickup\* | boolean<br> (Fixed) | For a pickup and delivery task this value is fixed to `1` |
| has\_delivery\* | boolean<br> (Fixed) | For a pickup and delivery task this value is fixed to `1` |
| layout\_type\* | integer<br> (Fixed) | For a pickup and delivery task this value is fixed to `0` |
| tracking\_link | boolean | If this value is `1` it will return a url in the respone where the driver's movement can be tracked. |
| fleet\_id | string | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| p\_ref\_images | Array | (Pickup) This is an array of strings containing links of images. |
| ref\_images | Array | (Delivery) This is an array of strings containing links of images. |
| notify | integer | This is used to enable the notifications. |
| geofence | integer | This is used to enable the geofencing. |
| ignore\_customer\_lat\_long | integer | This is used to add address sent in request body otherwise tookan fetch customer by phone number saved in tookan database and use that customer adddress . |
| tags | string | This is a string containing comma separated tags as filters for agents in auto assignment. |
| ignore\_validate\_otp | Number | 1 - OTP won't be required, 0 - OTP will be required. Applicable only if Validate OTP extension is enabled. Default value is 0. |
| pickup\_job\_validate\_otp | Number | 4-digit OTP is allowed & It should start from 1000 onwards. Applicable only if Validate OTP extension is enabled. |
| job\_validate\_otp | Number | 4-digit Otp is allowed & It should start from 1000 onwards. Applicable only if Validate OTP extension is enabled. |
| ride\_type | number | 0 for Non-Pool Task, 1 for Pool Task. |

Response Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| message | string |
| status | number | This should be mapped with the error codes mention in error codes section above. |
| data | Object | This gives the information about the task like pickup\_tracking\_link,delivery\_tracing\_link,job\_id, job\_token,<br>pickup\_hash, delivery\_hash |

\+ Request (application/json)

 {
 "api\_key":"2b997be77e2cc22becfd4c66426ef504",
 "order\_id":"654321",
 "team\_id":"",
 "auto\_assignment":"0",
 "job\_description":"groceries delivery",
 "job\_pickup\_phone":"+1201555555",
 "job\_pickup\_name":"7 Eleven Store",
 "job\_pickup\_email":"",
 "job\_pickup\_address":"frigate bay 1",
 "job\_pickup\_latitude":"30.7188978",
 "job\_pickup\_longitude":"76.810296",
 "job\_pickup\_datetime":"2016-08-14 19:00:00",
 "customer\_email":"john@example.com",
 "customer\_username":"John Doe",
 "customer\_phone":"+12015555555",
 "customer\_address":"frigate bay 2",
 "latitude":"30.7188978",
 "longitude":"76.810298",
 "job\_delivery\_datetime":"2016-08-14 21:00:00",
 "has\_pickup":"1",
 "has\_delivery":"1",
 "layout\_type":"0",
 "tracking\_link":1,
 "timezone":"-330",
 "custom\_field\_template":"Template\_1",
 "meta\_data": \[{"label":"Price","data":"100"},{"label":"Quantity","data":"100"}\],
 "pickup\_custom\_field\_template":"Template\_2",
 "pickup\_meta\_data": \[{"label":"Price","data":"100"},{"label":"Quantity","data":"100"}\],
 "fleet\_id":"",
 "p\_ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png","http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],
 "ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png","http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],
 "notify":1,
 "tags":"",
 "geofence":0,
 "ride\_type":0
 }

\+ Response 200 (application/json)

 \+ Body

 {
 "message": "Successful",
 "status": 200,
 "data": {
 "pickup\_tracking\_link": "http://bit.ly/1htQjX9",
 "delivery\_tracing\_link": "http://bit.ly/1jSBizX",
 "job\_id": 5233,
 "job\_token": "1444849200000",
 "pickup\_hash": "e70c492a098f1e741bd47c44ba5a8530",
 "delivery\_hash": "f30a06756a922ee36b3fcc58ec5072ea",
 "customer\_name": "John Doe",
 "customer\_address": "frigate bay 2",
 "geofence\_details": \[{\
 "region\_id": 5215,\
 "region\_name": "CHD"\
 }\],
 }
 }

\### Create an Appointment Task \[POST\]

This api is used to create an appointment task.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| order\_id | string | Your can pass this key as your own transaction number which can be used to identify tasks in tookan |
| customer\_email | email <br> (optional) | Customer email |
| customer\_username | String | customer name to whom the product should be delivered. |
| customer\_phone | String | The contact number of the customer to whom the product should be delivered |
| customer\_address\* | String | The address to which the product should be delivered. |
| latitude | number <br> (optional) | The latitude of the location of customer address |
| longitude | number <br> (optional) | The longitude of the location of customer address |
| job\_description | String | The description of the task to be done |
| job\_pickup\_datetime\* | Date/String | This is the start time of the appointment. |
| job\_delivery\_datetime\* | Date/String | Time before which the appointment should be completed |
| timezone\* | Integer | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330` |
| custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| has\_pickup\* | boolean<br> (Fixed) | For an appointment task this value is fixed to `0` |
| has\_delivery\* | boolean <br> (Fixed) | For an appointment task this value is fixed to `0` |
| layout\_type\* | number <br> (Fixed) | For an appointment task this value is fixed to `1` |
| tracking\_link | boolean | If this value is `1` it will return a url in the respone where the driver's movement can be tracked |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| auto\_assignment | boolean | If this value is `1` The task will be auto assigned to the members of the specific team mentioned. or if this value is `0` it will be unassigned task created. |
| fleet\_id | string | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| ref\_images | Array | This is an array of strings containing links of images. |
| notify | integer | This is used to enable the notifications. |
| geofence | integer | This is used to enable the geofencing. |
| ignore\_customer\_lat\_long | integer | This is used to add address sent in request body otherwise tookan fetch customer by phone number saved in tookan database and use that customer adddress . |
| tags | string | This is a string containing comma separated tags as filters for agents in auto assignment. |

\+ Request (application/json)

 {
 "customer\_email":"john@example.com",
 "order\_id":"654321",
 "customer\_username":"John Doe",
 "customer\_phone":"+919999999999",
 "customer\_address":"Powai Lake, Powai, Mumbai, Maharashtra, India",
 "latitude":"28.5494489",
 "longitude":"77.2001368",
 "job\_description":"Beauty services",
 "job\_pickup\_datetime":"2016-10-30 16:00:00",
 "job\_delivery\_datetime":"2016-10-30 17:00:00",
 "has\_pickup":"0",
 "has\_delivery":"0",
 "layout\_type":"1",
 "tracking\_link":1,
 "timezone":"-330",
 "custom\_field\_template":"Template\_1",
 "meta\_data": \[{"label":"Price","data":"100"},{"label":"Quantity","data":"100"}\],
 "api\_key":"2b997be77e2cc22becfd4c66426ef504",
 "team\_id":"",
 "auto\_assignment":"0",
 "fleet\_id":"",
 "ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png","http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],
 "notify":1,
 "tags":"",
 "geofence":0
 }

\+ Response 200 (application/json)

 \+ Body

 {
 "message": "Successful",
 "status": 200,
 "data": {
 "tracking\_link": "http://bit.ly/1GA4z7e",
 "job\_id": 5236,
 "job\_hash": "67657b3ed35c5548d7806d9eafd22e43",
 "job\_token": "1446220800000",
 "customer\_name": "John Doe",
 "customer\_address": "Powai Lake, Powai, Mumbai, Maharashtra, India",
 "geofence\_details": \[{\
 "region\_id": 5215,\
 "region\_name": "CHD"\
 }\],
 }
 }

\### Create a Field Workforce Task \[POST\]

This api is used to create a field workforce task.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| order\_id | string | Your can pass this key as your own transaction number which can be used to identify tasks in tookan |
| customer\_email | email <br> (optional) | Customer email |
| customer\_username | String | customer name to whom the product should be delivered. |
| customer\_phone | String | The contact number of the customer to whom the product should be delivered |
| customer\_address\* | String | The address to which the product should be delivered. |
| latitude | number <br> (optional) | The latitude of the location of customer address |
| longitude | number <br> (optional) | The longitude of the location of customer address |
| job\_description | String | The description of the task to be done |
| job\_pickup\_datetime\* | Date/String | This is the start time of the appointment. |
| job\_delivery\_datetime\* | Date/String | Time before which the appointment should be completed |
| timezone\* | Integer | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330` |
| custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| has\_pickup\* | boolean<br> (Fixed) | For an appointment task this value is fixed to `0` |
| has\_delivery\* | boolean <br> (Fixed) | For an appointment task this value is fixed to `0` |
| layout\_type\* | number <br> (Fixed) | For an field workforce task this value is fixed to `2` |
| tracking\_link | boolean | If this value is `1` it will return a url in the respone where the driver's movement can be tracked |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| auto\_assignment | boolean | If this value is `1` The task will be auto assigned to the members of the specific team mentioned. or if this value is `0` it will be unassigned task created. |
| fleet\_id | string | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| ref\_images | Array | This is an array of strings containing links of images. |
| notify | integer | This is used to enable the notifications. |
| geofence | integer | This is used to enable the geofencing. |
| ignore\_customer\_lat\_long | integer | This is used to add address sent in request body otherwise tookan fetch customer by phone number saved in tookan database and use that customer adddress . |
| tags | string | This is a string containing comma separated tags as filters for agents in auto assignment. |

\+ Request (application/json)

 {
 "customer\_email":"john@example.com",
 "order\_id":"654321",
 "customer\_username":"John Doe",
 "customer\_phone":"+919999999999",
 "customer\_address":"Powai Lake, Powai, Mumbai, Maharashtra, India",
 "latitude":"28.5494489",
 "longitude":"77.2001368",
 "job\_description":"Beauty services",
 "job\_pickup\_datetime":"2016-10-30 16:00:00",
 "job\_delivery\_datetime":"2016-10-30 17:00:00",
 "has\_pickup":"0",
 "has\_delivery":"0",
 "layout\_type":"2",
 "tracking\_link":1,
 "timezone":"-330",
 "custom\_field\_template":"Template\_1",
 "meta\_data": \[{"label":"Price","data":"100"},{"label":"Quantity","data":"100"}\],
 "api\_key":"2b997be77e2cc22becfd4c66426ef504",
 "team\_id":"",
 "auto\_assignment":"0",
 "fleet\_id":"",
 "ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png","http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],
 "notify":1,
 "tags":"",
 "geofence":0
 }

\+ Response 200 (application/json)

 \+ Body

 {
 "message": "Successful",
 "status": 200,
 "data": {
 "tracking\_link": "http://bit.ly/1GA4z7e",
 "job\_id": 5236,
 "job\_hash": "67657b3ed35c5548d7806d9eafd22e43",
 "job\_token": "1446220800000",
 "customer\_name": "John Doe",
 "customer\_address": "Powai Lake, Powai, Mumbai, Maharashtra, India",
 "geofence\_details": \[{\
 "region\_id": 5215,\
 "region\_name": "CHD"\
 }\],
 }
 }

\## Create Multiple Tasks \[/create\_multiple\_tasks\]

\### Create Multiple Pickup And Delivery Tasks \[POST\]
This API is used to create multiple pickup and delivery tasks for the fleets at once.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id | String | Id of the fleet to which this task is to be assigned, optional. |
| timezone | string | Timezone of the country or location in numerical format. Eg - timezone for India = -330. |
| has\_pickup | boolean | Boolean key containing 1 if these are pickup tasks. |
| has\_delivery | boolean | Boolean key containing 1 if these are delivery tasks. |
| layout\_type | string | Set it as 0 (PICKUP\_AND\_DELIVERY), 1 (APPOINTMENT) or 2 (FOS) depending upon the type of layout. |
| geofence | string | This is used to enable the geofencing. |
| ignore\_customer\_lat\_long | integer | This is used to add address sent in request body otherwise tookan fetch customer by phone number saved in tookan database and use that customer adddress . |
| auto\_assignment | boolean | Boolean key containing the value 0 if the task is not to be assigned automatically to the fleet. |
| tags | String | This is a string containing comma separated tags as filters for agents in auto assignment. |
| ignore\_validate\_otp | Number | 1 - OTP won't be required, 0 - OTP will be required. Applicable only if Validate OTP extension is enabled. Default value is 0. |
| deliveries | JSON array | Array of objects containing address, name, job\_description, latitude, longitude, tie, phone, template\_name, template\_data, ref\_images, email, order\_id where address defines the address of the customer to whom the product should be delivered, name defines the name of the customer, job\_description defines the description of the task, latitude defines the latitude of the pickup location if you have it, otherwise leave it blank. We'll get it through geocoding API, longitude and latitude defines the long and lat of the pick up, time defines the time before the pickup should be collected, phone defines the contact number of the customer, template\_name defines the custom fields template name that is predefined in your workflow page in the admin account and you just need to replace space in template with underscore(\_), template\_data defines an array of object containing label and data where label defines the custom field name and data will be his value. (Provided label should be in specified template.),ref\_images defines an array of strings containing links of images,email defines the email of the customer to whom the product should be delivered,order\_id can be passed as your own transaction number which can be used to identify tasks in tookan. |
| pickups\* | JSON array | Array of objects containing address, name, job\_description, latitude, longitude, time, phone, template\_name, template\_data, ref\_images, email, order\_id where address defines the address from which the pickup should be collected, name defines the name of the person from whom the pickup should be collected, job\_description defines the description of the task to be done, latitude and longitude defines the lat and long of the pick up location, time defines the time before which the pickup should be collected,phone defines the contact number of the person from whom the pickup should be collected,template\_name defines the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_), template\_data defines an array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.),ref\_images defines an array of strings containing links of images,email defines the email of the person from whom the pickup should be collected,order\_id can be passed as your own transaction number which can be used to identify tasks in tookan. |

\+ Request (application/json)

 {
 "api\_key": "c3e46bc0bbdc2d6cdf22f4dae426581259435bd522fd98b30f5baf939b9ce2ba",
 "fleet\_id": 19750,
 "timezone": -330,
 "has\_pickup": 1,
 "has\_delivery": 1,
 "layout\_type": 0,
 "geofence": 0,
 "team\_id":"",
 "auto\_assignment": 0,
 "tags": "",
 "pickups": \[{\
 "address": "Chandigarh International Airport, Sahibzada Ajit Singh Nagar, Punjab, India",\
 "latitude": 30.7333148,\
 "longitude": 76.7794179,\
 "time": "2017-08-14 17:24:00",\
 "phone": "+911234567890",\
 "job\_description":"",\
 "template\_name": "Template\_1",\
 "template\_data": \[{\
 "label": "Price",\
 "data": "100"\
 }, {\
 "label": "Quantity",\
 "data": "100"\
 }\],\
 "ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],\
 "name": "Saurabh",\
 "email": "saurabh@saurabh.com",\
 "order\_id": "12234556",\
 "job\_description": "Job description goes here"\
 }\],
 "deliveries": \[{\
 "address": "Chandigarh Railway Station, Daria, Chandigarh, India",\
 "latitude": 30.7022191,\
 "longitude": 76.82247009999992,\
 "time": "2017-08-14 17:30:00",\
 "phone": "+913242342342",\
 "job\_description":"",\
 "template\_name": "Template\_1",\
 "template\_data": \[\
 {\
 "label": "Price",\
 "data": "100"\
 },\
 {\
 "label": "Quantity",\
 "data": "100"\
 }\
 \],\
 "ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],\
 "name": "Saurabh",\
 "email": "saurabh@saurabh.com",\
 "order\_id": "123456",\
 "job\_description": "Job description goes here"\
 }\]
 }


\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":{
 "pickups":\[{\
 "job\_id":254737,\
 "job\_hash":"fc0f4e89d604a180bcb33a5aebdcd146",\
 "job\_token":"25473715022796802388950",\
 "status":true,\
 "auto\_assignment\_data":0,\
 "order\_id":"12234556",\
 "result\_tracking\_link":"https://goo.gl/53jKDJ",\
 "new\_agent\_task\_insertion\_data":\[\]}\],
 "deliveries":\[{\
 "job\_id":254738,\
 "job\_hash":"bc41a6e7dcfd3716d8540fbcd6e32fb9",\
 "job\_token":"25473715022796802388950",\
 "status":true,\
 "auto\_assignment\_data":0,\
 "order\_id":"123456",\
 "result\_tracking\_link":"https://goo.gl/r3Gj4L",\
 "new\_agent\_task\_insertion\_data":\[\]}\]
 "geofence\_details":\[{\
 "region\_id":5215,\
 "region\_name":"CHD"}\]
 }
 }

\### Create Multiple Pickup Tasks \[POST\]
This API is used to create multiple pickup tasks for the fleets at once.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id | String | Id of the fleet to which this task is to be assigned, optional. |
| timezone\* | string | Timezone of the country or location in numerical format. Eg - timezone for India = -330. |
| has\_pickup\* | boolean | Boolean key containing 1 if these are pickup tasks. |
| has\_delivery\* | boolean | Boolean key containing 1 if these are delivery tasks. |
| layout\_type\* | string | Set it as 0(PICKUP\_AND\_DELIVERY), 1(APPOINTMENT) or 2(FOS) depending upon the type of layout. |
| geofence | string | This is used to enable the geofencing. |
| ignore\_customer\_lat\_long | integer | This is used to add address sent in request body otherwise tookan fetch customer by phone number saved in tookan database and use that customer adddress . |
| auto\_assignment | boolean | Boolean key containing the value 0 if the task is not to be assigned automatically to the fleet. |
| tags | String | This is a string containing comma separated tags as filters for agents in auto assignment. |
| pickups\* | JSON array | Array of objects containing address, name, job\_description, latitude, longitude, time, phone, template\_name, template\_data, ref\_images, email, order\_id where address defines the address from which the pickup should be collected, name defines the name of the person from whom the pickup should be collected, job\_description defines the description of the task to be done, latitude and longitude defines the lat and long of the pick up location, time defines the time before which the pickup should be collected,phone defines the contact number of the person from whom the pickup should be collected,template\_name defines the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_), template\_data defines an array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.),ref\_images defines an array of strings containing links of images,email defines the email of the person from whom the pickup should be collected,order\_id can be passed as your own transaction number which can be used to identify tasks in tookan. |

\+ Request (application/json)

 {
 "api\_key": "c3e46bc0bbdc2d6cdf22f4dae426581259435bd522fd98b30f5baf939b9ce2ba",
 "fleet\_id": "",
 "timezone": -330,
 "has\_pickup": 1,
 "has\_delivery": 0,
 "layout\_type": 0,
 "geofence": 0,
 "auto\_assignment": 0,
 "team\_id":"",
 "tags": "",
 "pickups": \[{\
 "address": "Chandigarh International Airport, Sahibzada Ajit Singh Nagar, Punjab, India",\
 "name": "Saurabh",\
 "latitude": "30.7333148",\
 "longitude": "76.7794179",\
 "time": "2017-08-14 17:29:00",\
 "phone": "+911234567890",\
 "job\_description":"",\
 "template\_name": "Template\_1",\
 "template\_data": \[\
 {\
 "label": "Price",\
 "data": "100"\
 },\
 {\
 "label": "Quantity",\
 "data": "100"\
 }\
 \],\
 "ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],\
 "order\_id": "123456",\
 "job\_description": "Job description goes here"\
 }\]
 }


\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":{
 "pickups":\[{\
 "job\_id":254746,\
 "job\_hash":"4e77cf8abc38bb1a81facaf7e4499550",\
 "job\_token":"25474615022800065310310",\
 "status":true,\
 "auto\_assignment\_data":0,\
 "order\_id":"123456",\
 "result\_tracking\_link":"https://goo.gl/GMYjmy",\
 "new\_agent\_task\_insertion\_data":\[\]}\]
 "geofence\_details":\[{\
 "region\_id":5215,\
 "region\_name":"CHD"}\]
 }
 }

\### Create Multiple Delivery Tasks \[POST\]

This API is used to create multiple delivery tasks for the fleets at once.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id | String | Id of the fleet to which this task is to be assigned, optional. |
| timezone\* | string | Timezone of the country or location in numerical format. Eg - timezone for India = -330. |
| has\_pickup\* | boolean | Boolean key containing 1 if these are pickup tasks. |
| has\_delivery\* | boolean | Boolean key containing 1 if these are delivery tasks. |
| layout\_type\* | string | Set it as 0(PICKUP\_AND\_DELIVERY), 1(APPOINTMENT) or 2(FOS) depending upon the type of layout. |
| geofence | string | This is used to enable the geofencing. |
| ignore\_customer\_lat\_long | integer | This is used to add address sent in request body otherwise tookan fetch customer by phone number saved in tookan database and use that customer adddress . |
| auto\_assignment | boolean | Boolean key containing the value 0 if the task is not to be assigned automatically to the fleet. |
| tags | String | This is a string containing comma separated tags as filters for agents in auto assignment. |
| deliveries\* | JSON array | Array of objects containing address, name, job\_description, latitude, longitude, tie, phone, template\_name, template\_data, ref\_images, email, order\_id where address defines the address of the customer to whom the product should be delivered, name defines the name of the customer, job\_description defines the description of the task, latitude defines the latitude of the pickup location if you have it, otherwise leave it blank. We'll get it through geocoding API, longitude and latitude defines the long and lat of the pick up, time defines the time before the pickup should be collected, phone defines the contact number of the customer, template\_name defines the custom fields template name that is predefined in your workflow page in the admin account and you just need to replace space in template with underscore(\_), template\_data defines an array of object containing label and data where label defines the custom field name and data will be his value. (Provided label should be in specified template.),ref\_images defines an array of strings containing links of images,email defines the email of the customer to whom the product should be delivered,order\_id can be passed as your own transaction number which can be used to identify tasks in tookan. |

\+ Request (application/json)

 {
 "api\_key": "c3e46bc0bbdc2d6cdf22f4dae426581259435bd522fd98b30f5baf939b9ce2ba",
 "fleet\_id": "",
 "timezone": -330,
 "has\_pickup": 0,
 "has\_delivery": 1,
 "layout\_type": 0,
 "geofence": 0,
 "team\_id":"",
 "auto\_assignment": 0,
 "tags": "",
 "deliveries": \[{\
 "address": "Chandigarh International Airport, Sahibzada Ajit Singh Nagar, Punjab, India",\
 "name": "Saurabh",\
 "latitude": 30.66776609999999,\
 "longitude": 76.78622870000004,\
 "time": "2017-08-14 17:31:00",\
 "phone": "+911234567890",\
 "job\_description":"",\
 "template\_name": "Template\_1",\
 "template\_data": \[\
 {\
 "label": "Price",\
 "data": "100"\
 },\
 {\
 "label": "Quantity",\
 "data": "100"\
 }\
 \],\
 "ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],\
 "email": null,\
 "order\_id": "123345566",\
 "job\_description": "Job description goes here"\
 }\]
 }


\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":
 {
 "deliveries":\[\
 {\
 "job\_id":254751,\
 "job\_hash":"5e0e634e7bd29fe36319b53617698a2a",\
 "job\_token":"25475115022801325504460",\
 "status":true,\
 "auto\_assignment\_data":0,\
 "order\_id":"123345566",\
 "result\_tracking\_link":"https://goo.gl/agt8MV",\
 "new\_agent\_task\_insertion\_data":\[\]\
 }\
 \]
 "geofence\_details":\[{\
 "region\_id":5215,\
 "region\_name":"CHD"\
 }\]
 }
 }

\## Create Task From CSV \[/import\_bulk\_tasks\_csv\]

\### Create Tasks From CSV \[POST\]

This API is used to create tasks from CSV.

Request File Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| tasks\_csv | file | File with extension .csv that contains tasks in proper format as described in “Create Task” |

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| timezone\* | Integer | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330` |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| auto\_assignment | boolean (optional) | If this value is `1` The task will be auto assigned to the members of the specific team mentioned. or if this value is `0` it will be unassigned task created. |
| notify | integer (optional) | This is used to enable the notifications. |
| geofence | integer (optional) | This is used to enable the geofencing. |
| tags | string (optional) | This is a string containing comma separated tags as filters for agents in auto assignment. |
| p\_c\_f | string (optional) | Pickup custom field, used to define the custom field in csv for pickup. |
| d\_c\_f | string (optional) | Delivery custom field, used to define the custom field in csv for delivery. |
| search\_add\_on | integer (optional) | This is used to enable search add on (if applicable) |

\+ Request (appliation/json)

 {
 "api\_key":"eaac56717958fa6664a9c5a0a29a43810a0fcda90be26a3e023b2f70f9ffa05",
 "timezone":"-330",
 "team\_id":126,

 "notify":1,
 "geofence":0,
 "tags":"basic, premium",
 "p\_c\_f":"Pickups",
 "d\_c\_f":"Deliveries",
 "search\_add\_on":0
 }

\+ Response 200 (application/json)

 {
 "message":"ACTION\_COMPLETE\_2",
 "Status":205,
 "Data":{}
 }

\## Create Task For Form User \[/create\_task\_for\_form\_user\]

\### Create Tasks For Form User \[POST\]

This API is used to create tasks for form user.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| timezone\* | string | Timezone of the country or location in numerical format. Eg - timezone for India = -330. |
| has\_pickup\* | boolean | Boolean key containing 1 if these are pickup tasks. |
| has\_delivery\* | boolean | Boolean key containing 1 if these are delivery tasks. |
| layout\_type\* | string | Set it as 0 (PICKUP\_AND\_DELIVERY), 1 (APPOINTMENT) or 2 (FOS) depending upon the type of layout. |
| deliveries\* | JSON array | Array of objects containing address, name, job\_description, latitude, longitude, tie, phone, template\_name, template\_data, ref\_images, email, order\_id where address defines the address of the customer to whom the product should be delivered, name defines the name of the customer, job\_description defines the description of the task, latitude defines the latitude of the pickup location if you have it, otherwise leave it blank. We'll get it through geocoding API, longitude and latitude defines the long and lat of the pick up, time defines the time before the pickup should be collected, phone defines the contact number of the customer, template\_name defines the custom fields template name that is predefined in your workflow page in the admin account and you just need to replace space in template with underscore(\_), template\_data defines an array of object containing label and data where label defines the custom field name and data will be his value. (Provided label should be in specified template.),ref\_images defines an array of strings containing links of images,email defines the email of the customer to whom the product should be delivered,order\_id can be passed as your own transaction number which can be used to identify tasks in tookan. |
| pickups\* | JSON array | Array of objects containing address, name, job\_description, latitude, longitude, time, phone, template\_name, template\_data, ref\_images, email, order\_id where address defines the address from which the pickup should be collected, name defines the name of the person from whom the pickup should be collected, job\_description defines the description of the task to be done, latitude and longitude defines the lat and long of the pick up location, time defines the time before which the pickup should be collected,phone defines the contact number of the person from whom the pickup should be collected,template\_name defines the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_), template\_data defines an array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.),ref\_images defines an array of strings containing links of images,email defines the email of the person from whom the pickup should be collected,order\_id can be passed as your own transaction number which can be used to identify tasks in tookan. |
| is\_multiple\_tasks\* | boolean | Boolean key containing 1. |
| vendor\_email\_id\* | email | Registered email of form user. |
| domain\_name\* | string | Domain name of form. |

\+ Request (appliation/json)

 {
 "api\_key": "YOUR\_API\_KEY",
 "timezone": -330,
 "has\_pickup": 1,
 "has\_delivery": 1,
 "layout\_type": 0,
 "deliveries": \[{\
 "address": "Chandigarh International Airport, Sahibzada Ajit Singh Nagar, Punjab, India",\
 "name": "Saurabh",\
 "latitude": 30.66776609999999,\
 "longitude": 76.78622870000004,\
 "time": "2017-08-14 17:31:00",\
 "phone": "+911234567890",\
 "template\_name": "Template\_1",\
 "template\_data": \[\
 {\
 "label": "Price",\
 "data": "100"\
 },\
 {\
 "label": "Quantity",\
 "data": "100"\
 }\
 \],\
 "ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],\
 "email": null,\
 "job\_description": "Job description goes here"\
 }\],
 "pickups": \[{\
 "address": "Chandigarh International Airport, Sahibzada Ajit Singh Nagar, Punjab, India",\
 "name": "Saurabh",\
 "latitude": "30.7333148",\
 "longitude": "76.7794179",\
 "time": "2017-08-14 17:29:00",\
 "phone": "+911234567890",\
 "template\_name": "Template\_1",\
 "template\_data": \[\
 {\
 "label": "Price",\
 "data": "100"\
 },\
 {\
 "label": "Quantity",\
 "data": "100"\
 }\
 \],\
 "ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],\
 "job\_description": "Job description goes here"\
 }\]
 "is\_multiple\_tasks" : 1,
 "vendor\_email\_id" : "nadeem@jungleworks.in",
 "domain\_name" : "Your domain name"
 }



\+ Response 200 (application/json)
{
 "message": "Successful",
 "status": 200,
 "data": {
 "pickups": \[\
 {\
 "job\_id": 351378,\
 "job\_hash": "1997e140c50a99556b69756147cad219",\
 "job\_token": "35137815413251963435918",\
 "status": true,\
 "auto\_assignment\_data": 0,\
 "order\_id": "12234556",\
 "result\_tracking\_link": "https://k7ggd.app.goo.gl/XkPsGQ",\
 "new\_agent\_task\_insertion\_data": \[\]\
 }\
 \],
 "deliveries": \[\
 {\
 "job\_id": 351379,\
 "job\_hash": "23dccbd6038ba110ae91813360e1ba80",\
 "job\_token": "35137815413251963435918",\
 "status": true,\
 "auto\_assignment\_data": 0,\
 "order\_id": "123456",\
 "result\_tracking\_link": "https://k7ggd.app.goo.gl/K7FeQ3",\
 "new\_agent\_task\_insertion\_data": \[\]\
 }\
 \]
 }
}

\## Get Task Details \[/get\_job\_details\]

\### Get Task Details \[POST\]

This api is used to get the details of the task.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_ids\* | array | You can get it from task details. You can send 100 job id's in single request. |
| include\_task\_history | number | Enter 1, if you want task history. Otherwise, enter 0 in the key. |
| job\_additional\_info | number | Enter 1, if you want Job Additional Details. Otherwise, enter 0 in the key. |
| include\_job\_report | number | Enter 1, if you want to retreive the Job report. Otherwise, enter 0 in the key. |

\+ Request (application/json)

 {
 "api\_key":"2b997be77e2cc22becfd4c66426ef504",
 "job\_ids":\[5145, 1234\],
 "include\_task\_history": 0,
 "job\_additional\_info" : 1,
 "include\_job\_report" : 0
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": \[\
 {\
 "job\_details\_by\_fleet": 189,\
 "fleet\_id": 189,\
 "fleet\_name": "Chandra",\
 "user\_id": 222,\
 "customer\_username": "Joey Tribianni",\
 "customer\_phone": "+91 99869 06722",\
 "customer\_email": "Joey@yahoo.com",\
 "is\_customer\_rated": 0,\
 "customer\_comment": "",\
 "customer\_rating": 0,\
 "job\_pickup\_email": null,\
 "job\_pickup\_name": "",\
 "job\_pickup\_phone": "0",\
 "job\_latitude": "43.87274070000001",\
 "job\_longitude": "-79.320782",\
 "job\_address": "36 Pennock Crescent,Unionville,L3R,3M4 CA",\
 "job\_status": 0,\
 "job\_description": "#7717700",\
 "has\_pickup": 0,\
 "completed\_by\_admin": 0,\
 "pickup\_delivery\_relationship": "1444471200000",\
 "job\_pickup\_datetime": "Invalid date",\
 "job\_id": 5145,\
 "job\_delivery\_datetime": "12/06/2017 10:00 am",\
 "job\_type": 1,\
 "job\_pickup\_latitude": "0",\
 "job\_pickup\_longitude": "0",\
 "job\_pickup\_address": "",\
 "job\_acknowledge\_text": null,\
 "job\_acknowledge\_status": 0,\
 "job\_acknowledge\_image": null,\
 "started\_datetime": "",\
 "started\_datetime\_utc": "2017-12-06 12:29:47",\
 "started\_datetime\_local": "2017-12-06 17:59:47",\
 "completed\_datetime\_utc": "2017-12-06 12:37:16",\
 "completed\_datetime\_local": "2017-12-06 18:07:16",\
 "arrived\_datetime\_utc": "2017-12-06 12:37:16",\
 "arrived\_datetime\_local": "2017-12-06 18:07:16",\
 "acknowledged\_datetime\_utc": "2017-12-06 12:27:26",\
 "acknowledged\_datetime\_local": "2017-12-06 17:57:26",\
 "completed\_datetime": "",\
 "arrived\_datetime": "",\
 "acknowledged\_datetime": "",\
 "total\_distance\_travelled": "0",\
 "tracking\_link": "https://jngl.ml/5bCScff",\
 "task\_history": \[\]\
 }\
 \]
 }

\## Get Task From Order ID \[/get\_job\_details\_by\_order\_id\]

\### Get Task Details From Order ID \[POST\]

This api is used to get the details of the task.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| order\_ids\* | array | This will be set by you. |
| include\_task\_history | number | Enter 1, if you want task history. Otherwise, enter 0 in the key. |

\+ Request (application/json)

 {
 "api\_key":"7fed9dc6f41eb088bb49ab5344685d13",
 "order\_ids":\["P000469","123"\],
 "include\_task\_history": 0
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": \[\
 {\
 "job\_details\_by\_fleet": 189,\
 "user\_id": 222,\
 "customer\_username": "Joey Tribianni",\
 "customer\_phone": "+91 99869 06722",\
 "customer\_email": "Joey@yahoo.com",\
 "is\_customer\_rated": 0,\
 "customer\_comment": "",\
 "customer\_rating": 0,\
 "job\_pickup\_email": null,\
 "job\_pickup\_name": "",\
 "job\_pickup\_phone": "0",\
 "job\_latitude": "43.87274070000001",\
 "job\_longitude": "-79.320782",\
 "job\_address": "36 Pennock Crescent,Unionville,L3R,3M4 CA",\
 "job\_status": 0,\
 "job\_description": "#7717700",\
 "has\_pickup": 0,\
 "completed\_by\_admin": 0,\
 "pickup\_delivery\_relationship": "1444471200000",\
 "job\_pickup\_datetime": "Invalid date",\
 "job\_id": 5145,\
 "job\_delivery\_datetime": "12/06/2017 10:00 am",\
 "job\_type": 1,\
 "job\_pickup\_latitude": "0",\
 "job\_pickup\_longitude": "0",\
 "job\_pickup\_address": "",\
 "job\_acknowledge\_text": null,\
 "job\_acknowledge\_status": 0,\
 "job\_acknowledge\_image": null,\
 "started\_datetime": "",\
 "completed\_datetime": "",\
 "started\_datetime\_utc": "2017-12-06 12:29:47",\
 "started\_datetime\_local": "2017-12-06 17:59:47",\
 "completed\_datetime\_utc": "2017-12-06 12:37:16",\
 "completed\_datetime\_local": "2017-12-06 18:07:16",\
 "arrived\_datetime\_utc": "2017-12-06 12:37:16",\
 "arrived\_datetime\_local": "2017-12-06 18:07:16",\
 "acknowledged\_datetime\_utc": "2017-12-06 12:27:26",\
 "acknowledged\_datetime\_local": "2017-12-06 17:57:26",\
 "arrived\_datetime": "",\
 "acknowledged\_datetime": "",\
 "total\_distance\_travelled": "0",\
 "total\_time\_spent\_at\_task\_till\_completion" : "15",\
 "fleet\_id": 189,\
 "tracking\_link": "https://app.tookanapp.com/tracking/index.html?jobID=39802dace6589590ac5ab771f2cae4ba",\
 "custom\_field": \[\
 {\
 "label": "Price Test",\
 "value": "true",\
 "required": "true",\
 "data\_type": "Number",\
 "app\_side": "Get Fleet Input",\
 "data": ""\
 },\
 {\
 "label": "what happened",\
 "value": "true",\
 "required": "true",\
 "data\_type": "Text",\
 "app\_side": "Get Fleet Input",\
 "data": ""\
 },\
 {\
 "label": "wfwef",\
 "value": "true",\
 "required": "false",\
 "data\_type": "Text",\
 "app\_side": "Get Fleet Input",\
 "data": ""\
 }\
 \]\
 },\
 "task\_history": \[\]\
 }\
 \]
 }

\## Edit Task \[/edit\_task\]

\### Edit Task \[POST\]

This api used to edit a task that has already been added.

Request Body Parameters : Every parameter is same as while creating a task the only parameters that should added while editing a task is shown below.

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| job\_id\* | string | This is the unique id given to every job which is returned while creating a task |
| meta\_data | string | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template |
| custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |

\+ Request (application/json)

 {
 "customer\_email":"john@example.com",
 "customer\_username":"John Doe",
 "customer\_phone":"+919999999999",
 "customer\_address":"Powai Lake, Powai, Mumbai, Maharashtra, India",
 "latitude":"28.5494489",
 "longitude":"77.2001368",
 "job\_description":"Beauty services",
 "job\_pickup\_datetime":"2016-09-30 16:00:00",
 "job\_delivery\_datetime":"2016-09-30 17:00:00",
 "has\_pickup":"0",
 "has\_delivery":"0",
 "layout\_type":"1",
 "tracking\_link":1,
 "timezone":"-330",
 "api\_key":"2b997be77e2cc22becfd4c66426ef504",
 "job\_id":2952,
 "notify": 1
 }

\+ Response 200 (application/json)

 \+ Body

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\## Edit Multiple Tasks \[/edit\_multiple\_tasks\]

\### Edit Multiple Tasks \[POST\]

This API is used to edit multiple tasks that are already added. It takes as input the array of pickup and delivery tasks and one by one updates their data.

Request Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| pickups\* | json array | This json array contains the pickup tasks the you want to edit. The format of each pickup task is same as defined in the create multiple tasks section. |
| deliveries\* | json array | This json array contains the delivery tasks the you want to edit. The format of each delivery task is same as defined in the create multiple tasks section. |

\+ Request (application/json)

 {
 "api\_key":"7fed9dc6f41eb088bb49ab5344685d13",
 "pickups":\[{\
 "job\_id":"123344",\
 "address": "Chandigarh International Airport, Sahibzada Ajit Singh Nagar, Punjab, India",\
 "latitude": 30.7333148,\
 "longitude": 76.7794179,\
 "time": "2017-08-14 17:24:00",\
 "phone": "+911234567890"\
 }\],
 "deliveries":\[{\
 "job\_id":"123345",\
 "address": "Chandigarh Railway Station, Daria, Chandigarh, India",\
 "latitude": 30.7022191,\
 "longitude": 76.82247009999992,\
 "time": "2017-08-14 17:30:00",\
 "phone": "+913242342342"\
 }\]
 }

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":{}
 }

\## Change Task Datetime \[/change\_job\_date\]

\### Change Task Datetime \[POST\]

This API is used to change datetime of multiple tasks that are already added. It takes as input the array of task id's and one by one update the datetime for all the tasks.

Request Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_ids\* | array | This array contains the task id's the you want to edit. |
| layout\_type\* | number | For Pickup & Delivery, it's value is 0. For Appointment, it's value is 1. For FOS, it's value is 2. |
| start\_time\* | datetime | Enter the datetime of the pickup tasks. For Appointment/FOS, it refers to start time of the task. |
| end\_time\* | datetime | Enter the datetime of the delivery tasks. For Appointment/FOS, it refers to end time of the task. |

\+ Request (application/json)

 {
 "api\_key": "55646583f01653421d142e7a4204414e2cdfb2bd57a3b5f",
 "job\_ids": \[\
 "3360",\
 "3368",\
 "3967"\
 \],
 "layout\_type": 0,
 "start\_time": "2019-04-26 11:00:00",
 "end\_time": "2019-04-26 11:30:00"
}

\+ Response 200 (application/json)

 {
 "message":"Bulk Date Change is in progress. It may take a few seconds.",
 "status":200,
 "data":{}
 }

\## Delete Task \[/delete\_task\]

\### Delete Task \[POST\]

This API is used to Delete a task which is not necessary.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_id\* | number | You can get it from task details. |

\+ Request (application/json)

 {
 "api\_key": "2b997be77e2cc22becfd4c66426ef504",
 "job\_id": "2755"
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\## Update Task Status \[/update\_task\_status\]

\### Update Task Status \[POST\]

This API is used to force update the status of a task.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_id\* | string (single or comma separated values) | You can get it from task details. |
| job\_status\* | number | Refer status codes section above for various statuses available. |

\+ Request (application/json)

 {
 "api\_key": "2b997be77e2cc22becfd4c66426ef504",
 "job\_id": "5145",
 "job\_status": "2"
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\## Ready to Dispatch \[/ready\_to\_dispatch\]

\### Ready to Dispatch \[POST\]

Upon requested, this API sends push notifications to the Agent Application following the assignment of an agent to a designated task. Additionally, it sends a webhook aligned with the "Ready to dispatch" event.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_id\* | number | You can get it from task details. |
| message | string | You can specify a custom push message. |

\+ Request (application/json)

 {
 "api\_key": "2b997be77e2cc22becfd4c66426ef504",
 "job\_id": "5145",
 "message" : "Hey the Order is ready to pickup at location"
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\## Start Task \[/start\_task\]

\### Start Task \[POST\]

This API is used to change the status of a task that has already been created to "start".

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_id\* | string | You can get it from task details. (single or comma separated values) |
| job\_status\* | number (fixed) | Set this value to “1” to start the task. |

\+ Request (application/json)

 {
 "api\_key": "2b997be77e2cc22becfd4c66426ef504",
 "job\_id": "5145",
 "job\_status": "1"
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\## Cancel Task \[/cancel\_task\]

\### Cancel Task \[POST\]

This API is used to change the status of a task that has already been created to "cancelled".

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_id\* | string | You can get it from task details. (single or comma separated values) |
| job\_status\* | number (fixed) | Set this value to “9” to start the task. |

\+ Request (application/json)

 {
 "api\_key": "2b997be77e2cc22becfd4c66426ef504",
 "job\_id": "5145",
 "job\_status": "9"
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\## Assign task \[/assign\_task\]

\### Assign Task \[POST\]

This API is used to assign/reassign a unassigned/assigned task or an assigned task to Agent.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_id\* | number | You can get it from task details. |
| fleet\_id | number | You can get it from your tookan account or you can use 'Get All Agents' API for retrieving list from your account. |
| team\_id\* | number | You can get it from your tookan account in teams section. |
| job\_status | string | Refer status codes section above for various statuses available. |

\+ Request (application/json)

 {
 "api\_key": "2b997be77e2cc22becfd4c66426ef504",
 "job\_id": "5145",
 "fleet\_id": "",
 "team\_id":"",
 "job\_status": "2"
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\## AutoAssign Task \[/re\_autoassign\_task\]

\### AutoAssign Task \[POST\]

This API is used to auto-assign an unassigned/assigned task. Only tasks that have `auto_assignment` enabled will be auto-assigned through this API.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings (Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_id\* | number | This is the id of the task you want to auto assign. You can get it from task details. |

\+ Request (application/json)

 {
 "api\_key":"2b997be77e2cc22becfd4c66426ef504",
 "job\_id":"5145"
 }

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":{}
 }

\## View All Tasks \[/get\_all\_tasks\]

\### View All Tasks \[POST\]

This API is used to get all the tasks as per the filters. Start Date and End Date range refer to Task Date. The start and End Date shall have to be inside the 31 days span.
By utilizing this API, you can retrieve task details for a maximum span of 31 days from the current date.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_status | string | Filter the list of tasks via their status |
| job\_type\* | number(mandatory) | Filter via Job Type - 0 for Pick Up, 1 for Delivery, 2 for Appointment and 3 for FOS |
| start\_date\* | date/string | Start Date for the date range (YYYY-MM-DD) |
| end\_date\* | date/string | End Date for the date range (YYYY-MM-DD) |
| custom\_fields | number | You can pass this flag as 1, if you want the custom fields data to be included in the response. default is 0 |
| is\_pagination | Boolean | You can set this as 1 to enable pagination. |
| requested\_page | number | Current(Which) page according to the page number of tasks in the filter. |
| customer\_id | number | Filter the list based on the customer id. |
| fleet\_id | number | Filter the list based on the agent id. |
| job\_id | array | Filter the list based on the job ids. |
| order\_id | array | Filter the list based on the order ids. |
| team\_id | number | Filter the list based on the team id. |


\+ Request (application/json)

 {
 "api\_key": "00be7353ba73d5cb9812b9b9af404f8b",
 "job\_status": "1",
 "job\_type": 1,
 "start\_date": "2016-08-20",
 "end\_date": "2016-08-20",
 "custom\_fields": 0,
 "is\_pagination":1,
 "requested\_page":1,
 "customer\_id":"",
 "fleet\_id": 1234,
 "job\_id": \[123, 456, 789\],
 "order\_id": \["123", "Y-456", "O\_789"\],
 "team\_id":123
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\## View All Deleted Tasks \[/get\_all\_deleted\_tasks\]

\### View All Deleted Tasks \[POST\]

This API is used to get all the tasks as per the filters. Start Date and End Date range refer to Task Date.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_type\* | number(mandatory) | Filter via Job Type - 0 for Pick Up, 1 for Delivery, 2 for Appointment and 3 for FOS |
| start\_date | number | Start Date for the date range |
| end\_date | number | End Date for the date range |
| custom\_fields | number | You can pass this flag as 1, if you want the custom fields data to be included in the response. default is 0 |
| is\_pagination | Boolean | You can set this as 1 to enable pagination. |
| requested\_page | number | Current(Which) page according to the page number of tasks in the filter. |
| customer\_id | number | Filter the list based on the customer id. |
| fleet\_id | number | Filter the list based on the agent id. |
| job\_id | array | Filter the list based on the job ids. |
| order\_id | array | Filter the list based on the order ids. |
| team\_id | number | Filter the list based on the team id. |


\+ Request (application/json)

 {
 "api\_key": "00be7353ba73d5cb9812b9b9af404f8b",
 "job\_type": 1,
 "start\_date": "2016-08-20",
 "end\_date": "2016-08-20",
 "custom\_fields": 0,
 "is\_pagination":1,
 "requested\_page":1,
 "customer\_id":"",
 "fleet\_id": 1234,
 "job\_id": \[123, 456, 789\],
 "order\_id": \["123", "Y-456", "O\_789"\],
 "team\_id":123
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }


\## Get All Related Tasks \[/get\_related\_tasks\]

\### Get All Related Tasks \[POST\]

This api is used to get all related tasks.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| pickup\_delivery\_relationship\* | string | You can get it from task details. |

\+ Request (application/json)

 {
 "api\_key":"2b997be77e2cc22becfd4c66ef504",
 "pickup\_delivery\_relationship": "229315408060285612612"
 }

\+ Response 200 (application/json)

 {
 "message: "Successful",
 "status": 200,
 "data": \[\
 {\
 "job\_id": 123456,\
 "created\_by": 5,\
 "order\_id": null,\
 "recurring\_id": "0",\
 "recurring\_count": 0,\
 "partner\_order\_id": null,\
 "team\_id": 0,\
 "vertical": 0,\
 "merchant\_id": 0,\
 "geofence": 1,\
 "tags": "",\
 "auto\_assignment": 2,\
 "dispatcher\_id": null,\
 "job\_hash": "465cbe86f23d22554cd490c5a1c7",\
 "has\_pickup": 1,\
 "has\_delivery": 1,\
 "is\_routed": 0,\
 "pickup\_delivery\_relationship": "229315408060285612612",\
 "job\_description": "groceries delivery",\
 "job\_pickup\_datetime": "2018-10-29T19:00:00.000Z",\
 "job\_pickup\_name": "7 Eleven Store",\
 "job\_pickup\_phone": "+1 201555555",\
 "job\_delivery\_datetime": "2018-10-29T21:00:00.000Z",\
 "job\_pickup\_latitude": "30.7299586",\
 "job\_pickup\_longitude": "76.8101038",\
 "job\_pickup\_address": "Sector 26, Chandigarh, India",\
 "job\_pickup\_email": "",\
 "job\_latitude": "30.7339583",\
 "job\_longitude": "76.77261969999999",\
 "customer\_username": "7 Eleven Store",\
 "customer\_email": "",\
 "customer\_phone": "+1 201555555",\
 "job\_address": "Sector 26, Chandigarh, India",\
 "creation\_datetime": "2018-10-29T09:40:28.000Z",\
 "fleet\_id": null,\
 "user\_id": 123,\
 "fleet\_rating": 0,\
 "customer\_comment": null,\
 "is\_customer\_rated": 0,\
 "customer\_id": 292130,\
 "arrived\_datetime": "0000-00-00 00:00:00",\
 "started\_datetime": "0000-00-00 00:00:00",\
 "completed\_datetime": "0000-00-00 00:00:00",\
 "acknowledged\_datetime": "0000-00-00 00:00:00",\
 "job\_status": 6,\
 "is\_active": 1,\
 "job\_type": 0,\
 "completed\_by\_admin": 0,\
 "open\_tracking\_link": 0,\
 "timezone": "-330",\
 "job\_time": "2018-10-29T19:00:00.000Z",\
 "job\_date": "2018-10-29T00:00:00.000Z",\
 "job\_time\_utc": "2018-10-29T13:30:00.000Z",\
 "job\_date\_utc": "2018-10-29T00:00:00.000Z",\
 "total\_distance\_travelled": null,\
 "form\_id": null,\
 "customer\_rating": null,\
 "driver\_comment": null,\
 "remarks": null,\
 "barcode": null,\
 "ride\_type": 0,\
 "matched\_pickup\_delivery\_relationship": null,\
 "fields": {\
 "app\_optional\_fields": \[\
 {\
 "label": "accept",\
 "value": "1"\
 },\
 {\
 "label": "notes",\
 "value": 1,\
 "required": 0\
 },\
 {\
 "label": "images",\
 "value": 1,\
 "required": 0\
 },\
 {\
 "label": "barcode",\
 "value": 0,\
 "required": 0\
 },\
 {\
 "label": "signature",\
 "value": 1,\
 "required": 0\
 },\
 {\
 "label": "images\_caption",\
 "value": 0,\
 "required": 0\
 },\
 {\
 "label": "slider",\
 "value": 1\
 },\
 {\
 "label": "arrived",\
 "value": 1\
 },\
 {\
 "label": "cancel\_btn",\
 "value": 0\
 },\
 {\
 "label": "failed\_btn",\
 "value": 0\
 },\
 {\
 "label": "confirm",\
 "value": 0\
 },\
 {\
 "label": "fleet\_notification",\
 "value": 1\
 },\
 {\
 "label": "masking",\
 "value": 1\
 },\
 {\
 "label": "disable\_rating",\
 "value": 0\
 },\
 {\
 "label": "single\_tracking",\
 "value": 1\
 },\
 {\
 "label": "auto\_arrival\_distance",\
 "value": -1\
 },\
 {\
 "label": "team\_level\_auto\_assignment",\
 "value": 0\
 },\
 {\
 "label": "is\_delivery\_disabled",\
 "value": 0\
 }\
 \],\
 "custom\_field": \[\],\
 "extras": {},\
 "ref\_images": \[\
 "http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png",\
 "http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\
 \],\
 "req\_popup": "",\
 "auto\_assign": {\
 "broadcast\_type": 2,\
 "is\_enabled": 1,\
 "expires\_in": 20,\
 "startingRadius": 5,\
 "incRadius": 10,\
 "radiusLimit": 50,\
 "batchTime": 20,\
 "acceptTime": 40,\
 "batchSize": 5,\
 "attemptLimit": 5,\
 "tasks": 10,\
 "radius": 30,\
 "send\_to\_all\_expires\_in": 30,\
 "offline\_agents": 0,\
 "retryLimit": 0,\
 "put\_agent\_busy": 0,\
 "jobAndFleetStatus": {},\
 "ride\_type": 0,\
 "clubbing\_parameters": {\
 "delivery\_distance": 10000,\
 "preparation\_time": 0,\
 "max\_clubbed\_orders": 5,\
 "clubbing\_enable": 1\
 }\
 },\
 "geofence\_reference\_id": \[\],\
 "tracking\_link": "https://k7ggd.app.goo.gl/HMF9Q",\
 "is\_rating\_comment\_enabled": 1\
 },\
 "related\_job\_count": 2,\
 "related\_job\_type": 2\
 },\
 {\
 "job\_id": 123457,\
 "created\_by": 5,\
 "order\_id": null,\
 "recurring\_id": "0",\
 "recurring\_count": 0,\
 "partner\_order\_id": null,\
 "team\_id": 0,\
 "vertical": 0,\
 "merchant\_id": 0,\
 "geofence": 1,\
 "tags": "",\
 "auto\_assignment": 2,\
 "dispatcher\_id": null,\
 "job\_hash": "c2008de635f5895279b9c5c2fe02",\
 "has\_pickup": 1,\
 "has\_delivery": 1,\
 "is\_routed": 0,\
 "pickup\_delivery\_relationship": "229315408060285612612",\
 "job\_description": "groceries delivery",\
 "job\_pickup\_datetime": "2018-10-29T19:00:00.000Z",\
 "job\_pickup\_name": "7 Eleven Store",\
 "job\_pickup\_phone": "+1 201555555",\
 "job\_delivery\_datetime": "2018-10-29T21:00:00.000Z",\
 "job\_pickup\_latitude": "30.7299586",\
 "job\_pickup\_longitude": "76.8101038",\
 "job\_pickup\_address": "Sector 26, Chandigarh, India",\
 "job\_pickup\_email": "",\
 "job\_latitude": "30.7339583",\
 "job\_longitude": "76.77261969999999",\
 "customer\_username": "John Doe",\
 "customer\_email": "john@example.com",\
 "customer\_phone": "+1 201-555-5555",\
 "job\_address": "Sector 22, Chandigarh, India",\
 "creation\_datetime": "2018-10-29T09:40:29.000Z",\
 "fleet\_id": null,\
 "user\_id": 123,\
 "fleet\_rating": 0,\
 "customer\_comment": null,\
 "is\_customer\_rated": 0,\
 "customer\_id": 292131,\
 "arrived\_datetime": "0000-00-00 00:00:00",\
 "started\_datetime": "0000-00-00 00:00:00",\
 "completed\_datetime": "0000-00-00 00:00:00",\
 "acknowledged\_datetime": "0000-00-00 00:00:00",\
 "job\_status": 6,\
 "is\_active": 1,\
 "job\_type": 1,\
 "completed\_by\_admin": 0,\
 "open\_tracking\_link": 0,\
 "timezone": "-330",\
 "job\_time": "2018-10-29T21:00:00.000Z",\
 "job\_date": "2018-10-29T00:00:00.000Z",\
 "job\_time\_utc": "2018-10-29T15:30:00.000Z",\
 "job\_date\_utc": "2018-10-29T00:00:00.000Z",\
 "total\_distance\_travelled": null,\
 "form\_id": null,\
 "customer\_rating": null,\
 "driver\_comment": null,\
 "remarks": null,\
 "barcode": null,\
 "ride\_type": 0,\
 "matched\_pickup\_delivery\_relationship": null,\
 "fields": {\
 "app\_optional\_fields": \[\
 {\
 "label": "accept",\
 "value": "1"\
 },\
 {\
 "label": "notes",\
 "value": 1,\
 "required": 0\
 },\
 {\
 "label": "images",\
 "value": 1,\
 "required": 0\
 },\
 {\
 "label": "barcode",\
 "value": 0,\
 "required": 0\
 },\
 {\
 "label": "signature",\
 "value": 1,\
 "required": 0\
 },\
 {\
 "label": "images\_caption",\
 "value": 0,\
 "required": 0\
 },\
 {\
 "label": "slider",\
 "value": 1\
 },\
 {\
 "label": "arrived",\
 "value": 1\
 },\
 {\
 "label": "cancel\_btn",\
 "value": 0\
 },\
 {\
 "label": "failed\_btn",\
 "value": 0\
 },\
 {\
 "label": "confirm",\
 "value": 0\
 },\
 {\
 "label": "fleet\_notification",\
 "value": 1\
 },\
 {\
 "label": "masking",\
 "value": 1\
 },\
 {\
 "label": "disable\_rating",\
 "value": 0\
 },\
 {\
 "label": "single\_tracking",\
 "value": 1\
 },\
 {\
 "label": "auto\_arrival\_distance",\
 "value": -1\
 },\
 {\
 "label": "team\_level\_auto\_assignment",\
 "value": 0\
 },\
 {\
 "label": "is\_delivery\_disabled",\
 "value": 0\
 }\
 \],\
 "custom\_field": \[\],\
 "extras": {},\
 "ref\_images": \[\
 "http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png",\
 "http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\
 \],\
 "req\_popup": "",\
 "auto\_assign": {\
 "broadcast\_type": 2,\
 "is\_enabled": 1,\
 "expires\_in": 20,\
 "startingRadius": 5,\
 "incRadius": 10,\
 "radiusLimit": 50,\
 "batchTime": 20,\
 "acceptTime": 40,\
 "batchSize": 5,\
 "attemptLimit": 5,\
 "tasks": 10,\
 "radius": 30,\
 "send\_to\_all\_expires\_in": 30,\
 "offline\_agents": 0,\
 "retryLimit": 0,\
 "put\_agent\_busy": 0,\
 "jobAndFleetStatus": {},\
 "ride\_type": 0,\
 "clubbing\_parameters": {\
 "delivery\_distance": 10000,\
 "preparation\_time": 0,\
 "max\_clubbed\_orders": 5,\
 "clubbing\_enable": 1\
 }\
 },\
 "geofence\_reference\_id": \[\],\
 "tracking\_link": "https://k7ggd.app.goo.gl/1gCU9",\
 "is\_rating\_comment\_enabled": 1\
 },\
 "related\_job\_count": 2,\
 "related\_job\_type": 1\
 }\
 \]
}

\## Get Task Statistics \[/user\_task\_stats\]

\### Get Task Statistics \[POST\]

This API is used to get stats related to tasks.

Request Body Parametrs:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_status | array (optional) | Filter the list of tasks via their status. |
| job\_type | number (optional) | Filter via Job Type - 0 for Pick Up, 1 for Delivery, 2 for Appointment and 3 for FOS. |
| start\_date | date (optional) | Start Date for the date range. |
| end\_date | date (optional) | End Date for the date range. |
| team\_id | number (optional) | Filter the list of tasks w.r.t team. |

\+ Request (application/json)

 {
 "api\_key":"e1ecdd2fd7aaa26547e195b459a7c2d2",
 "job\_status":\[2,3\]
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": \[\
 {\
 "job\_status": 2,\
 "job\_count": 740,\
 "job\_status\_value": "Successful"\
 },\
 {\
 "job\_status": 3,\
 "job\_count": 34,\
 "job\_status\_value": "Failed"\
 }\
 \]
 }


\## Get Route Details \[/get\_route\_details\_for\_date\]

\### Get Route Details \[POST\]

This API is used to get the routes after route optimization for a particular date.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| date\* | date | Enter the date for which you want to get the routes. |

\+ Request (application/json)

 {
 "api\_key": "2b997be77e2cc22becfd4c66426ef504",
 "date": "2019-05-21"
 }

\+ Response 200 (application/json)

\+ Body

 {
 "message": "Successful",
 "status": 200,
 "data": \[\
 {\
 "\_id": "5ce3bb5b17f6662f519b712e",\
 "fleet\_id": "19246",\
 "user\_id": 7756,\
 "date": "2019-05-21",\
 "routed": \[\
 "35466703",\
 "35478849"\
 \],\
 "polylines": \[\
 "k\_opy@o\|isqCSo\_@sN?\_yg@kRoFka@sNkR{JcB?kCf@cBbBoK~M{EjH{@fO\_NzaF{Ef\_BcBf\|@f@bj@oAnd@?zToAnPsDn\_@wV~\`CwQfdBcBvQwGn}@wBnd@g@rtA?rl@SfYjCf@zEjCrDzEbBvGf@bGSzEgEnKoFfEkHbB{@?kCzEoFvLgc@ziBgJrb@{YvaBcG~k@gObzBsIj}A{Er{@{Ef\|@kCjk@RjM?nFnAf@vBbB~CvGnAvG?fEcBfJcBrD\_DjC\_DbBsDz@wBzJoAfO{@b\[z@rhBbL~hDnKnzDzJnrCbGrDjC~H?nFcBvG\_DfE{Ez@oF{@kCwBwB\_Dg\_BrNct@rIgO~CkMrD\_\]~Hg\|@zOsIvBgE~CwB~CsDrIgEfOoAvL?zO~CrNjHbe@rDzh@sSfbCwGns@kM~z@wBrNcGrSgr@fuAwcAntB{w@vwAsNj\\\sIr\]{Eb\[oZbzBbVjp@vVnFnPfE~\_FbcAoFbo@sIvt@kM~\_AoAvGwBzEsNbLka@bVoK~M\_pCnqF{pAzlCg^ns@v\[zTfkA~z@vuBv\|Arq@nd@f^bVzh@bVnPbGjWzOzEfEzTzYzJzO~HrIjsAfaAct@rv@cVnUjC~CvBf@~CcBbBcBcBbB\_DbBwBg@kC\_DbVoUbt@sv@ksAgaA\_IsI{J{O{T{Y{EgEkW{OoPcG{h@cVgm@w\`@\_q@od@ssDcnCw\[{TkWbe@oK~Mod@zc@sInKgTvQskCw~EgTc\`@{JwBka@cBwQnPcuB~vBcsCbsCoKzO{EnFRz@RvB?vB{@zEwB~CcBvB\_Dz@sD?cBSg@SsSnKkoCjjC{fA~dA\_eAvcAcLnK{EjHf@jC?jCoAjHkCrDcBf@sDz@{Eg@oA{@cL~HktCfgCw\_CrwBce@rg@f@vGcB~H{ErDoFz@oFoA{@{@sDbBsSnPk\\\nZstFbyEco@rl@sb@j\\\{eDbnC\_kC~vB\_IzJoFjMRbB?zEg@nFsDfJcGzE{EnAsDR{JwB\_DwBwQ~Hc}C~{B\_uCfxB\_\]vVwBbBRz@f@vB?vBg@nFwBrD\_DvB{Ef@{EoAsDsDoAgE?{Ez@gEf@g@oAgEoZsl@{bC{rE{Y{h@kHkRgEcG\_IjHsIvGsNbLcLvLcLnU{O~WkHfJk\\\~W{YvQoKzERvBSjC{@bBcBz@wB?cB{@{@cBSS\_DRoPjCkHjCoUfOgsBf\_Brg@nlAs\]rSwcAjp@kiAfw@\_\]kp@\_cBreAgOfJ\_Xkp@zYcQvG~MnAvBoAwBwG\_N{YbQ~Wjp@fOgJ~bBseA~\\\jp@jiAgw@~iAwt@jWgOvzBbmFnKbVbBg@zE?fEnAvBvBnAjCf@vGg@bGg@vBg@z@bL~Rni@~dA~sArfC~qBbvDk\\\jWwLzJolAns@sXvQoPgYcLjH"\
 \],
 "route\_id": "72455",
 "jobs": \[\
 {\
 "job\_id": 35466703,\
 "created\_by": 0,\
 "order\_id": null,\
 "recurring\_id": "5c9b5eb87dbd287f7c455bb5",\
 "recurring\_count": 44,\
 "partner\_order\_id": null,\
 "team\_id": 10397,\
 "vertical": 0,\
 "merchant\_id": 0,\
 "geofence": 0,\
 "tags": "",\
 "auto\_assignment": 0,\
 "dispatcher\_id": null,\
 "job\_hash": "8ff62929f77352e69123b670fbd358c5",\
 "has\_pickup": 1,\
 "has\_delivery": 0,\
 "is\_routed": 1,\
 "pickup\_delivery\_relationship": "3546670315583986019382205",\
 "job\_description": null,\
 "job\_pickup\_datetime": "2019-05-21T17:45:00.000Z",\
 "job\_pickup\_name": "",\
 "job\_pickup\_phone": "",\
 "job\_delivery\_datetime": "0000-00-00 00:00:00",\
 "job\_pickup\_latitude": "30.70549299999999",\
 "job\_pickup\_longitude": "76.80125610000005",\
 "job\_pickup\_address": "Elante Mall, Purv Marg, Industrial Area Phase I, Chandigarh, India",\
 "job\_pickup\_email": null,\
 "job\_latitude": "30.70549299999999",\
 "job\_longitude": "76.80125610000005",\
 "customer\_username": "",\
 "customer\_email": null,\
 "customer\_phone": "",\
 "job\_address": "Elante Mall, Purv Marg, Industrial Area Phase I, Chandigarh, India",\
 "creation\_datetime": "2019-05-21T00:29:50.000Z",\
 "fleet\_id": 19246,\
 "user\_id": 7756,\
 "fleet\_rating": 0,\
 "customer\_comment": null,\
 "is\_customer\_rated": 0,\
 "customer\_id": 4783123,\
 "arrived\_datetime": "0000-00-00 00:00:00",\
 "started\_datetime": "0000-00-00 00:00:00",\
 "completed\_datetime": "0000-00-00 00:00:00",\
 "acknowledged\_datetime": "2019-05-21T05:00:12.000Z",\
 "job\_status": 7,\
 "is\_active": 1,\
 "job\_type": 0,\
 "completed\_by\_admin": 0,\
 "open\_tracking\_link": 0,\
 "timezone": "-330",\
 "job\_time": "2019-05-21T17:45:00.000Z",\
 "job\_date": "2019-05-21T00:00:00.000Z",\
 "job\_time\_utc": "2019-05-21T12:15:00.000Z",\
 "job\_date\_utc": "2019-05-21T00:00:00.000Z",\
 "total\_distance\_travelled": null,\
 "form\_id": null,\
 "customer\_rating": null,\
 "driver\_comment": null,\
 "remarks": null,\
 "barcode": null,\
 "ride\_type": 0,\
 "matched\_pickup\_delivery\_relationship": null\
 },\
 {\
 "job\_id": 35478849,\
 "created\_by": 5,\
 "order\_id": "",\
 "recurring\_id": "0",\
 "recurring\_count": 0,\
 "partner\_order\_id": null,\
 "team\_id": 10397,\
 "vertical": 0,\
 "merchant\_id": 0,\
 "geofence": 0,\
 "tags": "",\
 "auto\_assignment": 2,\
 "dispatcher\_id": null,\
 "job\_hash": "eddcf223c709473182defe9fffd6fb8a",\
 "has\_pickup": 1,\
 "has\_delivery": 0,\
 "is\_routed": 1,\
 "pickup\_delivery\_relationship": "3547884915584148713490600",\
 "job\_description": "test desc",\
 "job\_pickup\_datetime": "2019-05-21T09:30:00.000Z",\
 "job\_pickup\_name": "Test14",\
 "job\_pickup\_phone": "",\
 "job\_delivery\_datetime": "0000-00-00 00:00:00",\
 "job\_pickup\_latitude": "30.7583236",\
 "job\_pickup\_longitude": "76.7841443",\
 "job\_pickup\_address": "Sector 11, Chandigarh, Punjab, India",\
 "job\_pickup\_email": "",\
 "job\_latitude": "30.7583236",\
 "job\_longitude": "76.7841443",\
 "customer\_username": "Test14",\
 "customer\_email": "",\
 "customer\_phone": "",\
 "job\_address": "Sector 11, Chandigarh, Punjab, India",\
 "creation\_datetime": "2019-05-21T05:00:59.000Z",\
 "fleet\_id": 19246,\
 "user\_id": 7756,\
 "fleet\_rating": 0,\
 "customer\_comment": null,\
 "is\_customer\_rated": 0,\
 "customer\_id": 4783123,\
 "arrived\_datetime": "0000-00-00 00:00:00",\
 "started\_datetime": "0000-00-00 00:00:00",\
 "completed\_datetime": "0000-00-00 00:00:00",\
 "acknowledged\_datetime": "2019-05-21T05:01:25.000Z",\
 "job\_status": 7,\
 "is\_active": 1,\
 "job\_type": 0,\
 "completed\_by\_admin": 0,\
 "open\_tracking\_link": 0,\
 "timezone": "-330",\
 "job\_time": "2019-05-21T09:30:00.000Z",\
 "job\_date": "2019-05-21T00:00:00.000Z",\
 "job\_time\_utc": "2019-05-21T04:00:00.000Z",\
 "job\_date\_utc": "2019-05-21T00:00:00.000Z",\
 "total\_distance\_travelled": null,\
 "form\_id": null,\
 "customer\_rating": null,\
 "driver\_comment": null,\
 "remarks": null,\
 "barcode": null,\
 "ride\_type": 0,\
 "matched\_pickup\_delivery\_relationship": null\
 }\
 \]
 }
 \]
}

\## Get Fare Estimate \[/get\_fare\_estimate\]

\### Get Fare Estimate \[POST\]

This API is used to get fare estimate of a task.

Request Body Parametrs:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| template\_name\* | string | Name of the template with spaces replaced by underscore. |
| pickup\_latitude | string | Pickup Latitude. |
| pickup\_longitude | string | Pickup Longitude. |
| delivery\_latitude | string | Delivery Latitude. |
| delivery\_longitude | string | Delivery Longitude. |
| formula\_type | number | Set 1 for Earning, 2 for Pricing and 3 for Both. |
| map\_keys | object | This contains 'map\_plan\_type' which is to be set as 1 and 'google\_api\_key' which should be your Google Api Key. |

\+ Request (application/json)

 {
 "template\_name": "Order\_Details",
 "pickup\_longitude": "75.78459531068802",
 "pickup\_latitude": "30.878816612716466",
 "api\_key": "YOUR\_API\_KEY",
 "delivery\_latitude": "30.911338899788063",
 "delivery\_longitude": "75.79901956021786",
 "formula\_type": 3,
 "map\_keys":{
 "map\_plan\_type":1,
 "google\_api\_key":"GOOGLE\_API\_KEY"
 }
 }

\+ Response 200 (application/json)

 {
"message":"Successful",
"status":200,
"data":{
"distance":1122,
"time":210,
"formula\_fields":{
"1":\[\
{\
"display\_name":"Base Fare",\
"key":"base\_fare",\
"type":1,\
"surge":"1.00",\
"multiplying\_value":"40.00",\
"expression":"40.00\*1.00",\
"sum":40\
},\
{\
"display\_name":"Duration Fare",\
"key":"duration\_charge",\
"type":1,\
"start\_value":0,\
"surge":"1.00",\
"multiplying\_value":"0.00",\
"expression":"0.00\*1.00\*({{{total\_time\_in\_seconds}}}/60-0)",\
"sum":0\
},\
{\
"display\_name":"Waiting Fare",\
"key":"waiting\_charge",\
"type":1,\
"start\_value":"0",\
"multiplying\_value":"0.00",\
"surge":"1.00",\
"expression":"0.00\*1.00\*({{{waiting\_time\_in\_seconds}}}/60-0)",\
"sum":0\
},\
{\
"display\_name":"Distance Fare",\
"key":"distance\_fare",\
"type":1,\
"start\_value":"2.00",\
"surge":"1.00",\
"multiplying\_value":"7.50",\
"expression":"7.50\*1.00\*({{{job\_distance}}}/1000-2.00)",\
"sum":0\
},\
{\
"display\_name":"Deduction",\
"key":"commission",\
"type":1,\
"multiplying\_value":"30.00",\
"expression":"30.00/100\*(-1)\*({{{{distance\_fare}}}}+{{{{duration\_charge}}}}+{{{{base\_fare}}}}+{{{{waiting\_charge}}}})",\
"sum":-12\
}\
\],
"2":\[\
{\
"display\_name":"Base Fare",\
"key":"base\_fare",\
"type":1,\
"surge":"1.00",\
"multiplying\_value":"40.00",\
"expression":"40.00\*1.00",\
"sum":40\
},\
{\
"display\_name":"Duration Fare",\
"key":"duration\_charge",\
"type":1,\
"start\_value":"0.00",\
"surge":"1.00",\
"multiplying\_value":"0.00",\
"expression":"0.00\*1.00\*({{{total\_time\_in\_seconds}}}/60-0.00)",\
"sum":0\
},\
{\
"display\_name":"Waiting Fare",\
"key":"waiting\_charge",\
"type":1,\
"start\_value":"0.00",\
"multiplying\_value":"0.00",\
"surge":"1.00",\
"expression":"0.00\*1.00\*({{{waiting\_time\_in\_seconds}}}/60-0.00)",\
"sum":0\
},\
{\
"display\_name":"Distance Fare",\
"key":"distance\_fare",\
"type":1,\
"start\_value":"1.50",\
"surge":"1.00",\
"multiplying\_value":"15.00",\
"expression":"15.00\*1.00\*({{{job\_distance}}}/1000-1.50)",\
"sum":0\
},\
{\
"display\_name":"Deduction",\
"key":"commission",\
"type":1,\
"multiplying\_value":"0.00",\
"expression":"0.00/100\*(-1)\*({{{{distance\_fare}}}}+{{{{duration\_charge}}}}+{{{{base\_fare}}}}+{{{{waiting\_charge}}}})",\
"sum":0\
}\
\]
},
"total\_fields":{
"1":28,
"2":40
}
}
}

\# Group Agent

\## Get All Agents \[/get\_all\_fleets\]

\### Get All Agents \[POST\]

This API is used to get all the Agents/drivers/fleets information with respect to a location. The response array contains a status key for each of the fleet, which shows the current status of the fleet - 0 for available, 1 for offline and 2 for busy, taking into account the location, connectivity, ON-Duty/OFF-Duty status and if they are presently working a task.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| tags | string | You can pass the tags, comma separated, if you want to filter the list of agents via tags. |
| name | string | Enter name, if you want to get list of agents matching this name string. |
| fleet\_ids | array | You can specify array of fleet ids for getting information of only those fleets in response. |
| include\_any\_tag | number | Provide this key along with tags key in request body. Set value of this key to 1 if you want to agents having any of the tags provided in tags key, else set value of this key to 0 if you want the list of agents having all the tags you have provided in request body. |
| status | number | Pass 0 for getting agents who are free and Pass 1 for getting agents who are busy. |
| fleet\_type | number | Pass 1 for getting agents with fleet type "capative", Pass 2 for getting agents with fleet type "freelancer" |
| include\_team\_id | number | Pass 1 for getting agents with team id , Pass 0 for getting agents without team id |
| region\_ids | string | region ids are the geofence ids , use these ids to get the fleets of that perticular regionn only , go to setings->geofence to get the region ids . |
| include\_rule | string | Pass 1 for getting Agent's Rule\_id in the response body. |
| include\_regions | string | Pass 1 for getting Agent's Assigned Region in the response body. |

\+ Request (application/json)

 {
 "api\_key": "2b997be77e2becfd4c66426ef504",
 "tags": "mini,suv",
 "name": "manish",
 "fleet\_ids": \[49322, 42947\],
 "include\_any\_tag": 1,
 "status": 0,
 "fleet\_type": 1,
 "include\_team\_id": 0,
 "include\_rule": 1,
 "include\_regions": 1
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": \[\
 {\
 "fleet\_id": 15500,\
 "device\_type": 3,\
 "total\_rating": 50,\
 "total\_rated\_tasks": 10,\
 "is\_active": 1,\
 "has\_gps\_accuracy": 1,\
 "username": "manish",\
 "name": "manish",\
 "login\_id": "mannish",\
 "transport\_type": 1,\
 "transport\_desc": "Swift",\
 "license": "123123",\
 "email": "manish.sharma@tookanapp.com",\
 "phone": "+917087034232",\
 "battery\_level": 20,\
 "registration\_status": 1,\
 "location\_update\_datetime":"2017-05-25T19:27:04.000Z",\
 "latitude": "30.755838886863323",\
 "is\_available": 0,\
 "longitude": "76.64949079051301",\
 "tags": "mini,suv",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/thumb-QxUG1536819089055-6MwT1536819087649nature31.jpg",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/6MwT1536819087649-nature31.jpg",\
 "status": 0,\
 "timezone": "-330",\
 "fleet\_type": 1,\
 "rule\_id": 317932,\
 "region\_ids": "27957,27957"\
 }\
 \]
 }

\## Add Agent \[/add\_agent\]

\### Add Agent \[POST\]

This API is used to register a new Agent in your account.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| email | string | email of your agent. |
| phone\* | string | add the phone number of the agent. He will get a notification with the links and credentials to download the app |
| transport\_type | string | Send 1 for Car, 2 for Motor Cycle, 3 for Bicycle, 4 for Scooter, 5 for Foot, 6 for Truck |
| transport\_desc | string |  |
| license | string |  |
| color | string |  |
| timezone\* | string |  |
| team\_id\* | string | You need to pass a team of which the agent will be a part of. Team Id will be visible on the All teams page |
| password\* | string | You can set the password yourself, or leave it empty, in which case the system will auto-generate the password |
| username\* | string | Unique username, which the agent will use to login to the Tookan Agent App |
| first\_name\* | string |  |
| last\_name | string |  |
| rule\_id | number | You can find rule id in the Access Control page for the agents named as Role ID. |
| fleet\_type | number | Send 1 for captive agents and 2 for freelancer agents. Default value is 1. |
| profile\_url | string | Send url of agent profile image. |
| profile\_thumb\_url | string | Send url of agent profile Thumbnail. |
| region\_ids | string | Enter the Region id to Assign the Geofence to the Agent |

\+ Request (application/json)

 {
 "api\_key": "1fc5defefb668fcf820bac29e7b7aa05",
 "email": "abc@xyz.com",
 "phone": "919999999999",
 "transport\_type": "1",
 "transport\_desc": "auto",
 "license": "demo",
 "color": "blue",
 "timezone": "-330",
 "team\_id": "Your Team ID",
 "password": "abcdefg",
 "username": "username",
 "first\_name": "Decimate",
 "last\_name": "abc",
 "rule\_id":123,
 "profile\_url" : "https://tookan.s3.amazonaws.com/fleet\_profile/user.png",
 "profile\_thumb\_url" : "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/user.png",
 "region\_ids": "123,5353"
 }
\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\## Edit Agent \[/edit\_agent\]

\### Edit Agent \[POST\]

This API is used to update particular agent of your account.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id\* | string | Agent Id of your agent. You will get this from agent list in dashboard. |
| email | string | Email of your agent. |
| phone | string | Add the phone number of the agent. |
| transport\_type | string | Send 1 for Car, 2 for Motor Cycle, 3 for Bicycle, 4 for Scooter, 5 for Foot, 6 for Truck |
| transport\_desc | string |  |
| license | string |  |
| color | string |  |
| timezone | string |  |
| team\_id | string | You need to pass a team of which the agent will be a part of. Team Id will be visible on the All teams page |
| password | string | You can set the password yourself, or leave it empty, in which case the system will auto-generate the password |
| first\_name | string |  |
| last\_name | string |  |
| rule\_id | number | You can find rule id in the Access Control page for the agents named as Role ID. |
| fleet\_type | number | Send 1 for captive agents and 2 for freelancer agents. Default value is 1. |
| profile\_url | string | Send url of agent profile image. |
| profile\_thumb\_url | string | Send url of agent profile Thumbnail. |
| region\_ids | string | Assign a new Region id or delete the existing Region id aligned with the Agent |

\+ Request (application/json)

 {
 "api\_key": "1fc5defefb668fcf820bac29e7b7aa05",
 "fleet\_id": "12",
 "email": "abc@xyz.com",
 "phone": "919999999999",
 "transport\_type": "1",
 "transport\_desc": "auto",
 "license": "demo",
 "color": "blue",
 "timezone": "-330",
 "team\_id": "1",
 "password": "abcdefg",
 "first\_name": "Decimate",
 "last\_name": "abc",
 "rule\_id":123,
 "profile\_url" : "https://tookan.s3.amazonaws.com/fleet\_profile/user.png",
 "profile\_thumb\_url" : "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/user.png",
 "region\_ids": "123,5353"

 }
\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\## Block/Unblock Agent \[/block\_and\_unblock\_fleet\]

\### Block/Unblock Agent \[POST\]

This API is used to block/unblock the Agent in your account.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your Tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API Key. |
| fleet\_id\* | string | Enter fleet ids of the agents (comma sperated string). |
| block\_status\* | number | Enter 0 or 1. 0 for block and 1 for unblock the agent. |
| block\_reason | text (optional) | Enter block reason |
| unblock\_on\_date | date (optional) | Agent will be automatically unblocked on this date. If not entered, the agent will remain blocked forever. Date format must be - 'YYYY-MM-DD'. |

\+ Request (application/json)

 {
 "api\_key": "1fc5defefb668fcf820bac29e7b7aa05",
 "fleet\_id": "60048,60047",
 "block\_status":0,
 "block\_reason":"agent not available for some time sapin",
 "unblock\_on\_date" : "2020-09-28"
 }
\+ Response 200 (application/json)

 {
 "message": "ACTION\_COMPLETE",
 "status": 200,
 "data": {}
 }

\## Delete Agent \[/delete\_fleet\_account\]

\### Delete Agent \[POST\]

This API is used to delete the Agent in your account.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your Tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key. |
| fleet\_id\* | number | Enter fleet id of the agent. |

\+ Request (application/json)

 {
 "api\_key": "1fc5defefb668fcf820bac29e7b7aa05",
 "fleet\_id": "49644"
 }
\+ Response 200 (application/json)

 {
 "message": "The Agent 'John' has been deleted.",
 "status": 200,
 "data": {}
 }

\## View Agent Profile \[/view\_fleet\_profile\]

\### View Agent Profile \[POST\]

This API is used to view agent's profile.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key. |
| fleet\_id\* | string | You can get it from your tookan account or you can use 'Get All Agents' API for retrieving list from your account. |

\+ Request (application/json)

 {
 "api\_key":"e1ecdd2fd7aaa26547e195b459a7c2d2",
 "fleet\_id":17846
 }

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":{
 "fleet\_details":\[\
 {\
 "fleet\_id":17846,\
 "is\_deleted":0,\
 "dispatcher\_id":null,\
 "email":"guri@tookanapp.com",\
 "login\_id":"guri",\
 "tags":"basic",\
 "access\_token":"f788e6872919f82df609e98f3926ead0",\
 "first\_name":"Guri",\
 "last\_name":"",\
 "username":"Guri ",\
 "password":"e10adc3949ba59abbe56e057f20f883e",\
 "phone":"+919988552266",\
 "lang":"en",\
 "home\_address":null,\
 "home\_latitude":null,\
 "home\_longitude":null,\
 latitude":"30.71857504083842",\
 "longitude":"76.81032425731124",\
 "bearing":null,\
 "location\_update\_datetime":"2017-05-25T19:27:04.000Z",\
 "last\_updated\_local\_time":null,\
 "fleet\_image":"undefined",\
 "fleet\_thumb\_image":"https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/thumb-J1In1494324987908-UF1V1494324987134laundry1.jpg",\
 "device\_type":1,\
 "device\_token":null,\
 "voice\_token":null,\
 "device\_os":"iOS",\
 "device\_desc":"10.3.1 IOS iPhone 82",\
 "has\_gps\_accuracy":1,\
 "has\_network":1,\
 "has\_mock\_loc":1,\
 "battery\_level":16,\
 "imei\_number":null,\
 "app\_versioncode":"300",\
 "store\_version":"3.0",\
 "verification\_token":null,\
 "registration\_status":1,\
 "transport\_type":6,\
 "transport\_desc":"2016 , honda",\
 "license":"HP 22 1234",\
 "color":"Red",\
 "user\_id":1717,\
 "is\_active":1,\
 "is\_available":0,\
 "is\_bcrypt":0,\
 "status":0,\
 "total\_rating":222,\
 "total\_rated\_tasks":49,\
 "noti\_tone":"ping.caf",\
 "creation\_datetime":"2017-01-25T07:23:25.000Z",\
 "last\_login\_datetime":"2017-05-25T19:09:34.000Z",\
 "timezone":"-330",\
 "external\_fleet\_id":null,\
 "ignore\_distance\_check":0,\
 "disable\_request":0,\
 "terms\_and\_conditions":0,\
 "is\_first\_time\_login":1,\
 "monibyte\_id":null,\
 "total\_capacity": 9999,\
 "available\_capacity": 4999\
 }\
 \],
 "jobs":\[\
 {\
 "email":"guri@tookanapp.com",\
 "phone":"+919988552266",\
 "fleet\_id":17846,\
 "fleet\_name":"Guri ",\
 "fleet\_image":"undefined",\
 "fleet\_thumb\_image":"https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/thumb-J1In1494324987908-UF1V1494324987134laundry1.jpg",\
 "job\_pickup\_name":"ankit",\
 "job\_pickup\_phone":"+91 70426 15785",\
 "job\_latitude":"30.7188157",\
 "job\_longitude":"76.8105657",\
 "job\_address":"Plot No. 5, Madhya Marg, Sector 28 B, Chandigarh, India, 160028",\
 "job\_status":0,\
 "job\_description":"",\
 "has\_pickup":1,\
 "pickup\_delivery\_relationship":"28132415096208382653078",\
 "team\_id":0,\
 "job\_pickup\_datetime":"11/02/2017 04:25 pm",\
 "job\_id":281324,\
 "job\_delivery\_datetime":"0000-00-00 00:00:00",\
 "job\_type":0,\
 "job\_pickup\_latitude":"30.7188157",\
 "job\_pickup\_longitude":"76.8105657",\
 "job\_pickup\_address":"Plot No. 5, Madhya Marg, Sector 28 B, Chandigarh, India, 160028",\
 "job\_pickup\_email":"ankit@tookanapp.com",\
 "customer\_id":6532,\
 "customer\_username":"-",\
 "customer\_phone":"-",\
 "customer\_email":"-"\
 }\
 \]
 }
 }

\## View Agent Stripe Details \[/get\_fleet\_stripe\_details\]

\### View Agent Stripe Details \[POST\]

This API is used to view agent's stripe account details.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key. |
| fleet\_id\* | string | You can get it from your tookan account or you can use 'Get All Agents' API for retrieving list from your account. |

\+ Request (application/json)

 {
 "api\_key":"e1ecdd2fd7aaa26547e195b459a7c2d2",
 "fleet\_id":17846
 }

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":{
 "legal\_entity": {
 "additional\_owners": \[\],
 "address": {
 "city": "Toronto",
 "line1": "",
 "line2": "",
 "postal\_code": "646565",
 "state": ""
 },
 "business\_name": "Ruhan",
 "dob": {
 "day": 5,
 "month": 9,
 "year": 1994
 },
 "first\_name": "Nadeem",
 "last\_name": "Khan",
 "personal\_address": {
 "city": null,
 "line1": null,
 "line2": null,
 "postal\_code": null,
 "state": null
 },
 "type": "company",
 "verification": {
 "details": null,
 "details\_code": null,
 "document": null,
 "document\_back": null,
 "status": 3
 },
 "business\_tax\_id": 0
 },
 "bank\_details": {
 "country": "US",
 "currency": "usd",
 "account\_number": "6789",
 "routing\_number": "110000000"
 },
 "fields\_needed": \[\],
 "account\_id": ""
 }
 }
\## Update Agent Tags \[/update\_fleet\_tags\]

\### Update Agent Tags \[POST\]

This API is used to update agent's tags.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id\* | string | You can get it from your tookan account or you can use 'Get All Agents' API for retrieving list from your account. |
| tags\* | string | Comma Separated Values of tags to be assigned to the agent. |

\+ Request (application/json)

 {
 "api\_key":"e1ecdd2fd7aaa26547e195b459a7c2d2",
 "fleet\_id":17846,
 "tags":"basic,premium"
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\## Get Agent Tags \[/get\_fleet\_tags\]

\### Get Agent Tags \[POST\]

This API is used to view the list of agent tags.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key. |
| fleet\_id\* | string (optional) | You can get it from your tookan account or you can use 'Get All Agents' API for retrieving list from your account. |
| team\_id | string (optional) | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |

\+ Request (application/json)

 {
 "api\_key":"e1ecdd2fd7aaa26547e195b459a7c2d2",
 "fleet\_id":17846
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": \[\
 "premium",\
 "basic"\
 \]
 }

\## Get Agent Logs \[/get\_agent\_duty\_logs\]

\### Get Agent Logs \[POST\]

This API is used to get Agent logs. It returns details about when your agents went offline and online.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your Tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key. |
| date\* | date | Enter the date for which you want to get the agent logs. |
| team\_ids\* | array(optional) | Enter the team ids for which you want to get the agent logs. |

\+ Request (application/json)

 {
 "api\_key":"2b997be77e2cc22becfd4c66426ef504",
 "date":"2017-01-25",
 "team\_ids": \["123","456"\]
 }

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":\[\
 {\
 "fleet\_id":17847,\
 "first\_name":"rakshit",\
 "last\_name":"",\
 "email":"rakshit@tookanapp.com",\
 "phone":"+917042615785",\
 "imei\_number":"861116036220459",\
 "status":1,\
 "creation\_datetime":"2017-01-25T11:19:12.000Z",\
 "team\_id": 123,\
 "team\_name": "Team A"\
 },\
 {\
 "fleet\_id":17847,\
 "first\_name":"rakshit",\
 "last\_name":"",\
 "email":"rakshit@tookanapp.com",\
 "phone":"+917042615785",\
 "imei\_number":"861116036220459",\
 "status":0,\
 "creation\_datetime":"2017-01-25T15:16:50.000Z",\
 "team\_id": 456,\
 "team\_name": "Team 8"\
 }\]
 }

\## Get Agent Location \[/get\_fleet\_location\]

\### Get Agent Location \[POST\]

This API is used to get an agent's location coordinates.

Request Body Parametrs:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id\* | string (optional) | You can get it from your tookan account or you can use 'Get All Agents' API for retrieving list from your account. |

\+ Request (application/json)

 {
 "api\_key":"e1ecdd2fd7aaa26547e195b459a7c2d2",
 "fleet\_id":17846
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": \[\
 {\
 "latitude": "30.71857504083842",\
 "longitude": "76.81032425731124"\
 }\
 \]
 }

\## Send Notification \[/send\_notification\]

\### Send Notification \[POST\]

This API is used to send push notifications to logged in agent(s). Same message cannot be sent to same agent again in same day. Maximum push notification limit per agent is:

- 50 notifications per day.
- 150 notifications per week.
- 300 notifications per month.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your Tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key. |
| fleet\_ids\* | array | Agent Id of your agent(s). You will get this from agent list in dashboard. |
| message\* | string | Message that you want to send in push. Minimun character length should be 4 and maximum 160 |

\+ Request (application/json)

 {
 "api\_key": "1fc5defefb668fcf820bac29e7b7aa05",
 "fleet\_ids": \[1112,1011\],
 "message" : "Welcome.."
 }
\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {
 "total\_fleets": 2,
 "valid\_fleets": 2,
 "logged\_in\_fleets": 2,
 "logged\_in\_fleet\_ids": \[1001, 1010\],
 "push\_limit\_reached\_fleets": \[\],
 "duplicate\_push\_fleets": \[\]
 }
 }

\## Get Agent Schedule \[/get\_fleets\_availability\]

\### Get Agent Schedule \[POST\]

This API is used to get the agent schedule for a particular date.

- available\_status: 1 defines agent is not available for that particular time.
- available\_status: 0 defines agent is available for that particular time.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| local\_date\_time\* | date | Enter date for which you want to get the agent schedule |
| limit | number | It used to get the number of agents from total agents. If the value is 0, it returns first 10 results. If it is 1, it returns next 10 records and so on. |

\+ Request (application/json)

 {
 "api\_key": "1fc5defefb668fcf820bac29e7b7aa05",
 "local\_date\_time": "2018-04-19",
 "limit" : 6
 }
\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {
 "date\_time": "2018-04-19T00:00:00.000Z",
 "day\_id": 4,
 "fleets": \[\
 {\
 "fleet\_id": 85772,\
 "username": "Manish",\
 "is\_available": 1,\
 "team\_id": 7780,\
 "team\_name": "Team A",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/user.png",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/user.png",\
 "slots": \[\
 {\
 "slot\_timming": "00:00",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T00:00:00.000Z",\
 "slot\_end\_time": "2018-04-19T00:15:00.000Z"\
 },\
 {\
 "slot\_timming": "00:15",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T00:15:00.000Z",\
 "slot\_end\_time": "2018-04-19T00:30:00.000Z"\
 },\
 {\
 "slot\_timming": "00:30",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T00:30:00.000Z",\
 "slot\_end\_time": "2018-04-19T00:45:00.000Z"\
 },\
 {\
 "slot\_timming": "00:45",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T00:45:00.000Z",\
 "slot\_end\_time": "2018-04-19T01:00:00.000Z"\
 },\
 {\
 "slot\_timming": "01:00",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T01:00:00.000Z",\
 "slot\_end\_time": "2018-04-19T01:15:00.000Z"\
 },\
 {\
 "slot\_timming": "01:15",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T01:15:00.000Z",\
 "slot\_end\_time": "2018-04-19T01:30:00.000Z"\
 },\
 {\
 "slot\_timming": "01:30",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T01:30:00.000Z",\
 "slot\_end\_time": "2018-04-19T01:45:00.000Z"\
 },\
 {\
 "slot\_timming": "01:45",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T01:45:00.000Z",\
 "slot\_end\_time": "2018-04-19T02:00:00.000Z"\
 },\
 {\
 "slot\_timming": "02:00",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T02:00:00.000Z",\
 "slot\_end\_time": "2018-04-19T02:15:00.000Z"\
 },\
 {\
 "slot\_timming": "02:15",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T02:15:00.000Z",\
 "slot\_end\_time": "2018-04-19T02:30:00.000Z"\
 },\
 {\
 "slot\_timming": "02:30",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T02:30:00.000Z",\
 "slot\_end\_time": "2018-04-19T02:45:00.000Z"\
 },\
 {\
 "slot\_timming": "02:45",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T02:45:00.000Z",\
 "slot\_end\_time": "2018-04-19T03:00:00.000Z"\
 },\
 {\
 "slot\_timming": "03:00",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T03:00:00.000Z",\
 "slot\_end\_time": "2018-04-19T03:15:00.000Z"\
 },\
 {\
 "slot\_timming": "03:15",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T03:15:00.000Z",\
 "slot\_end\_time": "2018-04-19T03:30:00.000Z"\
 },\
 {\
 "slot\_timming": "03:30",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T03:30:00.000Z",\
 "slot\_end\_time": "2018-04-19T03:45:00.000Z"\
 },\
 {\
 "slot\_timming": "03:45",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T03:45:00.000Z",\
 "slot\_end\_time": "2018-04-19T04:00:00.000Z"\
 },\
 {\
 "slot\_timming": "04:00",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T04:00:00.000Z",\
 "slot\_end\_time": "2018-04-19T04:15:00.000Z"\
 },\
 {\
 "slot\_timming": "04:15",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T04:15:00.000Z",\
 "slot\_end\_time": "2018-04-19T04:30:00.000Z"\
 },\
 {\
 "slot\_timming": "04:30",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T04:30:00.000Z",\
 "slot\_end\_time": "2018-04-19T04:45:00.000Z"\
 },\
 {\
 "slot\_timming": "04:45",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T04:45:00.000Z",\
 "slot\_end\_time": "2018-04-19T05:00:00.000Z"\
 },\
 {\
 "slot\_timming": "05:00",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T05:00:00.000Z",\
 "slot\_end\_time": "2018-04-19T05:15:00.000Z"\
 },\
 {\
 "slot\_timming": "05:15",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T05:15:00.000Z",\
 "slot\_end\_time": "2018-04-19T05:30:00.000Z"\
 },\
 {\
 "slot\_timming": "05:30",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T05:30:00.000Z",\
 "slot\_end\_time": "2018-04-19T05:45:00.000Z"\
 },\
 {\
 "slot\_timming": "05:45",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T05:45:00.000Z",\
 "slot\_end\_time": "2018-04-19T06:00:00.000Z"\
 },\
 {\
 "slot\_timming": "06:00",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T06:00:00.000Z",\
 "slot\_end\_time": "2018-04-19T06:15:00.000Z"\
 },\
 {\
 "slot\_timming": "06:15",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T06:15:00.000Z",\
 "slot\_end\_time": "2018-04-19T06:30:00.000Z"\
 },\
 {\
 "slot\_timming": "06:30",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T06:30:00.000Z",\
 "slot\_end\_time": "2018-04-19T06:45:00.000Z"\
 },\
 {\
 "slot\_timming": "06:45",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T06:45:00.000Z",\
 "slot\_end\_time": "2018-04-19T07:00:00.000Z"\
 },\
 {\
 "slot\_timming": "07:00",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T07:00:00.000Z",\
 "slot\_end\_time": "2018-04-19T07:15:00.000Z"\
 },\
 {\
 "slot\_timming": "07:15",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T07:15:00.000Z",\
 "slot\_end\_time": "2018-04-19T07:30:00.000Z"\
 },\
 {\
 "slot\_timming": "07:30",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T07:30:00.000Z",\
 "slot\_end\_time": "2018-04-19T07:45:00.000Z"\
 },\
 {\
 "slot\_timming": "07:45",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T07:45:00.000Z",\
 "slot\_end\_time": "2018-04-19T08:00:00.000Z"\
 },\
 {\
 "slot\_timming": "08:00",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T08:00:00.000Z",\
 "slot\_end\_time": "2018-04-19T08:15:00.000Z"\
 },\
 {\
 "slot\_timming": "08:15",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T08:15:00.000Z",\
 "slot\_end\_time": "2018-04-19T08:30:00.000Z"\
 },\
 {\
 "slot\_timming": "08:30",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T08:30:00.000Z",\
 "slot\_end\_time": "2018-04-19T08:45:00.000Z"\
 },\
 {\
 "slot\_timming": "08:45",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T08:45:00.000Z",\
 "slot\_end\_time": "2018-04-19T09:00:00.000Z"\
 },\
 {\
 "slot\_timming": "09:00",\
 "available\_status": 0,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T09:00:00.000Z",\
 "slot\_end\_time": "2018-04-19T09:15:00.000Z"\
 },\
 {\
 "slot\_timming": "09:15",\
 "available\_status": 0,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T09:15:00.000Z",\
 "slot\_end\_time": "2018-04-19T09:30:00.000Z"\
 },\
 {\
 "slot\_timming": "09:30",\
 "available\_status": 0,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T09:30:00.000Z",\
 "slot\_end\_time": "2018-04-19T09:45:00.000Z"\
 },\
 {\
 "slot\_timming": "09:45",\
 "available\_status": 0,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T09:45:00.000Z",\
 "slot\_end\_time": "2018-04-19T10:00:00.000Z"\
 },\
 {\
 "slot\_timming": "10:00",\
 "available\_status": 0,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T10:00:00.000Z",\
 "slot\_end\_time": "2018-04-19T10:15:00.000Z"\
 },\
 {\
 "slot\_timming": "10:15",\
 "available\_status": 0,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T10:15:00.000Z",\
 "slot\_end\_time": "2018-04-19T10:30:00.000Z"\
 },\
 {\
 "slot\_timming": "23:45",\
 "available\_status": 1,\
 "jobs": \[\],\
 "slot\_start\_time": "2018-04-19T23:45:00.000Z",\
 "slot\_end\_time": "2018-04-20T00:00:00.000Z"\
 }\
 \]\
 }\
 \]}
 }

\## Set Agent Schedule \[/set\_fleet\_day\_availability\]

\### Set Agent Schedule \[POST\]

This API is used to set the agent schedule for a particular date.

The period between the start time and end time will be marked as 'Available', while the period between the break start time and break end time will be marked as 'Unavailable'.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| date\* | date | Enter date for which you want to set the agent schedule |
| fleet\_ids\* | array | You can specify array of fleet ids for setting the schedule. |
| availability\_schedule | json array | This array of objects contains the schedules for agents, specifying their availability with start and end times and their non-availability periods defined by break start and end times. |

\+ Request (application/json)

 {
 "api\_key": "1fc5defefb668fcf820bac29e7b7aa05",
 "date": "2024-06-07",
 "fleet\_ids" : \[34434,42242,422444\]
 "availability\_schedule" :\[\
 {\
 "start\_time": "08:00",\
 "end\_time": "19:00",\
 "break\_start\_time": "13:00",\
 "break\_end\_time": "14:00"\
 }\
 \]
 }
\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\## Get Agent Activity Timeline \[/fleet\_activity\_timeline\]

\### Get Agent Activity Timeline \[POST\]

This API is used to get an agent's daily activity timeline.

Request Body Parametrs:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id\* | string | You can get it from your tookan account or you can use 'Get All Agents' API for retrieving list from your account. |
| date\* | date | Enter the date for which you want to get the agent activity timeline. |
| timezone\* | string | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330`, for CST: `+360` (CDT: `+300`) |
| start\_time\* | date time | Start Date time for the date range. |
| end\_time\* | date time | End Date time for the date range. |

\+ Request (application/json)

 {
 "api\_key":"YOUR\_API\_KEY",
 "fleet\_id":17846,
 "timezone":-330,
 "date":"2018-11-04",
 "start\_time":"2018-11-04 00:00:00",
 "end\_time":"2018-11-04 23:59:59"
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": \[\
 {\
 "end\_lat":0,\
 "end\_long":0,\
 "distance":0,\
 "seconds":0,\
 "start\_time":"2018-11-04T09:50:44.591Z",\
 "end\_time":"2018-11-04T09:50:44.591Z",\
 "start\_time\_stamp":1541325044591,\
 "end\_time\_stamp":1541325044591,\
 "stop\_or\_move\_flag":2,\
 "tasks":\[\
 {\
 "task":1,\
 "job\_id":23326865,\
 "type":"state\_changed",\
 "description":"Assign Manish30 to task - 7756",\
 "latitude":"30.7187701",\
 "longitude":"76.8106131",\
 "creation\_datetime":"2018-11-04T09:32:42.000Z",\
 "timestamp":1541323962000,\
 "extra\_fields":null,\
 "label\_description":"ASSIGNEDAssign Manish30 to task - 7756"\
 },\
 {\
 "task":1,\
 "job\_id":23326865,\
 "type":"state\_changed",\
 "description":"Accepted at",\
 "latitude":"30.7187561",\
 "longitude":"76.8106254",\
 "creation\_datetime":"2018-11-04T09:32:55.000Z",\
 "timestamp":1541323975000,\
 "extra\_fields":null,\
 "label\_description":"ACCEPTEDat"\
 },\
 {\
 "task":1,\
 "job\_id":23326865,\
 "type":"state\_changed",\
 "description":"Started at",\
 "latitude":"30.7187561",\
 "longitude":"76.8106254",\
 "creation\_datetime":"2018-11-04T09:32:58.000Z",\
 "timestamp":1541323978000,\
 "extra\_fields":null,\
 "label\_description":"STARTEDat"\
 },\
 {\
 "task":1,\
 "job\_id":23326865,\
 "type":"state\_changed",\
 "description":"Arrived at",\
 "latitude":"30.7187561",\
 "longitude":"76.8106254",\
 "creation\_datetime":"2018-11-04T09:33:05.000Z",\
 "timestamp":1541323985000,\
 "extra\_fields":null,\
 "label\_description":"ARRIVEDat"\
 }\
 \]\
 },\
 {\
 "end\_lat":30.7187493,\
 "end\_long":76.8106329,\
 "distance":0,\
 "seconds":13339,\
 "start\_time":"2018-11-04T09:50:44.591Z",\
 "end\_time":"2018-11-04T13:33:04.018Z",\
 "start\_time\_stamp":1541325044591,\
 "end\_time\_stamp":1541338384018,\
 "stop\_or\_move\_flag":0,\
 "tasks":\[\
 {\
 "task":1,\
 "job\_id":23326865,\
 "type":"state\_changed",\
 "description":"Failed at#-#fh",\
 "latitude":"30.7187501",\
 "longitude":"76.810632",\
 "creation\_datetime":"2018-11-04T11:29:53.000Z",\
 "timestamp":1541330993000,\
 "extra\_fields":null,\
 "label\_description":"FAILEDat#-#fh"\
 },\
 {\
 "task":1,\
 "job\_id":23330155,\
 "type":"state\_changed",\
 "description":"Accepted at",\
 "latitude":"30.7187501",\
 "longitude":"76.810632",\
 "creation\_datetime":"2018-11-04T11:55:05.000Z",\
 "timestamp":1541332505000,\
 "extra\_fields":null,\
 "label\_description":"ACCEPTEDat"\
 }\
 \]\
 },\
 {\
 "end\_lat":30.66253663,\
 "end\_long":76.81815817,\
 "distance":6403,\
 "seconds":366.14,\
 "start\_time":"2018-11-04T13:33:04.018Z",\
 "end\_time":"2018-11-04T13:39:10.158Z",\
 "start\_time\_stamp":1541338384018,\
 "end\_time\_stamp":1541338750158,\
 "stop\_or\_move\_flag":1,\
 "tasks":\[\
 {\
 "task":1,\
 "job\_id":23326866,\
 "type":"state\_changed",\
 "description":"Started at",\
 "latitude":"30.67830618",\
 "longitude":"76.80821761",\
 "creation\_datetime":"2018-11-04T13:37:03.000Z",\
 "timestamp":1541338623000,\
 "extra\_fields":null,\
 "label\_description":"STARTEDat"\
 },\
 {\
 "task":1,\
 "job\_id":23326866,\
 "type":"state\_changed",\
 "description":"Arrived at",\
 "latitude":"30.67679369",\
 "longitude":"76.80901483",\
 "creation\_datetime":"2018-11-04T13:37:13.000Z",\
 "timestamp":1541338633000,\
 "extra\_fields":null,\
 "label\_description":"ARRIVEDat"\
 },\
 {\
 "task":1,\
 "job\_id":23326866,\
 "type":"state\_changed",\
 "description":"Successful at",\
 "latitude":"30.67371866",\
 "longitude":"76.81086691",\
 "creation\_datetime":"2018-11-04T13:37:27.000Z",\
 "timestamp":1541338647000,\
 "extra\_fields":null,\
 "label\_description":"SUCCESSFULat"\
 }\
 \],\
 "polyline":"{pmzDa}xsMYwBjBwDv@\_B\`E\|@zDrCbBlAtAbApA~@lAz@lA\|@rA\`AbBlAzAhA~AjAfBpAhBrAfBpAbBnAzAfAzAfAlA\|@jAz@bBlAjAz@jAz@pA~@vAbAtAbA\|AfArA~@jAz@bBlAjAx@hAx@bBlAjAx@bBlApAx@nAn@fB}@bAmAlAwAxAeBtAaBnAyAnAwArAmAjB{@tBm@lBi@fBe@xAa@pBi@zAa@pBi@bBe@hBg@nBi@zBm@dI{BbI\_CnHuClHsCzB}@lH\_DpHsDrH}DhHyDhH{DzGwD\`H{DpAu@jHeEfHgEjGuDvBoA",\
 "last\_timestamp":1541338751323,\
 "last\_requesttime":1541338754183,\
 "last\_task\_time":"2018-11-04T13:37:27.000Z"\
 }\
 \]
 }

\## Get Agent Ratings And Reviews \[/fleet\_ratings\_and\_reviews\]

\### Get Agent Ratings And Reviews \[POST\]

This API is used to get agent's overall rating and reviews given by customers.

Request Body Parametrs:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_ids\* | array | You can get it from your tookan account or you can use 'Get All Agents' API for retrieving list from your account. |

\+ Request (application/json)

 {
 "api\_key":"YOUR\_API\_KEY",
 "fleet\_ids":\[17846,23451\]
 }

\+ Response 200 (application/json)

 {
 "message": "ACTION\_COMPLETE",
 "status": 200,
 "data": \[\
 {\
 "fleet\_id": 17846,\
 "username": "Agent1",\
 "customer\_ratings": 4,\
 "reviews\_count": 1,\
 "customer\_comments": \[\
 "WELL DONE"\
 \],\
 "comments\_details": \[\
 {\
 "customer\_comment": "Very professional and did a great job.",\
 "customer\_username": "Customer1",\
 "utc\_date\_time": "2018-10-03 19:56:02",\
 "local\_date\_time": "2018-10-03 12:56:02",\
 "rating": 5\
 },\
 {\
 "customer\_comment": "",\
 "customer\_username": "Customer2",\
 "utc\_date\_time": "2018-03-26 17:26:19",\
 "local\_date\_time": "2018-03-26 10:26:19",\
 "rating": 3\
 }\
 \]\
 },\
 {\
 "fleet\_id": 23451,\
 "username": "Agent46",\
 "customer\_ratings": 5,\
 "reviews\_count": 1,\
 "customer\_comments": \[\
 "EXCELLENT",\
 "GOOD",\
 "GOOD"\
 \],\
 "comments\_details": \[\
 {\
 "customer\_comment": "Very professional and did a great job.",\
 "customer\_username": "Customer1",\
 "utc\_date\_time": "2018-10-03 19:56:02",\
 "local\_date\_time": "2018-10-03 12:56:02",\
 "rating": 5\
 },\
 {\
 "customer\_comment": "",\
 "customer\_username": "Customer2",\
 "utc\_date\_time": "2018-03-26 17:26:19",\
 "local\_date\_time": "2018-03-26 10:26:19",\
 "rating": 3\
 }\
 \]\
 }\
 \]
}
\## Get Agent Activity Timeline \[/fleet\_activity\_timeline\]

\### Get Agent Activity Timeline \[POST\]

This API is used to get an agent's daily activity timeline.

Request Body Parametrs:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id\* | string | You can get it from your tookan account or you can use 'Get All Agents' API for retrieving list from your account. |
| date\* | date | Enter the date for which you want to get the agent activity timeline. |
| timezone\* | string | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330`, for CST: `+360` (CDT: `+300`) |
| start\_time\* | date time | Start Date time for the date range. |
| end\_time\* | date time | End Date time for the date range. |

\+ Request (application/json)

 {
 "api\_key":"YOUR\_API\_KEY",
 "fleet\_id":17846,
 "timezone":-330,
 "date":"2018-11-04",
 "start\_time":"2018-11-04 00:00:00",
 "end\_time":"2018-11-04 23:59:59"
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": \[\
 {\
 "end\_lat":0,\
 "end\_long":0,\
 "distance":0,\
 "seconds":0,\
 "start\_time":"2018-11-04T09:50:44.591Z",\
 "end\_time":"2018-11-04T09:50:44.591Z",\
 "start\_time\_stamp":1541325044591,\
 "end\_time\_stamp":1541325044591,\
 "stop\_or\_move\_flag":2,\
 "tasks":\[\
 {\
 "task":1,\
 "job\_id":23326865,\
 "type":"state\_changed",\
 "description":"Assign Manish30 to task - 7756",\
 "latitude":"30.7187701",\
 "longitude":"76.8106131",\
 "creation\_datetime":"2018-11-04T09:32:42.000Z",\
 "timestamp":1541323962000,\
 "extra\_fields":null,\
 "label\_description":"ASSIGNEDAssign Manish30 to task - 7756"\
 },\
 {\
 "task":1,\
 "job\_id":23326865,\
 "type":"state\_changed",\
 "description":"Accepted at",\
 "latitude":"30.7187561",\
 "longitude":"76.8106254",\
 "creation\_datetime":"2018-11-04T09:32:55.000Z",\
 "timestamp":1541323975000,\
 "extra\_fields":null,\
 "label\_description":"ACCEPTEDat"\
 },\
 {\
 "task":1,\
 "job\_id":23326865,\
 "type":"state\_changed",\
 "description":"Started at",\
 "latitude":"30.7187561",\
 "longitude":"76.8106254",\
 "creation\_datetime":"2018-11-04T09:32:58.000Z",\
 "timestamp":1541323978000,\
 "extra\_fields":null,\
 "label\_description":"STARTEDat"\
 },\
 {\
 "task":1,\
 "job\_id":23326865,\
 "type":"state\_changed",\
 "description":"Arrived at",\
 "latitude":"30.7187561",\
 "longitude":"76.8106254",\
 "creation\_datetime":"2018-11-04T09:33:05.000Z",\
 "timestamp":1541323985000,\
 "extra\_fields":null,\
 "label\_description":"ARRIVEDat"\
 }\
 \]\
 },\
 {\
 "end\_lat":30.7187493,\
 "end\_long":76.8106329,\
 "distance":0,\
 "seconds":13339,\
 "start\_time":"2018-11-04T09:50:44.591Z",\
 "end\_time":"2018-11-04T13:33:04.018Z",\
 "start\_time\_stamp":1541325044591,\
 "end\_time\_stamp":1541338384018,\
 "stop\_or\_move\_flag":0,\
 "tasks":\[\
 {\
 "task":1,\
 "job\_id":23326865,\
 "type":"state\_changed",\
 "description":"Failed at#-#fh",\
 "latitude":"30.7187501",\
 "longitude":"76.810632",\
 "creation\_datetime":"2018-11-04T11:29:53.000Z",\
 "timestamp":1541330993000,\
 "extra\_fields":null,\
 "label\_description":"FAILEDat#-#fh"\
 },\
 {\
 "task":1,\
 "job\_id":23330155,\
 "type":"state\_changed",\
 "description":"Accepted at",\
 "latitude":"30.7187501",\
 "longitude":"76.810632",\
 "creation\_datetime":"2018-11-04T11:55:05.000Z",\
 "timestamp":1541332505000,\
 "extra\_fields":null,\
 "label\_description":"ACCEPTEDat"\
 }\
 \]\
 },\
 {\
 "end\_lat":30.66253663,\
 "end\_long":76.81815817,\
 "distance":6403,\
 "seconds":366.14,\
 "start\_time":"2018-11-04T13:33:04.018Z",\
 "end\_time":"2018-11-04T13:39:10.158Z",\
 "start\_time\_stamp":1541338384018,\
 "end\_time\_stamp":1541338750158,\
 "stop\_or\_move\_flag":1,\
 "tasks":\[\
 {\
 "task":1,\
 "job\_id":23326866,\
 "type":"state\_changed",\
 "description":"Started at",\
 "latitude":"30.67830618",\
 "longitude":"76.80821761",\
 "creation\_datetime":"2018-11-04T13:37:03.000Z",\
 "timestamp":1541338623000,\
 "extra\_fields":null,\
 "label\_description":"STARTEDat"\
 },\
 {\
 "task":1,\
 "job\_id":23326866,\
 "type":"state\_changed",\
 "description":"Arrived at",\
 "latitude":"30.67679369",\
 "longitude":"76.80901483",\
 "creation\_datetime":"2018-11-04T13:37:13.000Z",\
 "timestamp":1541338633000,\
 "extra\_fields":null,\
 "label\_description":"ARRIVEDat"\
 },\
 {\
 "task":1,\
 "job\_id":23326866,\
 "type":"state\_changed",\
 "description":"Successful at",\
 "latitude":"30.67371866",\
 "longitude":"76.81086691",\
 "creation\_datetime":"2018-11-04T13:37:27.000Z",\
 "timestamp":1541338647000,\
 "extra\_fields":null,\
 "label\_description":"SUCCESSFULat"\
 }\
 \],\
 "polyline":"{pmzDa}xsMYwBjBwDv@\_B\`E\|@zDrCbBlAtAbApA~@lAz@lA\|@rA\`AbBlAzAhA~AjAfBpAhBrAfBpAbBnAzAfAzAfAlA\|@jAz@bBlAjAz@jAz@pA~@vAbAtAbA\|AfArA~@jAz@bBlAjAx@hAx@bBlAjAx@bBlApAx@nAn@fB}@bAmAlAwAxAeBtAaBnAyAnAwArAmAjB{@tBm@lBi@fBe@xAa@pBi@zAa@pBi@bBe@hBg@nBi@zBm@dI{BbI\_CnHuClHsCzB}@lH\_DpHsDrH}DhHyDhH{DzGwD\`H{DpAu@jHeEfHgEjGuDvBoA",\
 "last\_timestamp":1541338751323,\
 "last\_requesttime":1541338754183,\
 "last\_task\_time":"2018-11-04T13:37:27.000Z"\
 }\
 \]
 }
\## Get Nearby Agents \[/getNearbyAgents\]

\### Get Nearby Agents \[POST\]

This API is used to get available agent's near the given latitude longitude up to 100kms.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| latitude\* | number | The latitude of the location from where you want nearby available fleets. |
| longitude\* | number | The longitude of the location from where you want nearby available fleets. |
| radius\_in\_metres\* | number | Some radius in metre |

\+ Request (application/json)

 {
 "api\_key": "YOUR\_API\_KEY",
 "latitude": 32.5555,
 "longitude": 72.5555
 "radius\_in\_metres": 100
}

\+ Response 200 (application/json)

 {
 "message": "ACTION\_COMPLETE",
 "status": 200,
 "data": \[\]
}

\## Get Agents Near Customer \[/get\_fleets\_near\_customer\]

\### Get Agents Near Customer \[POST\]

This API is used to get available agent's near customers.

Request Body Parametrs:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| customer\_id\* | number | You can get it from your tookan account or you can use 'Get All Customer' API for retrieving list from your account. |
| radius\_in\_metres\* | number | Some radius in metre |

\+ Request (application/json)

 {
 "api\_key":"YOUR\_API\_KEY",
 "customer\_id": 12345,
 "radius\_in\_metres" : 100
 }

\+ Response 200 (application/json)

 {
 "message": "ACTION\_COMPLETE",
 "status": 200,
 "data": \[\
\
 \]
}

\## Assign Agent To Task \[/assign\_fleet\_to\_task\]

\### Assign Agent To Task \[POST\]

This API is used to assign an agent to your task.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_id\* | number | This is the unique id given to every job which is returned while creating a task. |
| fleet\_id\* | number | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| team\_id\* | number | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| notify | 0/1 | This is used to enable the notifications. |
| geofence | 0/1 | This is used to enable the geofencing. |
| job\_status | string | Refer status codes section above for various statuses available. |

\+ Request (application/json)

 {
 "api\_key":"55631.076225def01849131c152c3017162c431fe4c4fe2c",
 "job\_id":20813248,
 "team\_id":72193,
 "fleet\_id":165932,
 "notify":1,
 "geofence":0,
 "job\_status":"0"
 }

\+ Response 200 (application/json)

 {
 "message":"The Agent 'test agent' has been assigned to task '20813248'",
 "status":200,
 "data":{}
 }

\## Assign Agent To Related Tasks \[/assign\_fleet\_to\_related\_tasks\]

\### Assign Agent To Related Tasks \[POST\]

This API is used to assign an agent to related task.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| team\_id\* | number | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| notify | 0/1 (optional) | This is used to enable the notifications. |
| geofence | 0/1 (optional) | This is used to enable the geofencing. |
| job\_status | string (optional) | Refer status codes section above for various statuses available. |
| merchant\_id | number (optional) | This is the unique ID given to each merchant. If you want to assign a task to merchant's team/agent, send the corresponding merchant\_id. You can get it from dashboard Menu>More>Merchant. |
| pickup\_delivery\_relationship\* | string | This is the relationship key between pickup and delivery tasks. Either send this or the job\_id |

\+ Request (application/json)

 {
 "api\_key":"55631.076225def1849131c152c3017162c431fe4c4fe2c",
 "pickup\_delivery\_relationship": "230604115408992882073152"
 "team\_id":72193,
 "fleet\_id":165932,
 "notify":1,
 "geofence":0,
 "job\_status":"0"
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\## Reassign Multiple Tasks To Agent \[/reassign\_open\_tasks\]

\### Reassign Multiple Tasks To Agent \[POST\]

This API is used to reassign multiple tasks to agent.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| team\_id | number (Optional) | This is the unique id of every team. You can get it from the Dashboard>Menu>Settings>Teams>respective id of the team will be displayed. |
| fleet\_id\* | number | This is the unique id of every agent. You can get it from the Dashboard>Menu>Agent>respective id of the agent will be displayed. |
| job\_ids\* | Array | Enter array of task ids. |

\+ Request (application/json)

 {
 "api\_key":"25def1849131c152c3017162c431fe4c4fe2c",
 "user\_id": 12345,
 "team\_id": 123,
 "fleet\_id": 123456,
 "job\_ids":\[123,1234,12345,123456\]
 }

\+ Response 200 (application/json)

 {
 "message": "Bulk assignment in progress, may take several minutes.",
 "status": 200,
 "data": {}
 }

\## Get Monthly Agent Schedule \[/get\_fleets\_monthly\_availability\]

\### Get Monthly Agent Schedule \[POST\]

This API is used to get an agent's schedule within date range.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id\* | string | This is the unique id of every agent. You can get it from the Dashboard>Menu>Agent>respective id of the agent will be displayed. |
| start\_date\* | string | Start date specified in YYYY-MM-DD format. |
| end\_date\* | string | End date specified in YYYY-MM-DD format. |

\+ Request (application/json)

 {
 "api\_key": "25def1849131c152c3017162c431fe4c4fe2c",
 "fleet\_id": "12345",
 "start\_date": "2020-03-01",
 "end\_date": "2020-03-31"
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {
 "fleet": {
 "fleet\_id": 54019,
 "username": "mukul",
 "email": "",
 "is\_available": 0,
 "fleet\_image": "app/img/user.png",
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/user.png"
 },
 "datewise\_availability": \[\
 "2020-03-01",\
 "2020-03-02",\
 "2020-03-03",\
 "2020-03-04"\
 \],
 "detailed\_slots": \[\
 {\
 "date": "2020-03-01",\
 "slots": \[\
 {\
 "slot\_timming": "00:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 00:01:00 AM",\
 "slot\_end\_time": "2020-03-01 00:15:00 AM"\
 },\
 {\
 "slot\_timming": "00:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 00:16:00 AM",\
 "slot\_end\_time": "2020-03-01 00:30:00 AM"\
 },\
 {\
 "slot\_timming": "00:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 00:31:00 AM",\
 "slot\_end\_time": "2020-03-01 00:45:00 AM"\
 },\
 {\
 "slot\_timming": "00:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 00:46:00 AM",\
 "slot\_end\_time": "2020-03-01 01:00:00 AM"\
 },\
 {\
 "slot\_timming": "01:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 01:01:00 AM",\
 "slot\_end\_time": "2020-03-01 01:15:00 AM"\
 },\
 {\
 "slot\_timming": "01:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 01:16:00 AM",\
 "slot\_end\_time": "2020-03-01 01:30:00 AM"\
 },\
 {\
 "slot\_timming": "01:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 01:31:00 AM",\
 "slot\_end\_time": "2020-03-01 01:45:00 AM"\
 },\
 {\
 "slot\_timming": "01:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 01:46:00 AM",\
 "slot\_end\_time": "2020-03-01 02:00:00 AM"\
 },\
 {\
 "slot\_timming": "02:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 02:01:00 AM",\
 "slot\_end\_time": "2020-03-01 02:15:00 AM"\
 },\
 {\
 "slot\_timming": "02:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 02:16:00 AM",\
 "slot\_end\_time": "2020-03-01 02:30:00 AM"\
 },\
 {\
 "slot\_timming": "02:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 02:31:00 AM",\
 "slot\_end\_time": "2020-03-01 02:45:00 AM"\
 },\
 {\
 "slot\_timming": "02:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 02:46:00 AM",\
 "slot\_end\_time": "2020-03-01 03:00:00 AM"\
 },\
 {\
 "slot\_timming": "03:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 03:01:00 AM",\
 "slot\_end\_time": "2020-03-01 03:15:00 AM"\
 },\
 {\
 "slot\_timming": "03:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 03:16:00 AM",\
 "slot\_end\_time": "2020-03-01 03:30:00 AM"\
 },\
 {\
 "slot\_timming": "03:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 03:31:00 AM",\
 "slot\_end\_time": "2020-03-01 03:45:00 AM"\
 },\
 {\
 "slot\_timming": "03:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 03:46:00 AM",\
 "slot\_end\_time": "2020-03-01 04:00:00 AM"\
 },\
 {\
 "slot\_timming": "04:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 04:01:00 AM",\
 "slot\_end\_time": "2020-03-01 04:15:00 AM"\
 },\
 {\
 "slot\_timming": "04:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 04:16:00 AM",\
 "slot\_end\_time": "2020-03-01 04:30:00 AM"\
 },\
 {\
 "slot\_timming": "04:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 04:31:00 AM",\
 "slot\_end\_time": "2020-03-01 04:45:00 AM"\
 },\
 {\
 "slot\_timming": "04:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 04:46:00 AM",\
 "slot\_end\_time": "2020-03-01 05:00:00 AM"\
 },\
 {\
 "slot\_timming": "05:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 05:01:00 AM",\
 "slot\_end\_time": "2020-03-01 05:15:00 AM"\
 },\
 {\
 "slot\_timming": "05:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 05:16:00 AM",\
 "slot\_end\_time": "2020-03-01 05:30:00 AM"\
 },\
 {\
 "slot\_timming": "05:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 05:31:00 AM",\
 "slot\_end\_time": "2020-03-01 05:45:00 AM"\
 },\
 {\
 "slot\_timming": "05:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 05:46:00 AM",\
 "slot\_end\_time": "2020-03-01 06:00:00 AM"\
 },\
 {\
 "slot\_timming": "06:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 06:01:00 AM",\
 "slot\_end\_time": "2020-03-01 06:15:00 AM"\
 },\
 {\
 "slot\_timming": "06:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 06:16:00 AM",\
 "slot\_end\_time": "2020-03-01 06:30:00 AM"\
 },\
 {\
 "slot\_timming": "06:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 06:31:00 AM",\
 "slot\_end\_time": "2020-03-01 06:45:00 AM"\
 },\
 {\
 "slot\_timming": "06:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 06:46:00 AM",\
 "slot\_end\_time": "2020-03-01 07:00:00 AM"\
 },\
 {\
 "slot\_timming": "07:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 07:01:00 AM",\
 "slot\_end\_time": "2020-03-01 07:15:00 AM"\
 },\
 {\
 "slot\_timming": "07:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 07:16:00 AM",\
 "slot\_end\_time": "2020-03-01 07:30:00 AM"\
 },\
 {\
 "slot\_timming": "07:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 07:31:00 AM",\
 "slot\_end\_time": "2020-03-01 07:45:00 AM"\
 },\
 {\
 "slot\_timming": "07:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 07:46:00 AM",\
 "slot\_end\_time": "2020-03-01 08:00:00 AM"\
 },\
 {\
 "slot\_timming": "08:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 08:01:00 AM",\
 "slot\_end\_time": "2020-03-01 08:15:00 AM"\
 },\
 {\
 "slot\_timming": "08:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 08:16:00 AM",\
 "slot\_end\_time": "2020-03-01 08:30:00 AM"\
 },\
 {\
 "slot\_timming": "08:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 08:31:00 AM",\
 "slot\_end\_time": "2020-03-01 08:45:00 AM"\
 },\
 {\
 "slot\_timming": "08:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 08:46:00 AM",\
 "slot\_end\_time": "2020-03-01 09:00:00 AM"\
 },\
 {\
 "slot\_timming": "09:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 09:01:00 AM",\
 "slot\_end\_time": "2020-03-01 09:15:00 AM"\
 },\
 {\
 "slot\_timming": "09:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 09:16:00 AM",\
 "slot\_end\_time": "2020-03-01 09:30:00 AM"\
 },\
 {\
 "slot\_timming": "09:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 09:31:00 AM",\
 "slot\_end\_time": "2020-03-01 09:45:00 AM"\
 },\
 {\
 "slot\_timming": "09:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 09:46:00 AM",\
 "slot\_end\_time": "2020-03-01 10:00:00 AM"\
 },\
 {\
 "slot\_timming": "10:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 10:01:00 AM",\
 "slot\_end\_time": "2020-03-01 10:15:00 AM"\
 },\
 {\
 "slot\_timming": "10:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 10:16:00 AM",\
 "slot\_end\_time": "2020-03-01 10:30:00 AM"\
 },\
 {\
 "slot\_timming": "10:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 10:31:00 AM",\
 "slot\_end\_time": "2020-03-01 10:45:00 AM"\
 },\
 {\
 "slot\_timming": "10:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 10:46:00 AM",\
 "slot\_end\_time": "2020-03-01 11:00:00 AM"\
 },\
 {\
 "slot\_timming": "11:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 11:01:00 AM",\
 "slot\_end\_time": "2020-03-01 11:15:00 AM"\
 },\
 {\
 "slot\_timming": "11:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 11:16:00 AM",\
 "slot\_end\_time": "2020-03-01 11:30:00 AM"\
 },\
 {\
 "slot\_timming": "11:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 11:31:00 AM",\
 "slot\_end\_time": "2020-03-01 11:45:00 AM"\
 },\
 {\
 "slot\_timming": "11:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 11:46:00 AM",\
 "slot\_end\_time": "2020-03-01 12:00:00 PM"\
 },\
 {\
 "slot\_timming": "12:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 12:01:00 PM",\
 "slot\_end\_time": "2020-03-01 12:15:00 PM"\
 },\
 {\
 "slot\_timming": "12:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 12:16:00 PM",\
 "slot\_end\_time": "2020-03-01 12:30:00 PM"\
 },\
 {\
 "slot\_timming": "12:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 12:31:00 PM",\
 "slot\_end\_time": "2020-03-01 12:45:00 PM"\
 },\
 {\
 "slot\_timming": "12:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 12:46:00 PM",\
 "slot\_end\_time": "2020-03-01 13:00:00 PM"\
 },\
 {\
 "slot\_timming": "13:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 13:01:00 PM",\
 "slot\_end\_time": "2020-03-01 13:15:00 PM"\
 },\
 {\
 "slot\_timming": "13:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 13:16:00 PM",\
 "slot\_end\_time": "2020-03-01 13:30:00 PM"\
 },\
 {\
 "slot\_timming": "13:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 13:31:00 PM",\
 "slot\_end\_time": "2020-03-01 13:45:00 PM"\
 },\
 {\
 "slot\_timming": "13:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 13:46:00 PM",\
 "slot\_end\_time": "2020-03-01 14:00:00 PM"\
 },\
 {\
 "slot\_timming": "14:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 14:01:00 PM",\
 "slot\_end\_time": "2020-03-01 14:15:00 PM"\
 },\
 {\
 "slot\_timming": "14:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 14:16:00 PM",\
 "slot\_end\_time": "2020-03-01 14:30:00 PM"\
 },\
 {\
 "slot\_timming": "14:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 14:31:00 PM",\
 "slot\_end\_time": "2020-03-01 14:45:00 PM"\
 },\
 {\
 "slot\_timming": "14:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 14:46:00 PM",\
 "slot\_end\_time": "2020-03-01 15:00:00 PM"\
 },\
 {\
 "slot\_timming": "15:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 15:01:00 PM",\
 "slot\_end\_time": "2020-03-01 15:15:00 PM"\
 },\
 {\
 "slot\_timming": "15:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 15:16:00 PM",\
 "slot\_end\_time": "2020-03-01 15:30:00 PM"\
 },\
 {\
 "slot\_timming": "15:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 15:31:00 PM",\
 "slot\_end\_time": "2020-03-01 15:45:00 PM"\
 },\
 {\
 "slot\_timming": "15:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 15:46:00 PM",\
 "slot\_end\_time": "2020-03-01 16:00:00 PM"\
 },\
 {\
 "slot\_timming": "16:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 16:01:00 PM",\
 "slot\_end\_time": "2020-03-01 16:15:00 PM"\
 },\
 {\
 "slot\_timming": "16:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 16:16:00 PM",\
 "slot\_end\_time": "2020-03-01 16:30:00 PM"\
 },\
 {\
 "slot\_timming": "16:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-01 16:31:00 PM",\
 "slot\_end\_time": "2020-03-01 16:45:00 PM"\
 },\
 {\
 "slot\_timming": "16:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 16:46:00 PM",\
 "slot\_end\_time": "2020-03-01 17:00:00 PM"\
 },\
 {\
 "slot\_timming": "17:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 17:01:00 PM",\
 "slot\_end\_time": "2020-03-01 17:15:00 PM"\
 },\
 {\
 "slot\_timming": "17:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 17:16:00 PM",\
 "slot\_end\_time": "2020-03-01 17:30:00 PM"\
 },\
 {\
 "slot\_timming": "17:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 17:31:00 PM",\
 "slot\_end\_time": "2020-03-01 17:45:00 PM"\
 },\
 {\
 "slot\_timming": "17:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 17:46:00 PM",\
 "slot\_end\_time": "2020-03-01 18:00:00 PM"\
 },\
 {\
 "slot\_timming": "18:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 18:01:00 PM",\
 "slot\_end\_time": "2020-03-01 18:15:00 PM"\
 },\
 {\
 "slot\_timming": "18:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 18:16:00 PM",\
 "slot\_end\_time": "2020-03-01 18:30:00 PM"\
 },\
 {\
 "slot\_timming": "18:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 18:31:00 PM",\
 "slot\_end\_time": "2020-03-01 18:45:00 PM"\
 },\
 {\
 "slot\_timming": "18:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 18:46:00 PM",\
 "slot\_end\_time": "2020-03-01 19:00:00 PM"\
 },\
 {\
 "slot\_timming": "19:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 19:01:00 PM",\
 "slot\_end\_time": "2020-03-01 19:15:00 PM"\
 },\
 {\
 "slot\_timming": "19:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 19:16:00 PM",\
 "slot\_end\_time": "2020-03-01 19:30:00 PM"\
 },\
 {\
 "slot\_timming": "19:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 19:31:00 PM",\
 "slot\_end\_time": "2020-03-01 19:45:00 PM"\
 },\
 {\
 "slot\_timming": "19:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 19:46:00 PM",\
 "slot\_end\_time": "2020-03-01 20:00:00 PM"\
 },\
 {\
 "slot\_timming": "20:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 20:01:00 PM",\
 "slot\_end\_time": "2020-03-01 20:15:00 PM"\
 },\
 {\
 "slot\_timming": "20:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 20:16:00 PM",\
 "slot\_end\_time": "2020-03-01 20:30:00 PM"\
 },\
 {\
 "slot\_timming": "20:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 20:31:00 PM",\
 "slot\_end\_time": "2020-03-01 20:45:00 PM"\
 },\
 {\
 "slot\_timming": "20:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 20:46:00 PM",\
 "slot\_end\_time": "2020-03-01 21:00:00 PM"\
 },\
 {\
 "slot\_timming": "21:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 21:01:00 PM",\
 "slot\_end\_time": "2020-03-01 21:15:00 PM"\
 },\
 {\
 "slot\_timming": "21:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 21:16:00 PM",\
 "slot\_end\_time": "2020-03-01 21:30:00 PM"\
 },\
 {\
 "slot\_timming": "21:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 21:31:00 PM",\
 "slot\_end\_time": "2020-03-01 21:45:00 PM"\
 },\
 {\
 "slot\_timming": "21:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 21:46:00 PM",\
 "slot\_end\_time": "2020-03-01 22:00:00 PM"\
 },\
 {\
 "slot\_timming": "22:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 22:01:00 PM",\
 "slot\_end\_time": "2020-03-01 22:15:00 PM"\
 },\
 {\
 "slot\_timming": "22:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 22:16:00 PM",\
 "slot\_end\_time": "2020-03-01 22:30:00 PM"\
 },\
 {\
 "slot\_timming": "22:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 22:31:00 PM",\
 "slot\_end\_time": "2020-03-01 22:45:00 PM"\
 },\
 {\
 "slot\_timming": "22:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 22:46:00 PM",\
 "slot\_end\_time": "2020-03-01 23:00:00 PM"\
 },\
 {\
 "slot\_timming": "23:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 23:01:00 PM",\
 "slot\_end\_time": "2020-03-01 23:15:00 PM"\
 },\
 {\
 "slot\_timming": "23:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 23:16:00 PM",\
 "slot\_end\_time": "2020-03-01 23:30:00 PM"\
 },\
 {\
 "slot\_timming": "23:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 23:31:00 PM",\
 "slot\_end\_time": "2020-03-01 23:45:00 PM"\
 },\
 {\
 "slot\_timming": "23:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-01 23:46:00 PM",\
 "slot\_end\_time": "2020-03-02 00:00:00 AM"\
 }\
 \]\
 },\
 {\
 "date": "2020-03-02",\
 "slots": \[\
 {\
 "slot\_timming": "00:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 00:01:00 AM",\
 "slot\_end\_time": "2020-03-02 00:15:00 AM"\
 },\
 {\
 "slot\_timming": "00:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 00:16:00 AM",\
 "slot\_end\_time": "2020-03-02 00:30:00 AM"\
 },\
 {\
 "slot\_timming": "00:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 00:31:00 AM",\
 "slot\_end\_time": "2020-03-02 00:45:00 AM"\
 },\
 {\
 "slot\_timming": "00:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 00:46:00 AM",\
 "slot\_end\_time": "2020-03-02 01:00:00 AM"\
 },\
 {\
 "slot\_timming": "01:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 01:01:00 AM",\
 "slot\_end\_time": "2020-03-02 01:15:00 AM"\
 },\
 {\
 "slot\_timming": "01:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 01:16:00 AM",\
 "slot\_end\_time": "2020-03-02 01:30:00 AM"\
 },\
 {\
 "slot\_timming": "01:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 01:31:00 AM",\
 "slot\_end\_time": "2020-03-02 01:45:00 AM"\
 },\
 {\
 "slot\_timming": "01:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 01:46:00 AM",\
 "slot\_end\_time": "2020-03-02 02:00:00 AM"\
 },\
 {\
 "slot\_timming": "02:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 02:01:00 AM",\
 "slot\_end\_time": "2020-03-02 02:15:00 AM"\
 },\
 {\
 "slot\_timming": "02:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 02:16:00 AM",\
 "slot\_end\_time": "2020-03-02 02:30:00 AM"\
 },\
 {\
 "slot\_timming": "02:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 02:31:00 AM",\
 "slot\_end\_time": "2020-03-02 02:45:00 AM"\
 },\
 {\
 "slot\_timming": "02:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 02:46:00 AM",\
 "slot\_end\_time": "2020-03-02 03:00:00 AM"\
 },\
 {\
 "slot\_timming": "03:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 03:01:00 AM",\
 "slot\_end\_time": "2020-03-02 03:15:00 AM"\
 },\
 {\
 "slot\_timming": "03:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 03:16:00 AM",\
 "slot\_end\_time": "2020-03-02 03:30:00 AM"\
 },\
 {\
 "slot\_timming": "03:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 03:31:00 AM",\
 "slot\_end\_time": "2020-03-02 03:45:00 AM"\
 },\
 {\
 "slot\_timming": "03:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 03:46:00 AM",\
 "slot\_end\_time": "2020-03-02 04:00:00 AM"\
 },\
 {\
 "slot\_timming": "04:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 04:01:00 AM",\
 "slot\_end\_time": "2020-03-02 04:15:00 AM"\
 },\
 {\
 "slot\_timming": "04:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 04:16:00 AM",\
 "slot\_end\_time": "2020-03-02 04:30:00 AM"\
 },\
 {\
 "slot\_timming": "04:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 04:31:00 AM",\
 "slot\_end\_time": "2020-03-02 04:45:00 AM"\
 },\
 {\
 "slot\_timming": "04:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 04:46:00 AM",\
 "slot\_end\_time": "2020-03-02 05:00:00 AM"\
 },\
 {\
 "slot\_timming": "05:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 05:01:00 AM",\
 "slot\_end\_time": "2020-03-02 05:15:00 AM"\
 },\
 {\
 "slot\_timming": "05:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 05:16:00 AM",\
 "slot\_end\_time": "2020-03-02 05:30:00 AM"\
 },\
 {\
 "slot\_timming": "05:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 05:31:00 AM",\
 "slot\_end\_time": "2020-03-02 05:45:00 AM"\
 },\
 {\
 "slot\_timming": "05:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 05:46:00 AM",\
 "slot\_end\_time": "2020-03-02 06:00:00 AM"\
 },\
 {\
 "slot\_timming": "06:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 06:01:00 AM",\
 "slot\_end\_time": "2020-03-02 06:15:00 AM"\
 },\
 {\
 "slot\_timming": "06:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 06:16:00 AM",\
 "slot\_end\_time": "2020-03-02 06:30:00 AM"\
 },\
 {\
 "slot\_timming": "06:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 06:31:00 AM",\
 "slot\_end\_time": "2020-03-02 06:45:00 AM"\
 },\
 {\
 "slot\_timming": "06:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 06:46:00 AM",\
 "slot\_end\_time": "2020-03-02 07:00:00 AM"\
 },\
 {\
 "slot\_timming": "07:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 07:01:00 AM",\
 "slot\_end\_time": "2020-03-02 07:15:00 AM"\
 },\
 {\
 "slot\_timming": "07:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 07:16:00 AM",\
 "slot\_end\_time": "2020-03-02 07:30:00 AM"\
 },\
 {\
 "slot\_timming": "07:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 07:31:00 AM",\
 "slot\_end\_time": "2020-03-02 07:45:00 AM"\
 },\
 {\
 "slot\_timming": "07:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 07:46:00 AM",\
 "slot\_end\_time": "2020-03-02 08:00:00 AM"\
 },\
 {\
 "slot\_timming": "08:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 08:01:00 AM",\
 "slot\_end\_time": "2020-03-02 08:15:00 AM"\
 },\
 {\
 "slot\_timming": "08:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 08:16:00 AM",\
 "slot\_end\_time": "2020-03-02 08:30:00 AM"\
 },\
 {\
 "slot\_timming": "08:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 08:31:00 AM",\
 "slot\_end\_time": "2020-03-02 08:45:00 AM"\
 },\
 {\
 "slot\_timming": "08:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 08:46:00 AM",\
 "slot\_end\_time": "2020-03-02 09:00:00 AM"\
 },\
 {\
 "slot\_timming": "09:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 09:01:00 AM",\
 "slot\_end\_time": "2020-03-02 09:15:00 AM"\
 },\
 {\
 "slot\_timming": "09:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 09:16:00 AM",\
 "slot\_end\_time": "2020-03-02 09:30:00 AM"\
 },\
 {\
 "slot\_timming": "09:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 09:31:00 AM",\
 "slot\_end\_time": "2020-03-02 09:45:00 AM"\
 },\
 {\
 "slot\_timming": "09:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 09:46:00 AM",\
 "slot\_end\_time": "2020-03-02 10:00:00 AM"\
 },\
 {\
 "slot\_timming": "10:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 10:01:00 AM",\
 "slot\_end\_time": "2020-03-02 10:15:00 AM"\
 },\
 {\
 "slot\_timming": "10:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 10:16:00 AM",\
 "slot\_end\_time": "2020-03-02 10:30:00 AM"\
 },\
 {\
 "slot\_timming": "10:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 10:31:00 AM",\
 "slot\_end\_time": "2020-03-02 10:45:00 AM"\
 },\
 {\
 "slot\_timming": "10:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 10:46:00 AM",\
 "slot\_end\_time": "2020-03-02 11:00:00 AM"\
 },\
 {\
 "slot\_timming": "11:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 11:01:00 AM",\
 "slot\_end\_time": "2020-03-02 11:15:00 AM"\
 },\
 {\
 "slot\_timming": "11:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 11:16:00 AM",\
 "slot\_end\_time": "2020-03-02 11:30:00 AM"\
 },\
 {\
 "slot\_timming": "11:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 11:31:00 AM",\
 "slot\_end\_time": "2020-03-02 11:45:00 AM"\
 },\
 {\
 "slot\_timming": "11:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 11:46:00 AM",\
 "slot\_end\_time": "2020-03-02 12:00:00 PM"\
 },\
 {\
 "slot\_timming": "12:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 12:01:00 PM",\
 "slot\_end\_time": "2020-03-02 12:15:00 PM"\
 },\
 {\
 "slot\_timming": "12:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 12:16:00 PM",\
 "slot\_end\_time": "2020-03-02 12:30:00 PM"\
 },\
 {\
 "slot\_timming": "12:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 12:31:00 PM",\
 "slot\_end\_time": "2020-03-02 12:45:00 PM"\
 },\
 {\
 "slot\_timming": "12:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 12:46:00 PM",\
 "slot\_end\_time": "2020-03-02 13:00:00 PM"\
 },\
 {\
 "slot\_timming": "13:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 13:01:00 PM",\
 "slot\_end\_time": "2020-03-02 13:15:00 PM"\
 },\
 {\
 "slot\_timming": "13:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 13:16:00 PM",\
 "slot\_end\_time": "2020-03-02 13:30:00 PM"\
 },\
 {\
 "slot\_timming": "13:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 13:31:00 PM",\
 "slot\_end\_time": "2020-03-02 13:45:00 PM"\
 },\
 {\
 "slot\_timming": "13:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 13:46:00 PM",\
 "slot\_end\_time": "2020-03-02 14:00:00 PM"\
 },\
 {\
 "slot\_timming": "14:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 14:01:00 PM",\
 "slot\_end\_time": "2020-03-02 14:15:00 PM"\
 },\
 {\
 "slot\_timming": "14:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 14:16:00 PM",\
 "slot\_end\_time": "2020-03-02 14:30:00 PM"\
 },\
 {\
 "slot\_timming": "14:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 14:31:00 PM",\
 "slot\_end\_time": "2020-03-02 14:45:00 PM"\
 },\
 {\
 "slot\_timming": "14:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 14:46:00 PM",\
 "slot\_end\_time": "2020-03-02 15:00:00 PM"\
 },\
 {\
 "slot\_timming": "15:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 15:01:00 PM",\
 "slot\_end\_time": "2020-03-02 15:15:00 PM"\
 },\
 {\
 "slot\_timming": "15:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 15:16:00 PM",\
 "slot\_end\_time": "2020-03-02 15:30:00 PM"\
 },\
 {\
 "slot\_timming": "15:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 15:31:00 PM",\
 "slot\_end\_time": "2020-03-02 15:45:00 PM"\
 },\
 {\
 "slot\_timming": "15:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 15:46:00 PM",\
 "slot\_end\_time": "2020-03-02 16:00:00 PM"\
 },\
 {\
 "slot\_timming": "16:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 16:01:00 PM",\
 "slot\_end\_time": "2020-03-02 16:15:00 PM"\
 },\
 {\
 "slot\_timming": "16:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 16:16:00 PM",\
 "slot\_end\_time": "2020-03-02 16:30:00 PM"\
 },\
 {\
 "slot\_timming": "16:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-02 16:31:00 PM",\
 "slot\_end\_time": "2020-03-02 16:45:00 PM"\
 },\
 {\
 "slot\_timming": "16:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 16:46:00 PM",\
 "slot\_end\_time": "2020-03-02 17:00:00 PM"\
 },\
 {\
 "slot\_timming": "17:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 17:01:00 PM",\
 "slot\_end\_time": "2020-03-02 17:15:00 PM"\
 },\
 {\
 "slot\_timming": "17:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 17:16:00 PM",\
 "slot\_end\_time": "2020-03-02 17:30:00 PM"\
 },\
 {\
 "slot\_timming": "17:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 17:31:00 PM",\
 "slot\_end\_time": "2020-03-02 17:45:00 PM"\
 },\
 {\
 "slot\_timming": "17:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 17:46:00 PM",\
 "slot\_end\_time": "2020-03-02 18:00:00 PM"\
 },\
 {\
 "slot\_timming": "18:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 18:01:00 PM",\
 "slot\_end\_time": "2020-03-02 18:15:00 PM"\
 },\
 {\
 "slot\_timming": "18:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 18:16:00 PM",\
 "slot\_end\_time": "2020-03-02 18:30:00 PM"\
 },\
 {\
 "slot\_timming": "18:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 18:31:00 PM",\
 "slot\_end\_time": "2020-03-02 18:45:00 PM"\
 },\
 {\
 "slot\_timming": "18:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 18:46:00 PM",\
 "slot\_end\_time": "2020-03-02 19:00:00 PM"\
 },\
 {\
 "slot\_timming": "19:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 19:01:00 PM",\
 "slot\_end\_time": "2020-03-02 19:15:00 PM"\
 },\
 {\
 "slot\_timming": "19:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 19:16:00 PM",\
 "slot\_end\_time": "2020-03-02 19:30:00 PM"\
 },\
 {\
 "slot\_timming": "19:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 19:31:00 PM",\
 "slot\_end\_time": "2020-03-02 19:45:00 PM"\
 },\
 {\
 "slot\_timming": "19:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 19:46:00 PM",\
 "slot\_end\_time": "2020-03-02 20:00:00 PM"\
 },\
 {\
 "slot\_timming": "20:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 20:01:00 PM",\
 "slot\_end\_time": "2020-03-02 20:15:00 PM"\
 },\
 {\
 "slot\_timming": "20:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 20:16:00 PM",\
 "slot\_end\_time": "2020-03-02 20:30:00 PM"\
 },\
 {\
 "slot\_timming": "20:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 20:31:00 PM",\
 "slot\_end\_time": "2020-03-02 20:45:00 PM"\
 },\
 {\
 "slot\_timming": "20:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 20:46:00 PM",\
 "slot\_end\_time": "2020-03-02 21:00:00 PM"\
 },\
 {\
 "slot\_timming": "21:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 21:01:00 PM",\
 "slot\_end\_time": "2020-03-02 21:15:00 PM"\
 },\
 {\
 "slot\_timming": "21:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 21:16:00 PM",\
 "slot\_end\_time": "2020-03-02 21:30:00 PM"\
 },\
 {\
 "slot\_timming": "21:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 21:31:00 PM",\
 "slot\_end\_time": "2020-03-02 21:45:00 PM"\
 },\
 {\
 "slot\_timming": "21:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 21:46:00 PM",\
 "slot\_end\_time": "2020-03-02 22:00:00 PM"\
 },\
 {\
 "slot\_timming": "22:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 22:01:00 PM",\
 "slot\_end\_time": "2020-03-02 22:15:00 PM"\
 },\
 {\
 "slot\_timming": "22:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 22:16:00 PM",\
 "slot\_end\_time": "2020-03-02 22:30:00 PM"\
 },\
 {\
 "slot\_timming": "22:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 22:31:00 PM",\
 "slot\_end\_time": "2020-03-02 22:45:00 PM"\
 },\
 {\
 "slot\_timming": "22:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 22:46:00 PM",\
 "slot\_end\_time": "2020-03-02 23:00:00 PM"\
 },\
 {\
 "slot\_timming": "23:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 23:01:00 PM",\
 "slot\_end\_time": "2020-03-02 23:15:00 PM"\
 },\
 {\
 "slot\_timming": "23:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 23:16:00 PM",\
 "slot\_end\_time": "2020-03-02 23:30:00 PM"\
 },\
 {\
 "slot\_timming": "23:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 23:31:00 PM",\
 "slot\_end\_time": "2020-03-02 23:45:00 PM"\
 },\
 {\
 "slot\_timming": "23:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-02 23:46:00 PM",\
 "slot\_end\_time": "2020-03-03 00:00:00 AM"\
 }\
 \]\
 },\
 {\
 "date": "2020-03-03",\
 "slots": \[\
 {\
 "slot\_timming": "00:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 00:01:00 AM",\
 "slot\_end\_time": "2020-03-03 00:15:00 AM"\
 },\
 {\
 "slot\_timming": "00:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 00:16:00 AM",\
 "slot\_end\_time": "2020-03-03 00:30:00 AM"\
 },\
 {\
 "slot\_timming": "00:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 00:31:00 AM",\
 "slot\_end\_time": "2020-03-03 00:45:00 AM"\
 },\
 {\
 "slot\_timming": "00:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 00:46:00 AM",\
 "slot\_end\_time": "2020-03-03 01:00:00 AM"\
 },\
 {\
 "slot\_timming": "01:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 01:01:00 AM",\
 "slot\_end\_time": "2020-03-03 01:15:00 AM"\
 },\
 {\
 "slot\_timming": "01:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 01:16:00 AM",\
 "slot\_end\_time": "2020-03-03 01:30:00 AM"\
 },\
 {\
 "slot\_timming": "01:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 01:31:00 AM",\
 "slot\_end\_time": "2020-03-03 01:45:00 AM"\
 },\
 {\
 "slot\_timming": "01:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 01:46:00 AM",\
 "slot\_end\_time": "2020-03-03 02:00:00 AM"\
 },\
 {\
 "slot\_timming": "02:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 02:01:00 AM",\
 "slot\_end\_time": "2020-03-03 02:15:00 AM"\
 },\
 {\
 "slot\_timming": "02:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 02:16:00 AM",\
 "slot\_end\_time": "2020-03-03 02:30:00 AM"\
 },\
 {\
 "slot\_timming": "02:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 02:31:00 AM",\
 "slot\_end\_time": "2020-03-03 02:45:00 AM"\
 },\
 {\
 "slot\_timming": "02:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 02:46:00 AM",\
 "slot\_end\_time": "2020-03-03 03:00:00 AM"\
 },\
 {\
 "slot\_timming": "03:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 03:01:00 AM",\
 "slot\_end\_time": "2020-03-03 03:15:00 AM"\
 },\
 {\
 "slot\_timming": "03:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 03:16:00 AM",\
 "slot\_end\_time": "2020-03-03 03:30:00 AM"\
 },\
 {\
 "slot\_timming": "03:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 03:31:00 AM",\
 "slot\_end\_time": "2020-03-03 03:45:00 AM"\
 },\
 {\
 "slot\_timming": "03:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 03:46:00 AM",\
 "slot\_end\_time": "2020-03-03 04:00:00 AM"\
 },\
 {\
 "slot\_timming": "04:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 04:01:00 AM",\
 "slot\_end\_time": "2020-03-03 04:15:00 AM"\
 },\
 {\
 "slot\_timming": "04:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 04:16:00 AM",\
 "slot\_end\_time": "2020-03-03 04:30:00 AM"\
 },\
 {\
 "slot\_timming": "04:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 04:31:00 AM",\
 "slot\_end\_time": "2020-03-03 04:45:00 AM"\
 },\
 {\
 "slot\_timming": "04:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 04:46:00 AM",\
 "slot\_end\_time": "2020-03-03 05:00:00 AM"\
 },\
 {\
 "slot\_timming": "05:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 05:01:00 AM",\
 "slot\_end\_time": "2020-03-03 05:15:00 AM"\
 },\
 {\
 "slot\_timming": "05:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 05:16:00 AM",\
 "slot\_end\_time": "2020-03-03 05:30:00 AM"\
 },\
 {\
 "slot\_timming": "05:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 05:31:00 AM",\
 "slot\_end\_time": "2020-03-03 05:45:00 AM"\
 },\
 {\
 "slot\_timming": "05:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 05:46:00 AM",\
 "slot\_end\_time": "2020-03-03 06:00:00 AM"\
 },\
 {\
 "slot\_timming": "06:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 06:01:00 AM",\
 "slot\_end\_time": "2020-03-03 06:15:00 AM"\
 },\
 {\
 "slot\_timming": "06:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 06:16:00 AM",\
 "slot\_end\_time": "2020-03-03 06:30:00 AM"\
 },\
 {\
 "slot\_timming": "06:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 06:31:00 AM",\
 "slot\_end\_time": "2020-03-03 06:45:00 AM"\
 },\
 {\
 "slot\_timming": "06:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 06:46:00 AM",\
 "slot\_end\_time": "2020-03-03 07:00:00 AM"\
 },\
 {\
 "slot\_timming": "07:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 07:01:00 AM",\
 "slot\_end\_time": "2020-03-03 07:15:00 AM"\
 },\
 {\
 "slot\_timming": "07:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 07:16:00 AM",\
 "slot\_end\_time": "2020-03-03 07:30:00 AM"\
 },\
 {\
 "slot\_timming": "07:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 07:31:00 AM",\
 "slot\_end\_time": "2020-03-03 07:45:00 AM"\
 },\
 {\
 "slot\_timming": "07:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 07:46:00 AM",\
 "slot\_end\_time": "2020-03-03 08:00:00 AM"\
 },\
 {\
 "slot\_timming": "08:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 08:01:00 AM",\
 "slot\_end\_time": "2020-03-03 08:15:00 AM"\
 },\
 {\
 "slot\_timming": "08:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 08:16:00 AM",\
 "slot\_end\_time": "2020-03-03 08:30:00 AM"\
 },\
 {\
 "slot\_timming": "08:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 08:31:00 AM",\
 "slot\_end\_time": "2020-03-03 08:45:00 AM"\
 },\
 {\
 "slot\_timming": "08:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 08:46:00 AM",\
 "slot\_end\_time": "2020-03-03 09:00:00 AM"\
 },\
 {\
 "slot\_timming": "09:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 09:01:00 AM",\
 "slot\_end\_time": "2020-03-03 09:15:00 AM"\
 },\
 {\
 "slot\_timming": "09:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 09:16:00 AM",\
 "slot\_end\_time": "2020-03-03 09:30:00 AM"\
 },\
 {\
 "slot\_timming": "09:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 09:31:00 AM",\
 "slot\_end\_time": "2020-03-03 09:45:00 AM"\
 },\
 {\
 "slot\_timming": "09:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 09:46:00 AM",\
 "slot\_end\_time": "2020-03-03 10:00:00 AM"\
 },\
 {\
 "slot\_timming": "10:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 10:01:00 AM",\
 "slot\_end\_time": "2020-03-03 10:15:00 AM"\
 },\
 {\
 "slot\_timming": "10:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 10:16:00 AM",\
 "slot\_end\_time": "2020-03-03 10:30:00 AM"\
 },\
 {\
 "slot\_timming": "10:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 10:31:00 AM",\
 "slot\_end\_time": "2020-03-03 10:45:00 AM"\
 },\
 {\
 "slot\_timming": "10:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 10:46:00 AM",\
 "slot\_end\_time": "2020-03-03 11:00:00 AM"\
 },\
 {\
 "slot\_timming": "11:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 11:01:00 AM",\
 "slot\_end\_time": "2020-03-03 11:15:00 AM"\
 },\
 {\
 "slot\_timming": "11:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 11:16:00 AM",\
 "slot\_end\_time": "2020-03-03 11:30:00 AM"\
 },\
 {\
 "slot\_timming": "11:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 11:31:00 AM",\
 "slot\_end\_time": "2020-03-03 11:45:00 AM"\
 },\
 {\
 "slot\_timming": "11:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 11:46:00 AM",\
 "slot\_end\_time": "2020-03-03 12:00:00 PM"\
 },\
 {\
 "slot\_timming": "12:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 12:01:00 PM",\
 "slot\_end\_time": "2020-03-03 12:15:00 PM"\
 },\
 {\
 "slot\_timming": "12:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 12:16:00 PM",\
 "slot\_end\_time": "2020-03-03 12:30:00 PM"\
 },\
 {\
 "slot\_timming": "12:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 12:31:00 PM",\
 "slot\_end\_time": "2020-03-03 12:45:00 PM"\
 },\
 {\
 "slot\_timming": "12:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 12:46:00 PM",\
 "slot\_end\_time": "2020-03-03 13:00:00 PM"\
 },\
 {\
 "slot\_timming": "13:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 13:01:00 PM",\
 "slot\_end\_time": "2020-03-03 13:15:00 PM"\
 },\
 {\
 "slot\_timming": "13:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 13:16:00 PM",\
 "slot\_end\_time": "2020-03-03 13:30:00 PM"\
 },\
 {\
 "slot\_timming": "13:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 13:31:00 PM",\
 "slot\_end\_time": "2020-03-03 13:45:00 PM"\
 },\
 {\
 "slot\_timming": "13:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 13:46:00 PM",\
 "slot\_end\_time": "2020-03-03 14:00:00 PM"\
 },\
 {\
 "slot\_timming": "14:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 14:01:00 PM",\
 "slot\_end\_time": "2020-03-03 14:15:00 PM"\
 },\
 {\
 "slot\_timming": "14:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 14:16:00 PM",\
 "slot\_end\_time": "2020-03-03 14:30:00 PM"\
 },\
 {\
 "slot\_timming": "14:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 14:31:00 PM",\
 "slot\_end\_time": "2020-03-03 14:45:00 PM"\
 },\
 {\
 "slot\_timming": "14:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 14:46:00 PM",\
 "slot\_end\_time": "2020-03-03 15:00:00 PM"\
 },\
 {\
 "slot\_timming": "15:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 15:01:00 PM",\
 "slot\_end\_time": "2020-03-03 15:15:00 PM"\
 },\
 {\
 "slot\_timming": "15:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 15:16:00 PM",\
 "slot\_end\_time": "2020-03-03 15:30:00 PM"\
 },\
 {\
 "slot\_timming": "15:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 15:31:00 PM",\
 "slot\_end\_time": "2020-03-03 15:45:00 PM"\
 },\
 {\
 "slot\_timming": "15:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 15:46:00 PM",\
 "slot\_end\_time": "2020-03-03 16:00:00 PM"\
 },\
 {\
 "slot\_timming": "16:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 16:01:00 PM",\
 "slot\_end\_time": "2020-03-03 16:15:00 PM"\
 },\
 {\
 "slot\_timming": "16:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 16:16:00 PM",\
 "slot\_end\_time": "2020-03-03 16:30:00 PM"\
 },\
 {\
 "slot\_timming": "16:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-03 16:31:00 PM",\
 "slot\_end\_time": "2020-03-03 16:45:00 PM"\
 },\
 {\
 "slot\_timming": "16:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 16:46:00 PM",\
 "slot\_end\_time": "2020-03-03 17:00:00 PM"\
 },\
 {\
 "slot\_timming": "17:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 17:01:00 PM",\
 "slot\_end\_time": "2020-03-03 17:15:00 PM"\
 },\
 {\
 "slot\_timming": "17:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 17:16:00 PM",\
 "slot\_end\_time": "2020-03-03 17:30:00 PM"\
 },\
 {\
 "slot\_timming": "17:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 17:31:00 PM",\
 "slot\_end\_time": "2020-03-03 17:45:00 PM"\
 },\
 {\
 "slot\_timming": "17:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 17:46:00 PM",\
 "slot\_end\_time": "2020-03-03 18:00:00 PM"\
 },\
 {\
 "slot\_timming": "18:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 18:01:00 PM",\
 "slot\_end\_time": "2020-03-03 18:15:00 PM"\
 },\
 {\
 "slot\_timming": "18:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 18:16:00 PM",\
 "slot\_end\_time": "2020-03-03 18:30:00 PM"\
 },\
 {\
 "slot\_timming": "18:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 18:31:00 PM",\
 "slot\_end\_time": "2020-03-03 18:45:00 PM"\
 },\
 {\
 "slot\_timming": "18:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 18:46:00 PM",\
 "slot\_end\_time": "2020-03-03 19:00:00 PM"\
 },\
 {\
 "slot\_timming": "19:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 19:01:00 PM",\
 "slot\_end\_time": "2020-03-03 19:15:00 PM"\
 },\
 {\
 "slot\_timming": "19:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 19:16:00 PM",\
 "slot\_end\_time": "2020-03-03 19:30:00 PM"\
 },\
 {\
 "slot\_timming": "19:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 19:31:00 PM",\
 "slot\_end\_time": "2020-03-03 19:45:00 PM"\
 },\
 {\
 "slot\_timming": "19:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 19:46:00 PM",\
 "slot\_end\_time": "2020-03-03 20:00:00 PM"\
 },\
 {\
 "slot\_timming": "20:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 20:01:00 PM",\
 "slot\_end\_time": "2020-03-03 20:15:00 PM"\
 },\
 {\
 "slot\_timming": "20:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 20:16:00 PM",\
 "slot\_end\_time": "2020-03-03 20:30:00 PM"\
 },\
 {\
 "slot\_timming": "20:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 20:31:00 PM",\
 "slot\_end\_time": "2020-03-03 20:45:00 PM"\
 },\
 {\
 "slot\_timming": "20:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 20:46:00 PM",\
 "slot\_end\_time": "2020-03-03 21:00:00 PM"\
 },\
 {\
 "slot\_timming": "21:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 21:01:00 PM",\
 "slot\_end\_time": "2020-03-03 21:15:00 PM"\
 },\
 {\
 "slot\_timming": "21:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 21:16:00 PM",\
 "slot\_end\_time": "2020-03-03 21:30:00 PM"\
 },\
 {\
 "slot\_timming": "21:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 21:31:00 PM",\
 "slot\_end\_time": "2020-03-03 21:45:00 PM"\
 },\
 {\
 "slot\_timming": "21:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 21:46:00 PM",\
 "slot\_end\_time": "2020-03-03 22:00:00 PM"\
 },\
 {\
 "slot\_timming": "22:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 22:01:00 PM",\
 "slot\_end\_time": "2020-03-03 22:15:00 PM"\
 },\
 {\
 "slot\_timming": "22:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 22:16:00 PM",\
 "slot\_end\_time": "2020-03-03 22:30:00 PM"\
 },\
 {\
 "slot\_timming": "22:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 22:31:00 PM",\
 "slot\_end\_time": "2020-03-03 22:45:00 PM"\
 },\
 {\
 "slot\_timming": "22:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 22:46:00 PM",\
 "slot\_end\_time": "2020-03-03 23:00:00 PM"\
 },\
 {\
 "slot\_timming": "23:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 23:01:00 PM",\
 "slot\_end\_time": "2020-03-03 23:15:00 PM"\
 },\
 {\
 "slot\_timming": "23:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 23:16:00 PM",\
 "slot\_end\_time": "2020-03-03 23:30:00 PM"\
 },\
 {\
 "slot\_timming": "23:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 23:31:00 PM",\
 "slot\_end\_time": "2020-03-03 23:45:00 PM"\
 },\
 {\
 "slot\_timming": "23:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-03 23:46:00 PM",\
 "slot\_end\_time": "2020-03-04 00:00:00 AM"\
 }\
 \]\
 },\
 {\
 "date": "2020-03-04",\
 "slots": \[\
 {\
 "slot\_timming": "00:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 00:01:00 AM",\
 "slot\_end\_time": "2020-03-04 00:15:00 AM"\
 },\
 {\
 "slot\_timming": "00:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 00:16:00 AM",\
 "slot\_end\_time": "2020-03-04 00:30:00 AM"\
 },\
 {\
 "slot\_timming": "00:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 00:31:00 AM",\
 "slot\_end\_time": "2020-03-04 00:45:00 AM"\
 },\
 {\
 "slot\_timming": "00:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 00:46:00 AM",\
 "slot\_end\_time": "2020-03-04 01:00:00 AM"\
 },\
 {\
 "slot\_timming": "01:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 01:01:00 AM",\
 "slot\_end\_time": "2020-03-04 01:15:00 AM"\
 },\
 {\
 "slot\_timming": "01:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 01:16:00 AM",\
 "slot\_end\_time": "2020-03-04 01:30:00 AM"\
 },\
 {\
 "slot\_timming": "01:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 01:31:00 AM",\
 "slot\_end\_time": "2020-03-04 01:45:00 AM"\
 },\
 {\
 "slot\_timming": "01:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 01:46:00 AM",\
 "slot\_end\_time": "2020-03-04 02:00:00 AM"\
 },\
 {\
 "slot\_timming": "02:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 02:01:00 AM",\
 "slot\_end\_time": "2020-03-04 02:15:00 AM"\
 },\
 {\
 "slot\_timming": "02:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 02:16:00 AM",\
 "slot\_end\_time": "2020-03-04 02:30:00 AM"\
 },\
 {\
 "slot\_timming": "02:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 02:31:00 AM",\
 "slot\_end\_time": "2020-03-04 02:45:00 AM"\
 },\
 {\
 "slot\_timming": "02:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 02:46:00 AM",\
 "slot\_end\_time": "2020-03-04 03:00:00 AM"\
 },\
 {\
 "slot\_timming": "03:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 03:01:00 AM",\
 "slot\_end\_time": "2020-03-04 03:15:00 AM"\
 },\
 {\
 "slot\_timming": "03:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 03:16:00 AM",\
 "slot\_end\_time": "2020-03-04 03:30:00 AM"\
 },\
 {\
 "slot\_timming": "03:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 03:31:00 AM",\
 "slot\_end\_time": "2020-03-04 03:45:00 AM"\
 },\
 {\
 "slot\_timming": "03:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 03:46:00 AM",\
 "slot\_end\_time": "2020-03-04 04:00:00 AM"\
 },\
 {\
 "slot\_timming": "04:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 04:01:00 AM",\
 "slot\_end\_time": "2020-03-04 04:15:00 AM"\
 },\
 {\
 "slot\_timming": "04:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 04:16:00 AM",\
 "slot\_end\_time": "2020-03-04 04:30:00 AM"\
 },\
 {\
 "slot\_timming": "04:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 04:31:00 AM",\
 "slot\_end\_time": "2020-03-04 04:45:00 AM"\
 },\
 {\
 "slot\_timming": "04:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 04:46:00 AM",\
 "slot\_end\_time": "2020-03-04 05:00:00 AM"\
 },\
 {\
 "slot\_timming": "05:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 05:01:00 AM",\
 "slot\_end\_time": "2020-03-04 05:15:00 AM"\
 },\
 {\
 "slot\_timming": "05:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 05:16:00 AM",\
 "slot\_end\_time": "2020-03-04 05:30:00 AM"\
 },\
 {\
 "slot\_timming": "05:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 05:31:00 AM",\
 "slot\_end\_time": "2020-03-04 05:45:00 AM"\
 },\
 {\
 "slot\_timming": "05:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 05:46:00 AM",\
 "slot\_end\_time": "2020-03-04 06:00:00 AM"\
 },\
 {\
 "slot\_timming": "06:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 06:01:00 AM",\
 "slot\_end\_time": "2020-03-04 06:15:00 AM"\
 },\
 {\
 "slot\_timming": "06:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 06:16:00 AM",\
 "slot\_end\_time": "2020-03-04 06:30:00 AM"\
 },\
 {\
 "slot\_timming": "06:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 06:31:00 AM",\
 "slot\_end\_time": "2020-03-04 06:45:00 AM"\
 },\
 {\
 "slot\_timming": "06:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 06:46:00 AM",\
 "slot\_end\_time": "2020-03-04 07:00:00 AM"\
 },\
 {\
 "slot\_timming": "07:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 07:01:00 AM",\
 "slot\_end\_time": "2020-03-04 07:15:00 AM"\
 },\
 {\
 "slot\_timming": "07:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 07:16:00 AM",\
 "slot\_end\_time": "2020-03-04 07:30:00 AM"\
 },\
 {\
 "slot\_timming": "07:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 07:31:00 AM",\
 "slot\_end\_time": "2020-03-04 07:45:00 AM"\
 },\
 {\
 "slot\_timming": "07:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 07:46:00 AM",\
 "slot\_end\_time": "2020-03-04 08:00:00 AM"\
 },\
 {\
 "slot\_timming": "08:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 08:01:00 AM",\
 "slot\_end\_time": "2020-03-04 08:15:00 AM"\
 },\
 {\
 "slot\_timming": "08:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 08:16:00 AM",\
 "slot\_end\_time": "2020-03-04 08:30:00 AM"\
 },\
 {\
 "slot\_timming": "08:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 08:31:00 AM",\
 "slot\_end\_time": "2020-03-04 08:45:00 AM"\
 },\
 {\
 "slot\_timming": "08:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 08:46:00 AM",\
 "slot\_end\_time": "2020-03-04 09:00:00 AM"\
 },\
 {\
 "slot\_timming": "09:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 09:01:00 AM",\
 "slot\_end\_time": "2020-03-04 09:15:00 AM"\
 },\
 {\
 "slot\_timming": "09:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 09:16:00 AM",\
 "slot\_end\_time": "2020-03-04 09:30:00 AM"\
 },\
 {\
 "slot\_timming": "09:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 09:31:00 AM",\
 "slot\_end\_time": "2020-03-04 09:45:00 AM"\
 },\
 {\
 "slot\_timming": "09:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 09:46:00 AM",\
 "slot\_end\_time": "2020-03-04 10:00:00 AM"\
 },\
 {\
 "slot\_timming": "10:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 10:01:00 AM",\
 "slot\_end\_time": "2020-03-04 10:15:00 AM"\
 },\
 {\
 "slot\_timming": "10:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 10:16:00 AM",\
 "slot\_end\_time": "2020-03-04 10:30:00 AM"\
 },\
 {\
 "slot\_timming": "10:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 10:31:00 AM",\
 "slot\_end\_time": "2020-03-04 10:45:00 AM"\
 },\
 {\
 "slot\_timming": "10:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 10:46:00 AM",\
 "slot\_end\_time": "2020-03-04 11:00:00 AM"\
 },\
 {\
 "slot\_timming": "11:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 11:01:00 AM",\
 "slot\_end\_time": "2020-03-04 11:15:00 AM"\
 },\
 {\
 "slot\_timming": "11:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 11:16:00 AM",\
 "slot\_end\_time": "2020-03-04 11:30:00 AM"\
 },\
 {\
 "slot\_timming": "11:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 11:31:00 AM",\
 "slot\_end\_time": "2020-03-04 11:45:00 AM"\
 },\
 {\
 "slot\_timming": "11:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 11:46:00 AM",\
 "slot\_end\_time": "2020-03-04 12:00:00 PM"\
 },\
 {\
 "slot\_timming": "12:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 12:01:00 PM",\
 "slot\_end\_time": "2020-03-04 12:15:00 PM"\
 },\
 {\
 "slot\_timming": "12:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 12:16:00 PM",\
 "slot\_end\_time": "2020-03-04 12:30:00 PM"\
 },\
 {\
 "slot\_timming": "12:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 12:31:00 PM",\
 "slot\_end\_time": "2020-03-04 12:45:00 PM"\
 },\
 {\
 "slot\_timming": "12:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 12:46:00 PM",\
 "slot\_end\_time": "2020-03-04 13:00:00 PM"\
 },\
 {\
 "slot\_timming": "13:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 13:01:00 PM",\
 "slot\_end\_time": "2020-03-04 13:15:00 PM"\
 },\
 {\
 "slot\_timming": "13:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 13:16:00 PM",\
 "slot\_end\_time": "2020-03-04 13:30:00 PM"\
 },\
 {\
 "slot\_timming": "13:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 13:31:00 PM",\
 "slot\_end\_time": "2020-03-04 13:45:00 PM"\
 },\
 {\
 "slot\_timming": "13:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 13:46:00 PM",\
 "slot\_end\_time": "2020-03-04 14:00:00 PM"\
 },\
 {\
 "slot\_timming": "14:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 14:01:00 PM",\
 "slot\_end\_time": "2020-03-04 14:15:00 PM"\
 },\
 {\
 "slot\_timming": "14:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 14:16:00 PM",\
 "slot\_end\_time": "2020-03-04 14:30:00 PM"\
 },\
 {\
 "slot\_timming": "14:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 14:31:00 PM",\
 "slot\_end\_time": "2020-03-04 14:45:00 PM"\
 },\
 {\
 "slot\_timming": "14:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 14:46:00 PM",\
 "slot\_end\_time": "2020-03-04 15:00:00 PM"\
 },\
 {\
 "slot\_timming": "15:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 15:01:00 PM",\
 "slot\_end\_time": "2020-03-04 15:15:00 PM"\
 },\
 {\
 "slot\_timming": "15:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 15:16:00 PM",\
 "slot\_end\_time": "2020-03-04 15:30:00 PM"\
 },\
 {\
 "slot\_timming": "15:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 15:31:00 PM",\
 "slot\_end\_time": "2020-03-04 15:45:00 PM"\
 },\
 {\
 "slot\_timming": "15:45",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 15:46:00 PM",\
 "slot\_end\_time": "2020-03-04 16:00:00 PM"\
 },\
 {\
 "slot\_timming": "16:00",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 16:01:00 PM",\
 "slot\_end\_time": "2020-03-04 16:15:00 PM"\
 },\
 {\
 "slot\_timming": "16:15",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 16:16:00 PM",\
 "slot\_end\_time": "2020-03-04 16:30:00 PM"\
 },\
 {\
 "slot\_timming": "16:30",\
 "available\_status": 0,\
 "slot\_start\_time": "2020-03-04 16:31:00 PM",\
 "slot\_end\_time": "2020-03-04 16:45:00 PM"\
 },\
 {\
 "slot\_timming": "16:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 16:46:00 PM",\
 "slot\_end\_time": "2020-03-04 17:00:00 PM"\
 },\
 {\
 "slot\_timming": "17:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 17:01:00 PM",\
 "slot\_end\_time": "2020-03-04 17:15:00 PM"\
 },\
 {\
 "slot\_timming": "17:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 17:16:00 PM",\
 "slot\_end\_time": "2020-03-04 17:30:00 PM"\
 },\
 {\
 "slot\_timming": "17:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 17:31:00 PM",\
 "slot\_end\_time": "2020-03-04 17:45:00 PM"\
 },\
 {\
 "slot\_timming": "17:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 17:46:00 PM",\
 "slot\_end\_time": "2020-03-04 18:00:00 PM"\
 },\
 {\
 "slot\_timming": "18:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 18:01:00 PM",\
 "slot\_end\_time": "2020-03-04 18:15:00 PM"\
 },\
 {\
 "slot\_timming": "18:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 18:16:00 PM",\
 "slot\_end\_time": "2020-03-04 18:30:00 PM"\
 },\
 {\
 "slot\_timming": "18:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 18:31:00 PM",\
 "slot\_end\_time": "2020-03-04 18:45:00 PM"\
 },\
 {\
 "slot\_timming": "18:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 18:46:00 PM",\
 "slot\_end\_time": "2020-03-04 19:00:00 PM"\
 },\
 {\
 "slot\_timming": "19:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 19:01:00 PM",\
 "slot\_end\_time": "2020-03-04 19:15:00 PM"\
 },\
 {\
 "slot\_timming": "19:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 19:16:00 PM",\
 "slot\_end\_time": "2020-03-04 19:30:00 PM"\
 },\
 {\
 "slot\_timming": "19:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 19:31:00 PM",\
 "slot\_end\_time": "2020-03-04 19:45:00 PM"\
 },\
 {\
 "slot\_timming": "19:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 19:46:00 PM",\
 "slot\_end\_time": "2020-03-04 20:00:00 PM"\
 },\
 {\
 "slot\_timming": "20:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 20:01:00 PM",\
 "slot\_end\_time": "2020-03-04 20:15:00 PM"\
 },\
 {\
 "slot\_timming": "20:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 20:16:00 PM",\
 "slot\_end\_time": "2020-03-04 20:30:00 PM"\
 },\
 {\
 "slot\_timming": "20:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 20:31:00 PM",\
 "slot\_end\_time": "2020-03-04 20:45:00 PM"\
 },\
 {\
 "slot\_timming": "20:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 20:46:00 PM",\
 "slot\_end\_time": "2020-03-04 21:00:00 PM"\
 },\
 {\
 "slot\_timming": "21:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 21:01:00 PM",\
 "slot\_end\_time": "2020-03-04 21:15:00 PM"\
 },\
 {\
 "slot\_timming": "21:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 21:16:00 PM",\
 "slot\_end\_time": "2020-03-04 21:30:00 PM"\
 },\
 {\
 "slot\_timming": "21:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 21:31:00 PM",\
 "slot\_end\_time": "2020-03-04 21:45:00 PM"\
 },\
 {\
 "slot\_timming": "21:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 21:46:00 PM",\
 "slot\_end\_time": "2020-03-04 22:00:00 PM"\
 },\
 {\
 "slot\_timming": "22:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 22:01:00 PM",\
 "slot\_end\_time": "2020-03-04 22:15:00 PM"\
 },\
 {\
 "slot\_timming": "22:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 22:16:00 PM",\
 "slot\_end\_time": "2020-03-04 22:30:00 PM"\
 },\
 {\
 "slot\_timming": "22:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 22:31:00 PM",\
 "slot\_end\_time": "2020-03-04 22:45:00 PM"\
 },\
 {\
 "slot\_timming": "22:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 22:46:00 PM",\
 "slot\_end\_time": "2020-03-04 23:00:00 PM"\
 },\
 {\
 "slot\_timming": "23:00",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 23:01:00 PM",\
 "slot\_end\_time": "2020-03-04 23:15:00 PM"\
 },\
 {\
 "slot\_timming": "23:15",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 23:16:00 PM",\
 "slot\_end\_time": "2020-03-04 23:30:00 PM"\
 },\
 {\
 "slot\_timming": "23:30",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 23:31:00 PM",\
 "slot\_end\_time": "2020-03-04 23:45:00 PM"\
 },\
 {\
 "slot\_timming": "23:45",\
 "available\_status": 1,\
 "slot\_start\_time": "2020-03-04 23:46:00 PM",\
 "slot\_end\_time": "2020-03-05 00:00:00 AM"\
 }\
 \]\
 }\
 \]
 }
}

\## Create Fleet Wallet Transaction \[/fleet/wallet/create\_transaction\]

\### Create Fleet Wallet Transaction \[POST\]

This API is used to transact amount to or from agent wallet.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id\* | number | This is the unique id of every agent. You can get it from the Dashboard>Menu>Agent>respective id of the agent will be displayed. |
| amount\* | number | Amount must be greater than 0. |
| reference\_id | string (optional) | This is optional reference id for the transaction. |
| transaction\_type\* | number | Send 1 for debit and 2 for credit. |
| wallet\_type\* | number | Send 1 if you want to transact to/from wallet and 2 for credits. |
| description | string (optional) | This is optional description field for the transction. |
| remarks | string (optional) | This is optional remarks field for the transction. |

\+ Request (application/json)

 {
 "api\_key":"55631.076225def1849131c152c3017162c431fe4c4fe2c",
 "fleet\_id":165932,
 "amount":55,
 "transaction\_type" : 1,
 "wallet\_type" : 2,
 "description" : "this is a test transaction"
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }


\## Get Fleet Wallet Transaction \[/fleet/wallet/read\_transaction\_history\]

\### Get Fleet Wallet Transaction History \[POST\]

This API is used to get agent wallet transaction history.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id\* | number | This is the unique id of every agent. You can get it from the Dashboard>Menu>Agent>respective id of the agent will be displayed. |
| starting\_date | date | Start date specified in YYYY-MM-DD format |
| ending\_date | date | End date specified in YYYY-MM-DD format |
| wallet\_type | number | Send 1 for agent wallet and 2 for credits. |

\+ Request (application/json)

 {
 "api\_key":"55631.076225def1849131c152c3017162c431fe4c4fe2c",
 "fleet\_id":165932,
 "wallet\_type" : 2,
 "starting\_date" : "2019-12-31",
 "ending\_date" : "2020-01-05"
 }

\+ Response 200 (application/json)

 {
"message":"Successful",
"status":200,
"data":{
"transaction\_history":\[\
{\
"id":544006,\
"fleet\_id":56782,\
"reference\_id":"B040420",\
"transaction\_type":1,\
"amount":14700,\
"description":"test description",\
"remarks":null,\
"creation\_datetime":"2020-01-02T01:43:19.000Z",\
"wallet\_type":2,\
"username":"S. Borin"\
}\
\],
"wallet\_balance":\[\
{\
"wallet\_type":1,\
"wallet\_balance":33000\
},\
{\
"wallet\_type":2,\
"wallet\_balance":718600\
}\
\],
"total\_count":1
}
}



\# Group Team

\## Create Team \[/create\_team\]

\### Create Team \[POST\]

This API is used to create a team

Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your Tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API Key. |
| team\_name\* | string | This is the name of the team to be created. |
| battery\_usage | string | This is parameter decides the battery usage and accuracy level of agent's mobile. If '0', it is low. If '1', it is Medium. If '2' It is High. |
| address | string | This is the address of the team to be created. |
| tags | string | This is tags that you can mention for any team. |

\+ Request (application/json)

 {
 "api\_key": "7eeca84b5e1df27d15f8422949314db6",
 "team\_name":"Test Team",
 "battery\_usage":0,
 "address":"Chandigarh, India",
 "tags":"tag1,tag2"
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": 1
 }

\## Update Team \[/update\_team\]

\### Update Team \[POST\]

This API is used to update a team.

Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your Tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API Key. |
| team\_name | string | This is the name of the team to be created. |
| battery\_usage | number | This is parameter decides the battery usage and accuracy level of agent's mobile. If '0', it is low. If '1', it is Medium. If '2' It is High. |
| tags | string | This is tags that you can mention for any team. |
| team\_id\* | number | This is team\_id that you can mention for any team. |

\+ Request (application/json)

 {
 "api\_key": "7eeca84b5e1df27d15f8422949314db6",
 "team\_name":"Test Team",
 "battery\_usage":0,
 "tags":"tag1,tag2",
 "team\_id":49928
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\## Delete Team \[/delete\_team\]

\### Delete Team \[POST\]

This API is used to delete a team.

Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your Tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API Key. |
| team\_id\* | number | This is team\_id that you can mention for any team. |

\+ Request (application/json)

 {
 "api\_key": "7eeca84b5e1df27d15f8422949314db6",
 "team\_id": 49928
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }
\## Get Team Details \[/view\_teams\]

\### Get Team Details \[POST\]

This API is used to get the all the team details along with their agents' data

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |

\+ Request (application/json)

 {
 "api\_key": "7eeca84b5e1df27d15f8422949314db6"
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": \[\
 {\
 "team\_id": 229,\
 "team\_name": "Bay Area",\
 "fleets": \[\
 {\
 "fleet\_id": 541,\
 "fleet\_name": "Theresa Brigham",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/eSbp1440069054278-51.jpg",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/thumb-hrIr1440069054689-eSbp1440069054278-51.jpg",\
 "is\_deleted": 0,\
 "status": 0,\
 "email": "contact+f7@tookanapp.com",\
 "is\_available": 1,\
 "is\_active": 1,\
 "latitude": "37.7900273",\
 "longitude": "-122.4574444",\
 "last\_updated\_location\_time": "Connection Lost",\
 "last\_updated\_timings": 10807986,\
 "registration\_status": 1\
 },\
 {\
 "fleet\_id": 542,\
 "fleet\_name": "Eric Edmundson",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/Sq2a1440068934631-77.jpg",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/thumb-XRbq1440068935079-Sq2a1440068934631-77.jpg",\
 "is\_deleted": 0,\
 "status": 0,\
 "email": "contact+f6@tookanapp.com",\
 "is\_available": 1,\
 "is\_active": 1,\
 "latitude": "37.751424",\
 "longitude": "-122.488425",\
 "last\_updated\_location\_time": "Connection Lost",\
 "last\_updated\_timings": 10807585,\
 "registration\_status": 1\
 },\
 {\
 "fleet\_id": 543,\
 "fleet\_name": "Michael Obryan",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/baMf1440068853977-64.jpg",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/thumb-qpBN1440068854485-baMf1440068853977-64.jpg",\
 "is\_deleted": 0,\
 "status": 0,\
 "email": "contact+f1@tookanapp.com",\
 "is\_available": 1,\
 "is\_active": 1,\
 "latitude": "37.718329",\
 "longitude": "-122.470461",\
 "last\_updated\_location\_time": "Connection Lost",\
 "last\_updated\_timings": 10807691,\
 "registration\_status": 1\
 },\
 {\
 "fleet\_id": 544,\
 "fleet\_name": "John Wright",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/f7tr1440068791338-37.jpg",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/thumb-dbk61440068791719-f7tr1440068791338-37.jpg",\
 "is\_deleted": 0,\
 "status": 0,\
 "email": "contact+f2@tookanapp.com",\
 "is\_available": 1,\
 "is\_active": 1,\
 "latitude": "37.747614",\
 "longitude": " -122.444841",\
 "last\_updated\_location\_time": "Connection Lost",\
 "last\_updated\_timings": 10805966,\
 "registration\_status": 1\
 },\
 {\
 "fleet\_id": 545,\
 "fleet\_name": "Ricky Palmer",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/wnuw1440068822665-7.jpg",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/thumb-2TW81440068823091-wnuw1440068822665-7.jpg",\
 "is\_deleted": 0,\
 "status": 0,\
 "email": "contact+f3@tookanapp.com",\
 "is\_available": 1,\
 "is\_active": 1,\
 "latitude": "37.758369",\
 "longitude": " -122.424066",\
 "last\_updated\_location\_time": "Connection Lost",\
 "last\_updated\_timings": 10805735,\
 "registration\_status": 1\
 },\
 {\
 "fleet\_id": 547,\
 "fleet\_name": "Elmer Gray",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/kmet1440064617466-111.jpg",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/thumb-YIBZ1440064617919-kmet1440064617466-111.jpg",\
 "is\_deleted": 0,\
 "status": 0,\
 "email": "contact+f4@tookanapp.com",\
 "is\_available": 1,\
 "is\_active": 1,\
 "latitude": "37.765408",\
 "longitude": " -122.440389",\
 "last\_updated\_location\_time": "Connection Lost",\
 "last\_updated\_timings": 10805341,\
 "registration\_status": 1\
 },\
 {\
 "fleet\_id": 2957,\
 "fleet\_name": "Mike Frugan",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/user.png",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/user.png",\
 "is\_deleted": 0,\
 "status": 0,\
 "email": "mike@gmail.com",\
 "is\_available": 1,\
 "is\_active": 1,\
 "latitude": null,\
 "longitude": null,\
 "last\_updated\_location\_time": "Not updated.",\
 "last\_updated\_timings": 999999999999999,\
 "registration\_status": 0\
 }\
 \]\
 },\
 {\
 "team\_id": 230,\
 "team\_name": "South Bay",\
 "fleets": \[\
 {\
 "fleet\_id": 541,\
 "fleet\_name": "Theresa Brigham",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/eSbp1440069054278-51.jpg",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/thumb-hrIr1440069054689-eSbp1440069054278-51.jpg",\
 "is\_deleted": 0,\
 "status": 0,\
 "email": "contact+f7@tookanapp.com",\
 "is\_available": 1,\
 "is\_active": 1,\
 "latitude": "37.7900273",\
 "longitude": "-122.4574444",\
 "last\_updated\_location\_time": "Connection Lost",\
 "last\_updated\_timings": 10807986,\
 "registration\_status": 1\
 },\
 {\
 "fleet\_id": 542,\
 "fleet\_name": "Eric Edmundson",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/Sq2a1440068934631-77.jpg",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/thumb-XRbq1440068935079-Sq2a1440068934631-77.jpg",\
 "is\_deleted": 0,\
 "status": 0,\
 "email": "contact+f6@tookanapp.com",\
 "is\_available": 1,\
 "is\_active": 1,\
 "latitude": "37.751424",\
 "longitude": "-122.488425",\
 "last\_updated\_location\_time": "Connection Lost",\
 "last\_updated\_timings": 10807585,\
 "registration\_status": 1\
 },\
 {\
 "fleet\_id": 543,\
 "fleet\_name": "Michael Obryan",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/baMf1440068853977-64.jpg",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/thumb-qpBN1440068854485-baMf1440068853977-64.jpg",\
 "is\_deleted": 0,\
 "status": 0,\
 "email": "contact+f1@tookanapp.com",\
 "is\_available": 1,\
 "is\_active": 1,\
 "latitude": "37.718329",\
 "longitude": "-122.470461",\
 "last\_updated\_location\_time": "Connection Lost",\
 "last\_updated\_timings": 10807691,\
 "registration\_status": 1\
 },\
 {\
 "fleet\_id": 544,\
 "fleet\_name": "John Wright",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/f7tr1440068791338-37.jpg",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/thumb-dbk61440068791719-f7tr1440068791338-37.jpg",\
 "is\_deleted": 0,\
 "status": 0,\
 "email": "contact+f2@tookanapp.com",\
 "is\_available": 1,\
 "is\_active": 1,\
 "latitude": "37.747614",\
 "longitude": " -122.444841",\
 "last\_updated\_location\_time": "Connection Lost",\
 "last\_updated\_timings": 10805966,\
 "registration\_status": 1\
 },\
 {\
 "fleet\_id": 545,\
 "fleet\_name": "Ricky Palmer",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/wnuw1440068822665-7.jpg",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/thumb-2TW81440068823091-wnuw1440068822665-7.jpg",\
 "is\_deleted": 0,\
 "status": 0,\
 "email": "contact+f3@tookanapp.com",\
 "is\_available": 1,\
 "is\_active": 1,\
 "latitude": "37.758369",\
 "longitude": " -122.424066",\
 "last\_updated\_location\_time": "Connection Lost",\
 "last\_updated\_timings": 10805735,\
 "registration\_status": 1\
 },\
 {\
 "fleet\_id": 2602,\
 "fleet\_name": "Bikram Singh",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/user.png",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/user.png",\
 "is\_deleted": 0,\
 "status": 0,\
 "email": null,\
 "is\_available": 1,\
 "is\_active": 1,\
 "latitude": "30.7191912",\
 "longitude": "76.8102377",\
 "last\_updated\_location\_time": "GPS Turned Off",\
 "last\_updated\_timings": 441891,\
 "registration\_status": 1\
 }\
 \]\
 },\
 {\
 "team\_id": 908,\
 "team\_name": "Chandigarh",\
 "fleets": \[\
 {\
 "fleet\_id": 1252,\
 "fleet\_name": "Arsh singh",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/Pybe1448642328371-TOOKAN\_27112015\_100638.jpg",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/thumb-5h5t1448642329089-Pybe1448642328371-TOOKAN\_27112015\_100638.jpg",\
 "is\_deleted": 0,\
 "status": 0,\
 "email": "arsh@tookanapp.com",\
 "is\_available": 0,\
 "is\_active": 1,\
 "latitude": "30.7187664422466",\
 "longitude": "76.8101314889743",\
 "last\_updated\_location\_time": "7 days ago",\
 "last\_updated\_timings": 624237,\
 "registration\_status": 1\
 },\
 {\
 "fleet\_id": 2121,\
 "fleet\_name": "AutoTest",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/user.png",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/user.png",\
 "is\_deleted": 0,\
 "status": 0,\
 "email": "arsh+11@tookanapp.com",\
 "is\_available": 0,\
 "is\_active": 0,\
 "latitude": "30.7193366",\
 "longitude": "76.8106833",\
 "last\_updated\_location\_time": "50 days ago",\
 "last\_updated\_timings": 4335749,\
 "registration\_status": 1\
 },\
 {\
 "fleet\_id": 2247,\
 "fleet\_name": "Gagan",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/user.png",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/user.png",\
 "is\_deleted": 0,\
 "status": 1,\
 "email": "gagandeep.kaur@gmail.com",\
 "is\_available": 0,\
 "is\_active": 1,\
 "latitude": "30.7189253",\
 "longitude": "76.81",\
 "last\_updated\_location\_time": "45 days ago",\
 "last\_updated\_timings": 3974182,\
 "registration\_status": 1\
 },\
 {\
 "fleet\_id": 2345,\
 "fleet\_name": "Sanjay",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/user.png",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/user.png",\
 "is\_deleted": 0,\
 "status": 0,\
 "email": "sanjay+123@tookanapp.com",\
 "is\_available": 0,\
 "is\_active": 1,\
 "latitude": "30.7188902",\
 "longitude": "76.8100486",\
 "last\_updated\_location\_time": "35 days ago",\
 "last\_updated\_timings": 3038886,\
 "registration\_status": 1\
 },\
 {\
 "fleet\_id": 2900,\
 "fleet\_name": "Ravi Kirpane",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/user.png",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/user.png",\
 "is\_deleted": 0,\
 "status": 0,\
 "email": "rkirpane@gmail.com",\
 "is\_available": 0,\
 "is\_active": 1,\
 "latitude": "19.0535788",\
 "longitude": "72.9157975",\
 "last\_updated\_location\_time": "4 hours ago",\
 "last\_updated\_timings": 17019,\
 "registration\_status": 1\
 },\
 {\
 "fleet\_id": 3032,\
 "fleet\_name": "Sapna G",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/user.png",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/user.png",\
 "is\_deleted": 0,\
 "status": 0,\
 "email": "goyal.sapna@gmail.com",\
 "is\_available": 1,\
 "is\_active": 1,\
 "latitude": "28.45986105504302",\
 "longitude": "77.10491848185389",\
 "last\_updated\_location\_time": "Connection Lost",\
 "last\_updated\_timings": 78159,\
 "registration\_status": 1\
 }\
 \]\
 }\
 \]
 }

\## Get All Teams \[/view\_all\_team\_only\]

\### Get All Teams \[POST\]

This API is used to get the all teams details without their agent's data.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |

\+ Request (application/json)

 {
 "api\_key": "7eeca84b5e1df27d15f8422949314db6"
 }

\+ Response 200 (application/json)

{
 "message": "Successful",
 "status": 200,
 "data": \[\
 {\
 "tags": "",\
 "battery\_usage": 2,\
 "team\_id": 123,\
 "team\_name": "Team A",\
 "address": "San Francisco, CA, USA",\
 "latitude": "37.767206",\
 "longitude": "-122.433905"\
 },\
 {\
 "tags": "",\
 "battery\_usage": 2,\
 "team\_id": 456,\
 "team\_name": "Team B",\
 "address": "Oakland, CA, USA",\
 "latitude": "37.807473",\
 "longitude": "-122.2737525"\
 },\
 {\
 "tags": "",\
 "battery\_usage": 2,\
 "team\_id": 789,\
 "team\_name": "Team C",\
 "address": "",\
 "latitude": "",\
 "longitude": ""\
 }\
 \]
}

\## Get Job and Agent Details \[/get\_job\_and\_fleet\_details\]

\### Get Job and Agent Details \[POST\]

This API is used to get the job and agent details related to a team.

Request Body Prameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| date\* | date | Enter date for which you want to view the deatils. |
| team\_id\* | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| fleet\_id | string (optional) | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| unzip | boolean (optional) | Send 1 if you want data to be zipped, otherwise 0. |
| sorting | string (optional) | Enter “ASC” or “DESC” to sort data in ascending or descending order. Default is ascending. |
| ignore\_fleets | boolean (optional) | Either 0 or 1. Enter value 1 if you don’t want to view fleet details. The default value is 0. |
| has\_agent\_module | boolean (optional) | Either 0 or 1. Enter value 1 if you want to view external fleet details. The default value is 0. |
| is\_offline | boolean (optional) | Either 0 or 1. Enter value 1 if you want to view offline external fleet details. The default value is 0. |
| search\_string | string (optional) | Enter any string that you want to search in the data. |
| form\_id | number (optional) | Enter id to filter data on the basis of form id. |

\+ Request (application/json)

 {
 "api\_key":"e1ecdd2fd7aaa26547e195b459a7c2d2",
 "team\_id":"0",
 "date":"2016-12-22"
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {
 "teams": {
 "0": {
 "jobs": \[\
 {\
 "job\_id": 117697,\
 "job\_description": "qrwerew",\
 "team\_id": 0,\
 "recurring\_id": "0",\
 "auto\_assignment": 2,\
 "job\_status": 0,\
 "job\_type": 1,\
 "fleet\_id": 24,\
 "fleet\_name": "Driver",\
 "job\_pickup\_name": "",\
 "job\_latitude": "37.7922841",\
 "job\_longitude": "-122.39796030000002",\
 "job\_address": "388 Market Street, Suite 1300, San Francisco, CA 94111, USA",\
 "is\_routed": 0,\
 "job\_pickup\_latitude": "0",\
 "job\_pickup\_longitude": "0",\
 "job\_pickup\_address": "",\
 "pickup\_delivery\_relationship": "edcffb883d8b25807294d3afe4b96f4a17741",\
 "job\_delivery\_datetime": "2016-12-22 23:59:00",\
 "job\_pickup\_datetime": "0000-00-00 00:00:00",\
 "partner\_order\_id": null,\
 "customer\_username": "ankit",\
 "tags": "",\
 "status": 0,\
 "is\_available": 0,\
 "fleet\_thumb\_image": "",\
 "form\_id": null,\
 "domain\_name": null,\
 "timezone": "-330",\
 "started\_datetime": "0000-00-00 00:00:00",\
 "completed\_datetime": "0000-00-00 00:00:00",\
 "fleet\_status\_color": null,\
 "job\_time": 1482451140000\
 }\
 \],
 "route": {},
 "unrouted": {},
 "fleets": {},
 "partner\_jobs": {},
 "recurringTasks": \[\]
 }
 },
 "animate": 1,
 "fleet\_data": {
 "total\_fleets": 3,
 "active\_fleets": 0,
 "unassigned\_fleets": 0,
 "unavailable\_fleets": 3
 }
 }
 }

\# Group Manager

\## Create Manager \[/add\_manager\]

\### Create Manager \[POST\]

This API is used to Create a Manager.

Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| email\* | string(Optional) | This is email of the manager to be added which is used while Login. |
| password\* | string(Optional) | This is the password for the manager account to login. |
| first\_name\* | string(Optional) | This is the First name of the manager to be added. |
| last\_name | string(Optional) | This is the Last name of the manager to be added. |
| phone\* | string(Optional) | This is the phone number of the manager to be added. |
| timezone\* | string(Optional) | Timezone difference with UTC in minutes for e.g., For PST:+480 (PDT: +420),For MST +420 (MDT:+360) for EST: +300(EDT:+240), for AEST: -600 (AEDT: -660), for IST: -330, for CST: +360 (CDT:+300) |
| task\_access\* | string(Optional) | This is to give access for the unasigned tasks. Set this to '1' to give access and '0' not to give the access |
| add\_driver\_access | string(Optional) | This is to give access for the manager to create Agents. Set this to '1' to give access and '0' not to give the access |
| dispatcher\_teams\* | string(Optional) | Pass the team\_ids in this parameter with comma seperated values to which the manager can access. |
| rule\_id | Number(Optional) | This is the rule that you want to assign to your manager , you can get the rule id from dashboard when you create a rule from settings->access control . |

\+ Request (application/json)

 {
 "api\_key":"eaac56717958fa6664a9c5a0a29a43810a30fcda90be26a3e023b2f70f9ffa05",
 "email":"Test@tookanapp.com",
 "password":"123456",
 "first\_name" : "John",
 "last\_name" : "Doe",
 "phone":"+919986906722",
 "timezone":"-330",
 "task\_access" : 1,
 "add\_driver\_access" : 1,
 "dispatcher\_teams" : "255,509"
 }

\+ Response 200 (application/json)

 {
 "message": "The manager 'John' has been created.",
 "status": 200,
 "data": {}
 }

\## View All Managers \[/view\_all\_manager\]

\### View All Managers \[POST\]

This API is used to view details of all the managers.

Request Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| team\_id | integer (optional) | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. Use this to filter managers on the basis of team\_id. |
| form\_id | integer (optional) | Enter id to filter managers on the basis of form\_id. |
| name | string (optional) | Enter username of manager here to search for a particular manager. |

\+ Request (application/json)

 {
 "api\_key":"eaac56717958fa6664a9c5a0a29a43810a0fcda90be26a3e023b2f70f9ffa05"
 }

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":\[\
 {\
 "dispatcher\_id":1842,\
 "username":"vinay prakash",\
 "first\_name":"vinay",\
 "last\_name":"prakash",\
 "email":"vinay@gmail.com",\
 "phone":"+918976543210",\
 "view\_driver":0,\
 "view\_team":0,\
 "view\_notification":0,\
 "view\_task":1,\
 "create\_driver":1,\
 "create\_task":1,\
 "edit\_task":1,\
 "update\_notification":0,\
 "create\_team":0,\
 "view\_auto\_allocation":0,\
 "edit\_fleet\_wallet":0,\
 "view\_status":1,\
 "edit\_status":0,\
 "teams":\[\],\
 "forms":\[\]\
 },\
 {\
 "dispatcher\_id":1909,\
 "username":"ankit bhatt",\
 "first\_name":"ankit",\
 "last\_name":"bhatt",\
 "email":"ankit.bhatt+3@mail.click-labs.com",\
 "phone":"+919034860340",\
 "view\_driver":0,\
 "view\_team":0,\
 "view\_notification":0,\
 "view\_task":1,\
 "create\_driver":1,\
 "create\_task":1,\
 "edit\_task":1,\
 "update\_notification":0,\
 "create\_team":0,\
 "view\_auto\_allocation":0,\
 "edit\_fleet\_wallet":0,\
 "view\_status":1,\
 "edit\_status":0,\
 "teams":\[\],\
 "forms":\[\]\
 },\
 {\
 "dispatcher\_id":27425,\
 "username":"John Doe",\
 "first\_name":"John",\
 "last\_name":"Doe",\
 "email":"abcffgf@a.com",\
 "phone":"+919986906722",\
 "view\_driver":0,\
 "view\_team":0,\
 "view\_notification":0,\
 "view\_task":1,\
 "create\_driver":1,\
 "create\_task":1,\
 "edit\_task":1,\
 "update\_notification":0,\
 "create\_team":0,\
 "view\_auto\_allocation":0,\
 "edit\_fleet\_wallet":0,\
 "view\_status":0,\
 "edit\_status":0,\
 "teams":\[\],\
 "forms":\[\]\
 }\
 \]
 }

\## Delete Manager \[/delete\_manager\]

\### Delete Manager \[POST\]

This API is used to delete a manager.

Request Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| dispatcher\_id\* | integer | Id of the manager to be deleted |

\+ Request (application/json)

 {
 "api\_key":"4e993d502f98498f451abece6f9d4a2d",
 "dispatcher\_id":36774
 }

\+ Response 200 (application/json)

 {
 "message": "DISP\_DELETION",
 "status": 200,
 "data": {},
 "values": {
 "DISP\_NAME": "James Jordan"
 }
 }

\# Group Customers

\## Get Customers \[/get\_all\_customers\]

\### Get Customers \[POST\]

This API is used to get the all the Customer details.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| customer\_username | string(Optional) | This is used to search with customer name. |
| customer\_phone | string(Optional) | This is used to search with customer phone number. |
| is\_pagination | Boolean | You can set this as 1 to enable pagination. |
| requested\_page | number(Optional) | Current(Which) page according to the page number of customer list. |
| vendor\_id | number(Optional) | This is used to search Form user. |

\+ Request (application/json)

 {
 "api\_key":"eaac56717958fa6664a9c5a0a29a43810a0fcda90be26a3e023b2f70f9ffa05",
 "customer\_username":"aa",
 "customer\_phone":"99895545",
 "is\_pagination" : 1,
 "requested\_page" : 1,
 "vendor\_id" : 1
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\## Add Customer \[/customer/add\]

\### Add Customer \[POST\]

This API is used to add customer.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_type\* | number | It should be 0. |
| name\* | string | Enter customer's name. |
| phone\* | string | Enter customer's phone number. |
| email | string(Optional) | Enter customer's email address. |
| address | string((Optional)) | Enter customer's address location. |
| latitude | number(Optional) | Enter latitiude of the customer's location. |
| longitude | number(Optional) | Enter longitiude of the customer's location. |

\+ Request (application/json)

 {
 "api\_key":"eaac56717958fa6664a9c5a0a29a43810a30fcda90be26a3e023b2f70f9ffa05",
 "user\_type": 0,
 "name": "Manish",
 "phone": "+919876543210",
 "email": "manish.sharma@jungleworks.com",
 "address": "CDCL, Madhya Marg, 28B, Sector 28B, Chandigarh, India",
 "latitude": 30.7188978,
 "longitude": 76.81029809999995
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {"customer\_id": 4129902}
 }

\## Edit Customer \[/customer/edit\]

\### Edit Customer \[POST\]

This API is used to edit customer details.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_type\* | number | It should be 0. |
| customer\_id\* | number | Enter customer id that you want to edit. You will get the customer id while adding the customer. |
| name | string | Enter customer's name. |
| phone | number | Enter customer's phone number. |
| email | string(Optional) | Enter customer's email address. |
| address | string((Optional)) | Enter customer's address location. |
| latitude | number(Optional) | Enter latitiude of the customer's location. |
| longitude | number(Optional) | Enter longitiude of the customer's location. |

\+ Request (application/json)

 {
 "api\_key":"eaac56717958fa6664a9c5a0a29a43810a30fcda9be26a3e023b2f70f9ffa05",
 "user\_type": 0,
 "customer\_id": "4129567",
 "name": "Manish",
 "phone": "+919876543210",
 "email": "manish.sharma@jungleworks.com",
 "address": "CDCL, Madhya Marg, 28B, Sector 28B, Chandigarh, India",
 "latitude": 30.7188978,
 "longitude": 76.81029809999995
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\## Delete Customer \[/delete\_customer\]

\### Delete Customer \[POST\]

This API is used to delete an existing customer.

Request Body Parametrs:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| customer\_id\* | number | Enter customer id that you want to delete. You will get the customer id while adding the customer. |

\+ Request (application/json)

 {
 "api\_key":"e1ecdd2fd7aaa26547e195b459a7c2d2",
 "customer\_id":75
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\## Find Customer with Phone \[/find\_customer\_with\_phone\]

\### Find Customer with Phone Number \[POST\]

This API is used to search for a customer using his phone number.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| customer\_phone\* | string | Enter the customer’s phone number here whose details you want to search. |

\+ Request (application/json)

 {
 “api\_key”:”2b997be77e2cc22becfd4c66426ef504”,
 “customer\_phone”:”9897416008”
 }

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":\[\
 {\
 "customer\_id":101,\
 "customer\_username":"Text Four",\
 "access\_token":"cdae5bdfec7dc42e8b3790619310a264",\
 "customer\_email":"test4@tookanapp.com",\
 "customer\_phone":"+1 9897416008",\
 "authentic\_phone\_no":"+19897416008",\
 "customer\_address":null,\
 "customer\_latitude":"30.7187702",\
 "customer\_longitude":"76.8105969",\
 "user\_id":1717,\
 "creation\_datetime":"2018-04-26T10:49:47.000Z",\
 "is\_active":1,\
 "avg\_rating":0,\
 "rated\_task\_count":0,\
 "vendor\_id":20348,\
 "is\_deleted":0,\
 "first\_name":"Text",\
 "last\_name":"Four",\
 "email":"test4@tookanapp.com",\
 "phone\_no":"+1 9897416008",\
 "description":"",\
 "password":"d8578edf8458ce06fbc5bb76a58c5ca4",\
 "company":"",\
 "address":"",\
 "password\_reset\_token":null,\
 "is\_blocked":0,\
 "latitude":"30.7187702",\
 "longitude":"76.8105969",\
 "vendor\_image":null,\
 "device\_type":"78",\
 "device\_token":"cnnLtckUR04:APA91bGxS-Usg9gckT93kZiQ\_84bxa27oUr\_0ncYsOz7xhZcEXJFv2DgqdKAGMF8BtmWQ-hcHkInkZKZtex3PJ9M98JqI8rq2aEQTE7cHhrxo6acMQUhxc6J7eMjTCwZRmxU9\_nwfx6f",\
 "app\_versioncode":"108",\
 "app\_access\_token":"bc016892a67cad68aa13554689a07772",\
 "language":null,\
 "last\_login\_date\_time":"2018-04-27T09:53:42.000Z",\
 "vendor\_api\_key":null,\
 "fb\_token":"",\
 "otp":"",\
 "is\_phone\_verified":0,\
 "credits":0,\
 "pending\_amount":0,\
 "successful\_task\_count":0,\
 "referral\_code":"",\
 "referrer\_id":0,\
 "reference\_id":null,\
 "is\_first\_login":1,\
 "registration\_status":3,\
 "paytm\_enabled":null,\
 "unverified\_phone":null,\
 "favorite\_fleets":null\
 }\
 \]
 }

\## Find Customer with Name \[/find\_customer\_with\_name\]

\### Find Customer with Name \[POST\]

This API is used to search for a customer using his name.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| customer\_name\* | string | Enter the customer’s name here whose details you want to search. |

\+ Request (application/json)

 {
 “api\_key”:”2b997be77e2cc22becfd4c66426ef504”,
 “customer\_name”:”Four”
 }

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":\[\
 {\
 "customer\_id":101,\
 "customer\_username":"Text Four",\
 "access\_token":"cdae5bdfec7dc42e8b3790619310a264",\
 "customer\_email":"test4@tookanapp.com",\
 "customer\_phone":"+1 9897416008",\
 "authentic\_phone\_no":"+19897416008",\
 "customer\_address":null,\
 "customer\_latitude":"30.7187702",\
 "customer\_longitude":"76.8105969",\
 "user\_id":1717,\
 "creation\_datetime":"2018-04-26T10:49:47.000Z",\
 "is\_active":1,\
 "avg\_rating":0,\
 "rated\_task\_count":0,\
 "vendor\_id":20348,\
 "is\_deleted":0,\
 "first\_name":"Text",\
 "last\_name":"Four",\
 "email":"test4@tookanapp.com",\
 "phone\_no":"+1 9897416008",\
 "description":"",\
 "password":"d8578edf8458ce06fbc5bb76a58c5ca4",\
 "company":"",\
 "address":"",\
 "password\_reset\_token":null,\
 "is\_blocked":0,\
 "latitude":"30.7187702",\
 "longitude":"76.8105969",\
 "vendor\_image":null,\
 "device\_type":"78",\
 "device\_token":"cnnLtckUR04:APA91bGxS-Usg9gckT93kZiQ\_84bxa27oUr\_0ncYsOz7xhZcEXJFv2DgqdKAGMF8BtmWQ-hcHkInkZKZtex3PJ9M98JqI8rq2aEQTE7cHhrxo6acMQUhxc6J7eMjTCwZRmxU9\_nwfx6f",\
 "app\_versioncode":"108",\
 "app\_access\_token":"bc016892a67cad68aa13554689a07772",\
 "language":null,\
 "last\_login\_date\_time":"2018-04-27T09:53:42.000Z",\
 "vendor\_api\_key":null,\
 "fb\_token":"",\
 "otp":"",\
 "is\_phone\_verified":0,\
 "credits":0,\
 "pending\_amount":0,\
 "successful\_task\_count":0,\
 "referral\_code":"",\
 "referrer\_id":0,\
 "reference\_id":null,\
 "is\_first\_login":1,\
 "registration\_status":3,\
 "paytm\_enabled":null,\
 "unverified\_phone":null,\
 "favorite\_fleets":null\
 }\
 \]
 }

\## View Customer Profile \[/view\_customer\_profile\]

\### View Customer Profile \[POST\]

This API is used to view profile details of a customer.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| customer\_id\* | number | Enter id of the customer whose details you want to see. You will get the customer id while adding the customer. |

\+ Request (application/json)

 {
 "api\_key":"2b997be77e2cc22becfd4c66426ef504",
 "customer\_id":3718
 }

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":{
 "cust\_details":\[\
 {\
 "customer\_id":3718,\
 "customer\_username":"Siddhartha",\
 "access\_token":"a6896a9dd1483e6003d43671c5c68605",\
 "customer\_email":"siddhartha.narang+1@jugnoo.in",\
 "customer\_phone":"+91 1236547896",\
 "authentic\_phone\_no":"+911236547896",\
 "customer\_address":null,\
 "customer\_latitude":"30.7187548",\
 "customer\_longitude":"76.810595",\
 "user\_id":1717,\
 "creation\_datetime":"2018-07-12T12:21:29.000Z",\
 "is\_active":1,\
 "avg\_rating":0,\
 "rated\_task\_count":0,\
 "vendor\_id":20745,\
 "is\_deleted":0,\
 "first\_name":"Siddhartha",\
 "last\_name":"",\
 "email":"siddhartha.narang+1@jugnoo.in",\
 "phone\_no":"+91 1236547896",\
 "description":"",\
 "password":"e10adc3949ba59abbe56e057f20f883e",\
 "company":"",\
 "address":"",\
 "password\_reset\_token":null,\
 "is\_blocked":0,\
 "latitude":"30.7187548",\
 "longitude":"76.810595",\
 "vendor\_image":null,\
 "device\_type":"68",\
 "device\_token":"cDpRyzZM8Ww:APA91bG\_DCs8SMaLDycPOD0bVuTaxFmtJTwX97YzVE23stsRXk3aYUCPyQV\_lXQwPEyELRG4QGajJVJrFAjyt0mt0jcG2-YYWUNa-1xKacX0kuYHnX45wfNmZO8rTNVwdDN11oKQrzIR",\
 "app\_versioncode":"108",\
 "app\_access\_token":"f39dc0856174ced8213e529d3372a3e5",\
 "language":null,\
 "last\_login\_date\_time":"2018-07-13T06:02:30.000Z",\
 "vendor\_api\_key":null,\
 "fb\_token":"",\
 "otp":"",\
 "is\_phone\_verified":0,\
 "credits":0,\
 "pending\_amount":0,\
 "successful\_task\_count":0,\
 "referral\_code":"",\
 "referrer\_id":0,\
 "reference\_id":null,\
 "is\_first\_login":1,\
 "registration\_status":1,\
 "paytm\_enabled":null,\
 "unverified\_phone":null,\
 "favorite\_fleets":null,\
 "source":"1"\
 }\
 \],
 "jobs":\[\]
 }
 }

\# Group User

\## Update Phone Number \[/edit\_phone\]

\### Update Phone Number \[POST\]

This API is used to update user's phone number.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key. |
| phone\* | string | Enter user's new phone number here. |

\+ Request (application/json)

 {
 "api\_key":"e1ecdd2fd7aaa26547e195b459a7c2d2",
 "phone":"8989898989"
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\## Change Password \[/users\_change\_password\]

\### Change Password \[POST\]

This API is used to change user's password.

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key. |
| old\_password\* | string | This is user's old password. |
| new\_password\* | string | This is user's new password. |

\+ Request (application/json)

 {
 "api\_key":"56626584f30a4c1d18516d6a41fe6c3f82bdc783a5814",
 "old\_password":"zxcvbnm",
 "new\_password":"asdcvb99"
 }

\+ Response 200 (application/josn)

 {
 "message": "Your password has been updated.",
 "status": 200,
 "data": {
 "access\_token": "143734d0a61152d3b1716264018edcdf829"
 }
 }

\## Check Email \[/check\_email\_exists\]

\### Check Email \[POST\]

This API is used to check if your email is already registered or not.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| email\* | string | Enter your email here. |

\+ Request (application/json)

 {
 "email":"yukta@gmail.com"
 }

\+ Response 404 (application/json)

 {
 "message": "This email ID is already registered",
 "status": 404,
 "data": {}
 }

\## Get User Details \[/get\_user\_details\]

\### Get User Details \[POST\]

This API is used to get the Tookan user details.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |

\+ Request (application/json)

 {
 "api\_key": "5363648cf04056051e186d6d5c59254318e3c3f928da7a3a5"
 }

\+ Response 404 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {
 "user\_id": 1234,
 "email": "contact@jungleworks.com",
 "username": "Manish Sharma",
 "company\_name": "Manish Co.",
 "company\_address": "Chandigarh, India"
 }
 }

\# Group Merchant

Merchant is basically the seller or service provider on a marketplace. Merchants can log in to their own dashboard from where they can manage their agents, tasks and other functionalities. The admin has full access to all of the details and activities of the merchant, including, but not limited to tasks and agents. To create merchants you need to activate **Multi Merchant Marketplace** addon from Tookan Marketplace.

\## Create Merchant \[/merchant/sign\_up\]

\### Create Merchant \[POST\]

This API is used to add a merchant to your account.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_id\* | number | You can get it from account details page in [Tookan dashboard](https://app.tookanapp.com/#/app/account). |
| name\* | string | Enter the full name of merchant here. |
| first\_name\* | string | Enter the first name of merchant here. |
| last\_name | string | Enter the last name of merchant here. |
| company\_name\* | string | This is your company’s name. |
| company\_address\* | string | This is your company’s address |
| email\* | string | Enter the email of merchant here. |
| timezone\* | string | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330`, for CST: `+360` (CDT: `+300`) |
| phone\_directory\* | json object | This include two key value pairs named, **phoneNo** which is the contact number of merchant and **countryCode** which is the country code for the phone number. |
| merchant\_permission | json object | Various permissions are granted to the merchant. The default value is 1. Set 1 to give permission, otherwise 0. These are : view\_task, add\_task, add\_team, view\_team, add\_region, view\_region, add\_agent, view\_agent, view\_fleet\_avalibility, edit\_fleet\_avalibility. |
| commission\_percentage\* | number | This is the percentage of commision that the merchant will be earning. |
| password\* | string | Set login password for merchant here. |
| geofence | json object | This includes parameters related to geofence of the merchant like region\_name, region\_description, region\_data, is\_force. All the fields are optional. |
| rule\_id | number | This is the role id of access control. |
| shared\_teams | string | The admin's account team id's which you want to share with merchants. |

\+ Request (application/json)

 {
 "name":"merchant test",
 "first\_name":"merchant",
 "last\_name":"test",
 "company\_address":"CDCL, Madhya Marg, 28B, Sector 28B, Chandigarh, India",
 "company\_name":"jungleworks",
 "email":"yukta231merchant@gmail.com",
 "timezone":-330,
 "phone\_directory":{
 "phone":"+919467664844",
 "country\_code":"in"
 },
 "merchant\_permission":{
 "view\_task":0,
 "add\_task":0,
 "add\_team":0,
 "view\_team":0,
 "add\_region":0,
 "view\_region":0,
 "add\_agent":0,
 "view\_agent":0,
 "view\_fleet\_avalibility":0,
 "edit\_fleet\_avalibility":0
 },
 "commission\_percentage":10,
 "password":"123456",
 "geofence":{},
 "rule\_id": 123,
 "shared\_teams": "123,456",
 "api\_key":"55631.076225def01849131c152c3017162c431fe4c4fe2c",
 "user\_id":55631
 }

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":{}
 }

\## View Merchants \[/merchant/get\_merchant\]

\### View Merchants \[POST\]

This API is used to view the list of all merchants under the admin.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_id\* | number | You can get it from account details page in [Tookan dashboard](https://app.tookanapp.com/#/app/account). |

\+ Request (application/json)

 {
 "api\_key":"55631.076225def01849131c152c3017162c431fe4c4fe2c",
 "user\_id":55631
 }

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":\[{\
 "user\_id":73532,\
 "username":"merchant test"\
 }\]
 }

\## Edit Merchant \[/merchant/edit\_merchant\]

\### Edit Merchant \[POST\]

This API is used to edit the details of a merchant.

Request Body Parameters:

The request body parameters of this API are same as that of Create Merchant. The only parameters that should be added while editing a merchant are shown below.

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| merchant\_id\* | number | This is the unique ID given to each merchant. Enter the ID of the merchant whose details you want to edit. You can get it from dashboard Menu>More>Merchant. |

\+ Request (application/json)

 {
 "name":"merchant test",
 "first\_name":"merchant",
 "last\_name":"test",
 "company\_address":"CDCL",
 "company\_name":"click labs",
 "email":"yukta231merchant@gmail.com",
 "timezone":-330,
 "phone\_directory":{
 "phone":"+919467664843",
 "country\_code":"in"
 },
 "merchant\_permission" : {
 "view\_task":0,
 "add\_task":0,
 "add\_team":0,
 "view\_team":0,
 "add\_region":0,
 "view\_region":0,
 "add\_agent":0,
 "view\_agent":0,
 "view\_fleet\_avalibility":0,
 "edit\_fleet\_avalibility":0
 },
 "commission\_percentage":20,
 "merchant\_id":73532,
 "rule\_id": 123,
 "shared\_teams": "123,456",
 "api\_key":"55631.076225def01849131c152c3017162c431fe4c4fe2c",
 "user\_id":55631
 }

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":{}
 }

\## Get Merchant Details \[/merchant/get\_merchant\_data{?api\_key,user\_id}\]

\### Get Merchant Details \[GET\]

This API is used to get the details of a particular merchant.

Query Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_id\* | number | This is the ID of the merchant whose details you wan to view. |

\+ Parameters
 \+ api\_key - Enter your api key here.
 \+ user\_id - Enter merchant id here.

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":{
 "first\_name":"merchant",
 "last\_name":"test",
 "email":"yukta231merchant@gmail.com",
 "phone\_directory":{
 "label":"Phone",
 "phone":"+919467664843",
 "country\_code":"in"
 },
 "company\_name":"click labs",
 "company\_address":"CDCL",
 "country":null,
 "custom\_fields":\[\],
 "commission\_percentage":20,
 "merchant\_permission":{
 "merchant\_permission\_id":111,
 "merchant\_id":73532,
 "add\_task":0,
 "view\_task":0,
 "add\_team":0,
 "view\_team":0,
 "add\_region":0,
 "view\_region":0,
 "add\_agent":0,
 "view\_agent":0,
 "view\_fleet\_avalibility":0,
 "edit\_fleet\_avalibility":0,
 "creation\_date":"2018-09-17T04:23:38.000Z",
 "updation\_date":"2018-09-17T04:23:38.000Z"
 },
 "geofence":\[\]
 }
 }

\## Get Merchant Report \[/merchant/report{?api\_key,user\_id,merchant\_id}\]

\### Get Merchant Report \[GET\]

This API is used to get a merchant report related to is tasks and performance.

Query Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_id\* | number | You can get it from account details page in Tookan dashboard. |
| merchant\_id\* | number | This is the unique ID given to each merchant. Enter the ID of the merchant whose details you want to edit. You can get it from dashboard Menu>More>Merchant. |

\+ Parameters
 \+ api\_key - Enter your api key here.
 \+ user\_id - Enter user id here.
 \+ merchant\_id - Enter merchant id here.

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":{
 "merchant\_id":73533,
 "first\_name":"merchant",
 "last\_name":"test",
 "email":"yuktamerchant@gmail.com",
 "address":"CDCL, Madhya Marg, 28B, Sector 28B, Chandigarh, India",
 "document":\[\],
 "completed\_task":1,
 "failed\_task":1,
 "total\_agents":1,
 "merchant\_rating":"0.00",
 "geofence":\[\]
 }
 }

\## Get Merchant Teams \[/merchant/get\_merchant\_teams\]

\### Get Merchant Teams \[POST\]

This API is used to fetch teams related to a merchant.

Request body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| get\_team\_flag | 2 (fixed) | Set this values as 2 to get merchant teams. |
| merchant\_id\* | number | This is the array containg single merchant id whose teams you want to view. |

\+ Request (application/json)

 {
 "api\_key":"55631.076225def01849131c152c3017162c431fe4c4fe2c",
 "get\_team\_flag":2,
 "merchant\_id":\[73533\]
 }

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":{
 "merchant\_teams":\[{\
 "user\_id":73533,\
 "team\_name":"Default Team",\
 "team\_id":72193\
 }\]
 }
 }

\## Block/Unblock Merchant \[/merchant/block\_merchant\]

\### Block/Unblock Merchant \[POST\]

This API is used to block or unblock any merchant's account.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| merchant\_id\* | number | This is the unique ID given to each merchant. Enter the ID of the merchant whose task you want to create. You can get it from dashboard Menu>More>Merchant. |
| is\_blocked\* | number | Set is\_blocked as 0 to block merchant, 1 to unblock merchant. |

\+ Request (application/json)

 {
 "api\_key":"55631.076225def01849131c152c3017162c431fe4c4fe2c",
 "merchant\_id":73532,
 "is\_blocked":0
 }

\+ Response 200 (application/json)

 {
 "message":"The merchant ' merchant test ' has been blocked .",
 "status":200,
 "data":{}
 }

\## Assign Merchant To Task \[/merchant/assign\_merchant\_to\_task\]

\### Assign Merchant To Task \[POST\]

This API is used to assign a particular task to a merchant.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_id | number | You can get it from account details page in Tookan dashboard. |
| merchant\_id\* | number | This is the unique ID given to each merchant. Enter the ID of the merchant whose details you want to edit. You can get it from dashboard Menu>More>Merchant. |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| job\_id | string | This is the unique id given to every job which is returned while creating a task |
| job\_status | number | Refer status codes section above for various statuses available. |
| fleet\_id | number (optional) | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |

\+ Request (application/json)

 {
 "api\_key":"55631.076225def01849131c152c3017162c431fe4c4fe2c",
 "merchant\_id":73533,
 "user\_id":55631,
 "team\_id":72193,
 "job\_id":20812404,
 "job\_status":"6"
 }

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":{}
 }

\## Delete Merchant \[/merchant/delete\]

\### Delete Merchant \[POST\]

This API is used to delete a merchant.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| merchant\_id\* | number | This is the unique ID given to each merchant. Enter the ID of the merchant whose details you want to edit. You can get it from dashboard Menu>More>Merchant. |

\+ Request (application/json)

 {
 "api\_key":"55631.076225def01849131c152c3017162c431fe4c4fe2c",
 "merchant\_id":"73532"
 }

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":{}
 }

\## Get All Agents \[/get\_all\_fleets\]

\### Get All Agents \[POST\]

This API is used to get all the Agents/drivers/fleets information with respect to a location. The response array contains a status key for each of the fleet, which shows the current status of the fleet - 0 for available, 1 for offline and 2 for busy, taking into account the location, connectivity, ON-Duty/OFF-Duty status and if they are presently working a task.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| tags | string | You can pass the tags, comma separated, if you want to filter the list of agents via tags. |
| name | string | Enter name, if you want to get list of agents matching this name string. |
| fleet\_ids | array | You can specify array of fleet ids for getting information of only those fleets in response. |
| include\_any\_tag | number | Provide this key along with tags key in request body. Set value of this key to 1 if you want to agents having any of the tags provided in tags key, else set value of this key to 0 if you want the list of agents having all the tags you have provided in request body. |
| status | number | Pass 0 for getting agents who are free and Pass 1 for getting agents who are busy. |
| fleet\_type | number | Pass 1 for getting agents with fleet type "capative", Pass 2 for getting agents with fleet type "freelancer" |
| merchant\_id | number | Enter merchant id to get agents under that merchant. |

\+ Request (application/json)

 {
 "api\_key": "2b997be77e2becfd4c66426ef504",
 "tags": "mini,suv",
 "name": "manish",
 "fleet\_ids": \[49322, 42947\],
 "include\_any\_tag": 1,
 "status": 0,
 "fleet\_type": 1,
 "merchant\_id":1234
 }

\+ Response 200 (application/json)

\+ Body

 {
 "message": "Successful",
 "status": 200,
 "data": \[\
 {\
 "fleet\_id": 15500,\
 "device\_type": 3,\
 "total\_rating": 50,\
 "total\_rated\_tasks": 10,\
 "is\_active": 1,\
 "has\_gps\_accuracy": 1,\
 "username": "manish",\
 "name": "manish",\
 "login\_id": "mannish",\
 "transport\_type": 1,\
 "transport\_desc": "Swift",\
 "license": "123123",\
 "email": "manish.sharma@tookanapp.com",\
 "phone": "+917087034232",\
 "battery\_level": 20,\
 "registration\_status": 1,\
 "latitude": "30.755838886863323",\
 "is\_available": 0,\
 "longitude": "76.64949079051301",\
 "tags": "mini,suv",\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/thumb-QxUG1536819089055-6MwT1536819087649nature31.jpg",\
 "fleet\_image": "https://tookan.s3.amazonaws.com/fleet\_profile/6MwT1536819087649-nature31.jpg",\
 "status": 0,\
 "timezone": "-330",\
 "fleet\_type": 1\
 }\
 \]
 }

\## Add Agent \[/add\_agent\]

\### Add Agent \[POST\]

This API is used to register a new Agent in your account.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| email | string | email of your agent. |
| phone | string | add the phone number of the agent. He will get a notification with the links and credentials to download the app |
| transport\_type | string | Send 1 for Car, 2 for Motor Cycle, 3 for Bicycle, 4 for Scooter, 5 for Foot, 6 for Truck |
| transport\_desc | string |  |
| license | string |  |
| color | string |  |
| timezone\* | string |  |
| team\_ids\* | string | You need to pass a team of which the agent will be a part of. Team Id will be visible on the All teams page |
| password\* | string | You can set the password yourself, or leave it empty, in which case the system will auto-generate the password |
| username\* | string | Unique username, which the agent will use to login to the Tookan Agent App |
| first\_name\* | string |  |
| last\_name | string |  |
| rule\_id | number | You can find rule id in the Access Control page for the agents named as Role ID. |
| fleet\_type\* | number | Send 1 for captive agents and 2 for freelancer agents. Default value is 1. |
| merchant\_id | number | Enter merchant id to add the agent under that merchant. |

\+ Request (application/json)

 {
 "api\_key": "1fc5defefb668fcf820bac29e7b7aa05",
 "email": "abc@xyz.com",
 "phone": "919999999999",
 "transport\_type": "1",
 "transport\_desc": "auto",
 "license": "demo",
 "color": "blue",
 "timezone": "-330",
 "team\_id": "Your Team ID",
 "password": "abcdefg",
 "username": "username",
 "first\_name": "Decimate",
 "last\_name": "abc",
 "rule\_id":123,
 "merchant\_id":1234
 }
\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\## Edit Agent \[/edit\_agent\]

\### Edit Agent \[POST\]

This API is used to update particular agent of your account.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| fleet\_id\* | string | Agent Id of your agent. You will get this from agent list in dashboard. |
| email | string | Email of your agent. |
| phone | string | Add the phone number of the agent. |
| transport\_type | string | Send 1 for Car, 2 for Motor Cycle, 3 for Bicycle, 4 for Scooter, 5 for Foot, 6 for Truck |
| transport\_desc | string |  |
| license | string |  |
| color | string |  |
| timezone | string |  |
| team\_id | string | You need to pass a team of which the agent will be a part of. Team Id will be visible on the All teams page |
| password | string | You can set the password yourself, or leave it empty, in which case the system will auto-generate the password |
| first\_name | string |  |
| last\_name | string |  |
| rule\_id | number | You can find rule id in the Access Control page for the agents named as Role ID. |
| fleet\_type | number | Send 1 for captive agents and 2 for freelancer agents. Default value is 1. |
| merchant\_id | number | Enter merchant id to edit the agent under that merchant. |

\+ Request (application/json)

 {
 "api\_key": "1fc5defefb668fcf820bac29e7b7aa05",
 "fleet\_id": "12",
 "email": "abc@xyz.com",
 "phone": "919999999999",
 "transport\_type": "1",
 "transport\_desc": "auto",
 "license": "demo",
 "color": "blue",
 "timezone": "-330",
 "team\_id": "1",
 "password": "abcdefg",
 "first\_name": "Decimate",
 "last\_name": "abc",
 "rule\_id":123,
 "merchant\_id":12345
 }
\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }


\## Assign Agent To Task \[/assign\_fleet\_to\_task\]

\### Assign Agent To Task \[POST\]

This API is used to assign a merchant's agent to your task.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| merchant\_id | number | This is the unique ID given to each merchant. Enter the ID of the merchant whose task you want to create. You can get it from dashboard Menu>More>Merchant. |
| job\_id\* | number | This is the unique id given to every job which is returned while creating a task. |
| fleet\_id\* | number | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| team\_id\* | number | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| notify | 0/1 | This is used to enable the notifications. |
| geofence | 0/1 | This is used to enable the geofencing. |
| job\_status | string | Refer status codes section above for various statuses available. |

\+ Request (application/json)

 {
 "api\_key":"55631.076225def01849131c152c3017162c431fe4c4fe2c",
 "merchant\_id":73533,
 "job\_id":20813248,
 "team\_id":72193,
 "fleet\_id":165932,
 "notify":1,
 "geofence":0,
 "job\_status":"0"
 }

\+ Response 200 (application/json)

 {
 "message":"The Agent 'merchant test' has been assigned to task '20813248'",
 "status":200,
 "data":{}
 }

\## Create Merchant Task \[/create\_task\]

There are different types of tasks can be created inside Tookan depending on the workflow you have selected in your account for e.g. - pick & delivery task, appointment task etc. Please refer to appropriate API below according to your requirement. In case of any doubt, feel free to reach out to us at contact@tookanapp.com.

\### Create a Pickup Task \[POST\]

This API is used to create a pickup task for merchant.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| merchant\_id\* | string | This is the unique ID given to each merchant. Enter the ID of the merchant whose task you want to create. You can get it from dashboard Menu>More>Merchant. |
| order\_id | string | Your can pass this key as your own transaction number which can be used to identify tasks in tookan |
| job\_description | String | The description of the task to be done |
| job\_pickup\_phone | string | The contact number of the person from whom the pickup should be collected |
| job\_pickup\_name | string<br>(optional) | The name of the person from whom the pickup should be collected |
| job\_pickup\_email | string <br> (optional) | The email of the person from whom the pickup should be collected |
| job\_pickup\_address\* | string | The address from which the pickup should be collected. |
| job\_pickup\_latitude | string <br> (optional) | This is the latitiude of the pickup location |
| job\_pickup\_longitude | string <br> (optional) | This is the longitude of the pickup location |
| job\_pickup\_datetime\* | string | This is time before which the pickup should be collected |
| has\_pickup\* | boolean <br> (Fixed) | For a Pickup task, this is fixed to `1` |
| has\_delivery\* | boolean <br> (Fixed) | For a Pickup task this is fixed to `0` |
| layout\_type\* | integer <br> (Fixed) | For a Pickup task this is fixed to `0` |
| tracking\_link | boolean | If this value is `1` it will return a url in the response where the driver's movement can be tracked.if not no url will be returned |
| timezone | string | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330`, for CST: `+360` (CDT: `+300`) |
| pickup\_custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| pickup\_meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| auto\_assignment | boolean | If this value is `1` The task will be auto assigned to the members of the specific team mentioned. or if this value is `0` it will be unassigned task created. |
| fleet\_id | string | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| p\_ref\_images | Array | This is an array of strings containing links of images. |
| notify | integer | This is used to enable the notifications. |
| geofence | integer | This is used to enable the geofencing. |
| tags | string | This is a string containing comma separated tags as filters for agents in auto assignment. |

\+ Request (application/json)

 {
 "api\_key":"2b997be77e2cc22becfd4c66426ef504",
 "merchant\_id":"356253",
 "order\_id":"654321",
 "job\_description":"groceries delivery",
 "job\_pickup\_phone":"+1201555555",
 "job\_pickup\_name":"7 Eleven Store",
 "job\_pickup\_email":"",
 "job\_pickup\_address":"114, sansome street, San Francisco",
 "job\_pickup\_latitude":"30.7188978",
 "job\_pickup\_longitude":"76.810296",
 "job\_pickup\_datetime":"2016-08-14 19:00:00",
 "pickup\_custom\_field\_template":"Template\_1",
 "pickup\_meta\_data": \[{"label":"Price","data":"100"},{"label":"Quantity","data":"100"}\],
 "team\_id":"",
 "auto\_assignment":"0",
 "has\_pickup":"1",
 "has\_delivery":"0",
 "layout\_type":"0",
 "tracking\_link":1,
 "timezone":"300",
 "fleet\_id":"",
 "p\_ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],
 "notify":1,
 "tags":"",
 "geofence":0
 }

\+ Response 200 (application/json)

 \+ Body

 {
 "message": "The task has been created.",
 "status": 200,
 "data": {
 "tracking\_link": "http://bit.ly/1LwzMJS",
 "job\_id": 5265,
 "job\_hash": "f02aac468aebde6ef46ed90532b4a417",
 "job\_token": "1444849200000",
 "job\_pickup\_name": "7 Eleven Store",
 "job\_pickup\_address": "frigate bay 1"
 }
 }

\### Create a Delivery Task \[POST\]

This API is used to create a Delivery Task for merchant.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| merchant\_id\* | string | This is the unique ID given to each merchant. Enter the ID of the merchant whose task you want to create. You can get it from dashboard Menu>More>Merchant. |
| order\_id | string | Your can pass this key as your own transaction number which can be used to identify tasks in tookan |
| job\_description | String | The description of the task to be done |
| job\_pickup\_phone | string | The contact number of the person from whom the pickup should be collected |
| customer\_email | email <br> (optional) | This is email of the customer to whom the product should be delivered |
| customer\_username | String<br>(optional) | This is the name of the customer to whom the product should be delivered |
| customer\_phone | String | This is the contact number of the customer to whom the product should be delivered |
| customer\_address\* | String | This is the address of the customer to whom the product should be delivered |
| latitude | String <br> (optional) | This is the latitiude of the pickup location if you have it. Otherwise leave it blank. We will get it through geocoding API |
| longitude | String <br> (optional) | This is the latitiude of the pickup location if you have it. Otherwise leave it blank. We will get it through geocoding API |
| job\_delivery\_datetime\* | Date/String | This is time before which the product should be delivered |
| has\_pickup\* | boolean<br> (Fixed) | For a delivery task this value is `0` |
| has\_delivery\* | boolean<br> (Fixed) | For a delivery task this value is `1` |
| layout\_type\* | integer<br> (Fixed) | For a delivery task this value is `0` |
| tracking\_link | boolean | If this value is `1` it will return a url in the respone where the driver's movement can be tracked. |
| timezone\* | string | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330` |
| custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| auto\_assignment | boolean | If this value is `1` The task will be auto assigned to the members of the specific team mentioned. or if this value is `0` it will be unassigned task created. |
| fleet\_id | string | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| ref\_images | Array | This is an array of strings containing links of images. |
| notify | integer | This is used to enable the notifications. |
| geofence | integer | This is used to enable the geofencing. |
| tags | string | This is a string containing comma separated tags as filters for agents in auto assignment. |

\+ Request (application/json)

 {
 "api\_key":"2b997be77e2cc22becfd4c66426ef504",
 "merchant\_id":"356253",
 "order\_id":"654321",
 "job\_description":"groceries delivery",
 "customer\_email":"john@example.com",
 "customer\_username":"John Doe",
 "customer\_phone":"+12015555555",
 "customer\_address":"frigate bay 2",
 "latitude":"30.7188978",
 "longitude":"76.810298",
 "job\_delivery\_datetime":"2016-08-14 21:00:00",
 "custom\_field\_template":"Template\_1",
 "meta\_data": \[{"label":"Price","data":"100"},{"label":"Quantity","data":"100"}\],
 "team\_id":"",
 "auto\_assignment":"0",
 "has\_pickup":"0",
 "has\_delivery":"1",
 "layout\_type":"0",
 "tracking\_link":1,
 "timezone":"-330",
 "fleet\_id":"636",
 "ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png","http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],
 "notify":1,
 "tags":"",
 "geofence":0
 }

\+ Response 200 (application/json)

 \+ Body

 {
 "message": "The task has been created.",
 "status": 200,
 "data": {
 "tracking\_link": "http://bit.ly/1OqtCS9",
 "job\_id": 5268,
 "job\_hash": "6e419074d9cbaa2ec52754e852b91e21",
 "job\_token": "1444856400000",
 "customer\_name": "John Doe",
 "customer\_address": "frigate bay 2"
 }
 }

\### Create a Pickup and Delivery Task \[POST\]

This api is used to create Pickup and Delivery task for merchant.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| merchant\_id\* | string | This is the unique ID given to each merchant. Enter the ID of the merchant whose task you want to create. You can get it from dashboard Menu>More>Merchant. |
| order\_id | string | Your can pass this key as your own transaction number which can be used to identify tasks in tookan |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| auto\_assignment | boolean | If this value is `1` The task will be auto assigned to the members of the specific team mentioned. or if this value is `0` it will be unassigned task created. |
| job\_description | String | The description of the task to be done |
| job\_pickup\_phone | string | The contact number of the person from whom the pickup should be collected |
| job\_pickup\_name | string <br> (optional) | The name of the person from whom the pickup should be collected |
| job\_pickup\_email | string <br> (optional) | The email of the person from whom the pickup should be collected |
| job\_pickup\_address\* | string | The address from which the pickup should be collected. |
| job\_pickup\_latitude | string <br> (optional) | This is the latitiude of the pickup location |
| job\_pickup\_longitude | string <br> (optional) | This is the longitude of the pickup location |
| job\_pickup\_datetime\* | string | This is time before which the pickup should be collected |
| pickup\_custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| pickup\_meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| customer\_email | email <br> (optional) | This is email of the customer to whom the product should be delivered |
| customer\_username | String <br> (optional) | This is the name of the customer to whom the product should be delivered |
| customer\_phone | String | This is the contact number of the customer to whom the product should be delivered |
| customer\_address\* | String | This is the address of the customer to whom the product should be delivered |
| latitude | String <br> (optional) | This is the latitiude of the delivery location |
| longitude | String <br> (optional) | This is the longitude of the delivery location |
| job\_delivery\_datetime\* | Date/String | This is time before which the product should be delivered |
| custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| timezone\* | Integer | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330` |
| has\_pickup\* | boolean<br> (Fixed) | For a pickup and delivery task this value is fixed to `1` |
| has\_delivery\* | boolean<br> (Fixed) | For a pickup and delivery task this value is fixed to `1` |
| layout\_type\* | integer<br> (Fixed) | For a pickup and delivery task this value is fixed to `0` |
| tracking\_link | boolean | If this value is `1` it will return a url in the respone where the driver's movement can be tracked. |
| fleet\_id | string | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| p\_ref\_images | Array | (Pickup) This is an array of strings containing links of images. |
| ref\_images | Array | (Delivery) This is an array of strings containing links of images. |
| notify | integer | This is used to enable the notifications. |
| geofence | integer | This is used to enable the geofencing. |
| tags | string | This is a string containing comma separated tags as filters for agents in auto assignment. |
| ride\_type | number | 0 for Non-Pool Task, 1 for Pool Task. |

Response Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| message | string |
| status | number | This should be mapped with the error codes mention in error codes section above. |
| data | Object | This gives the information about the task like pickup\_tracking\_link,delivery\_tracing\_link,job\_id, job\_token,<br>pickup\_hash, delivery\_hash |

\+ Request (application/json)

 {
 "api\_key":"2b997be77e2cc22becfd4c66426ef504",
 "merchant\_id":"356253",
 "order\_id":"654321",
 "team\_id":"",
 "auto\_assignment":"0",
 "job\_description":"groceries delivery",
 "job\_pickup\_phone":"+1201555555",
 "job\_pickup\_name":"7 Eleven Store",
 "job\_pickup\_email":"",
 "job\_pickup\_address":"frigate bay 1",
 "job\_pickup\_latitude":"30.7188978",
 "job\_pickup\_longitude":"76.810296",
 "job\_pickup\_datetime":"2016-08-14 19:00:00",
 "customer\_email":"john@example.com",
 "customer\_username":"John Doe",
 "customer\_phone":"+12015555555",
 "customer\_address":"frigate bay 2",
 "latitude":"30.7188978",
 "longitude":"76.810298",
 "job\_delivery\_datetime":"2016-08-14 21:00:00",
 "has\_pickup":"1",
 "has\_delivery":"1",
 "layout\_type":"0",
 "tracking\_link":1,
 "timezone":"-330",
 "custom\_field\_template":"Template\_1",
 "meta\_data": \[{"label":"Price","data":"100"},{"label":"Quantity","data":"100"}\],
 "pickup\_custom\_field\_template":"Template\_2",
 "pickup\_meta\_data": \[{"label":"Price","data":"100"},{"label":"Quantity","data":"100"}\],
 "fleet\_id":"",
 "p\_ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png","http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],
 "ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png","http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],
 "notify":1,
 "tags":"",
 "geofence":0,
 "ride\_type":0
 }

\+ Response 200 (application/json)

 \+ Body

 {
 "message": "The task has been created.",
 "status": 200,
 "data": {
 "pickup\_tracking\_link": "http://bit.ly/1htQjX9",
 "delivery\_tracing\_link": "http://bit.ly/1jSBizX",
 "job\_id": 5233,
 "job\_token": "1444849200000",
 "pickup\_hash": "e70c492a098f1e741bd47c44ba5a8530",
 "delivery\_hash": "f30a06756a922ee36b3fcc58ec5072ea",
 "customer\_name": "John Doe",
 "customer\_address": "frigate bay 2"
 }
 }

\### Create an Appointment Task \[POST\]

This api is used to create an Appointment task for merchant.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| merchant\_id\* | string | This is the unique ID given to each merchant. Enter the ID of the merchant whose task you want to create. You can get it from dashboard Menu>More>Merchant. |
| order\_id | string | Your can pass this key as your own transaction number which can be used to identify tasks in tookan |
| customer\_email | email <br> (optional) | Customer email |
| customer\_username | String | customer name to whom the product should be delivered. |
| customer\_phone | String | The contact number of the customer to whom the product should be delivered |
| customer\_address\* | String | The address to which the product should be delivered. |
| latitude | number <br> (optional) | The latitude of the location of customer address |
| longitude | number <br> (optional) | The longitude of the location of customer address |
| job\_description | String | The description of the task to be done |
| job\_pickup\_datetime\* | Date/String | This is the start time of the appointment. |
| job\_delivery\_datetime\* | Date/String | Time before which the appointment should be completed |
| timezone\* | Integer | Timezone difference with UTC in minutes for e.g., For PST: `+480` (PDT: `+420`),For MST `+420` (MDT: `+360`) for EST: `+300`(EDT: `+240`), for AEST: `-600` (AEDT: `-660`), for IST: `-330` |
| custom\_field\_template | string | This is the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_). |
| meta\_data | json array | This is array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.) |
| has\_pickup\* | boolean<br> (Fixed) | For an appointment task this value is fixed to `0` |
| has\_delivery\* | boolean <br> (Fixed) | For an appointment task this value is fixed to `0` |
| layout\_type\* | number <br> (Fixed) | For an appointment task this value is fixed to `1` |
| tracking\_link | boolean | If this value is `1` it will return a url in the respone where the driver's movement can be tracked |
| team\_id | integer | This is the Unique id of every team. You can get it from the dashBoard. More>teams>respective id of the team will displayed. |
| auto\_assignment | boolean | If this value is `1` The task will be auto assigned to the members of the specific team mentioned. or if this value is `0` it will be unassigned task created. |
| fleet\_id | string | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |
| ref\_images | Array | This is an array of strings containing links of images. |
| notify | integer | This is used to enable the notifications. |
| geofence | integer | This is used to enable the geofencing. |
| tags | string | This is a string containing comma separated tags as filters for agents in auto assignment. |

\+ Request (application/json)

 {
 "customer\_email":"john@example.com",
 "merchant\_id":"356253",
 "order\_id":"654321",
 "customer\_username":"John Doe",
 "customer\_phone":"+919999999999",
 "customer\_address":"Powai Lake, Powai, Mumbai, Maharashtra, India",
 "latitude":"28.5494489",
 "longitude":"77.2001368",
 "job\_description":"Beauty services",
 "job\_pickup\_datetime":"2016-10-30 16:00:00",
 "job\_delivery\_datetime":"2016-10-30 17:00:00",
 "has\_pickup":"0",
 "has\_delivery":"0",
 "layout\_type":"1",
 "tracking\_link":1,
 "timezone":"-330",
 "custom\_field\_template":"Template\_1",
 "meta\_data": \[{"label":"Price","data":"100"},{"label":"Quantity","data":"100"}\],
 "api\_key":"2b997be77e2cc22becfd4c66426ef504",
 "team\_id":"",
 "auto\_assignment":"0",
 "fleet\_id":"",
 "ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png","http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],
 "notify":1,
 "tags":"",
 "geofence":0
 }

\+ Response 200 (application/json)

 \+ Body

 {
 "message": "The task has been created.",
 "status": 200,
 "data": {
 "tracking\_link": "http://bit.ly/1GA4z7e",
 "job\_id": 5236,
 "job\_hash": "67657b3ed35c5548d7806d9eafd22e43",
 "job\_token": "1446220800000",
 "customer\_name": "John Doe",
 "customer\_address": "Powai Lake, Powai, Mumbai, Maharashtra, India"
 }
 }

\## Multiple Merchant Tasks \[/create\_multiple\_tasks\]

\### Create Multiple Pickup And Delivery Tasks \[POST\]
This API is used to create multiple pickup and delivery merchant tasks for the fleets at once.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| merchant\_id\* | string | This is the unique ID given to each merchant. Enter the ID of the merchant whose task you want to create. You can get it from dashboard Menu>More>Merchant. |
| fleet\_id | String | Id of the fleet to which this task is to be assigned, optional. |
| timezone\* | string | Timezone of the country or location in numerical format. Eg - timezone for India = -330. |
| has\_pickup\* | boolean | Boolean key containing 1 if these are pickup tasks. |
| has\_delivery\* | boolean | Boolean key containing 1 if these are delivery tasks. |
| layout\_type\* | string | Set it as 0 (PICKUP\_AND\_DELIVERY), 1 (APPOINTMENT) or 2 (FOS) depending upon the type of layout. |
| geofence | string | This is used to enable the geofencing. |
| auto\_assignment | boolean | Boolean key containing the value 0 if the task is not to be assigned automatically to the fleet. |
| tags | String | This is a string containing comma separated tags as filters for agents in auto assignment. |
| deliveries\* | JSON array | Array of objects containing address, name, job\_description, latitude, longitude, tie, phone, template\_name, template\_data, ref\_images, email, order\_id where address defines the address of the customer to whom the product should be delivered, name defines the name of the customer, job\_description defines the description of the task, latitude defines the latitude of the pickup location if you have it, otherwise leave it blank. We'll get it through geocoding API, longitude and latitude defines the long and lat of the pick up, time defines the time before the pickup should be collected, phone defines the contact number of the customer, template\_name defines the custom fields template name that is predefined in your workflow page in the admin account and you just need to replace space in template with underscore(\_), template\_data defines an array of object containing label and data where label defines the custom field name and data will be his value. (Provided label should be in specified template.),ref\_images defines an array of strings containing links of images,email defines the email of the customer to whom the product should be delivered,order\_id can be passed as your own transaction number which can be used to identify tasks in tookan. |
| pickups\* | JSON array | Array of objects containing address, name, job\_description, latitude, longitude, time, phone, template\_name, template\_data, ref\_images, email, order\_id where address defines the address from which the pickup should be collected, name defines the name of the person from whom the pickup should be collected, job\_description defines the description of the task to be done, latitude and longitude defines the lat and long of the pick up location, time defines the time before which the pickup should be collected,phone defines the contact number of the person from whom the pickup should be collected,template\_name defines the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_), template\_data defines an array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.),ref\_images defines an array of strings containing links of images,email defines the email of the person from whom the pickup should be collected,order\_id can be passed as your own transaction number which can be used to identify tasks in tookan. |

\+ Request (application/json)

 {
 "api\_key": "c3e46bc0bbdc2d6cdf22f4dae426581259435bd522fd98b30f5baf939b9ce2ba",
 "merchant\_id": "452362",
 "fleet\_id": 19750,
 "timezone": -330,
 "has\_pickup": 1,
 "has\_delivery": 1,
 "layout\_type": 0,
 "geofence": 0,
 "auto\_assignment": 0,
 "tags": "",
 "pickups": \[{\
 "address": "Chandigarh International Airport, Sahibzada Ajit Singh Nagar, Punjab, India",\
 "latitude": 30.7333148,\
 "longitude": 76.7794179,\
 "time": "2017-08-14 17:24:00",\
 "phone": "+911234567890",\
 "template\_name": "Template\_1",\
 "template\_data": \[{\
 "label": "Price",\
 "data": "100"\
 }, {\
 "label": "Quantity",\
 "data": "100"\
 }\],\
 "ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],\
 "name": "Saurabh",\
 "email": "saurabh@saurabh.com",\
 "order\_id": "12234556",\
 "job\_description": "Job description goes here"\
 }\],
 "deliveries": \[{\
 "address": "Chandigarh Railway Station, Daria, Chandigarh, India",\
 "latitude": 30.7022191,\
 "longitude": 76.82247009999992,\
 "time": "2017-08-14 17:30:00",\
 "phone": "+913242342342",\
 "template\_name": "Template\_1",\
 "template\_data": \[\
 {\
 "label": "Price",\
 "data": "100"\
 },\
 {\
 "label": "Quantity",\
 "data": "100"\
 }\
 \],\
 "ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],\
 "name": "Saurabh",\
 "email": "saurabh@saurabh.com",\
 "order\_id": "123456",\
 "job\_description": "Job description goes here"\
 }\]
 }


\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":{
 "pickups":\[{\
 "job\_id":254737,\
 "job\_hash":"fc0f4e89d604a180bcb33a5aebdcd146",\
 "job\_token":"25473715022796802388950",\
 "status":true,\
 "auto\_assignment\_data":0,\
 "order\_id":"12234556",\
 "result\_tracking\_link":"https://goo.gl/53jKDJ",\
 "new\_agent\_task\_insertion\_data":\[\]\
 }\],
 "deliveries":\[{\
 "job\_id":254738,\
 "job\_hash":"bc41a6e7dcfd3716d8540fbcd6e32fb9",\
 "job\_token":"25473715022796802388950",\
 "status":true,\
 "auto\_assignment\_data":0,\
 "order\_id":"123456",\
 "result\_tracking\_link":"https://goo.gl/r3Gj4L",\
 "new\_agent\_task\_insertion\_data":\[\]\
 }\]
 }
 }

\### Create Multiple Pickup Tasks \[POST\]
This API is used to create multiple pickup merchant tasks for the fleets at once.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| merchant\_id\* | string | This is the unique ID given to each merchant. Enter the ID of the merchant whose task you want to create. You can get it from dashboard Menu>More>Merchant. |
| fleet\_id | String | Id of the fleet to which this task is to be assigned, optional. |
| timezone\* | string | Timezone of the country or location in numerical format. Eg - timezone for India = -330. |
| has\_pickup\* | boolean | Boolean key containing 1 if these are pickup tasks. |
| has\_delivery\* | boolean | Boolean key containing 1 if these are delivery tasks. |
| layout\_type\* | string | Set it as 0(PICKUP\_AND\_DELIVERY), 1(APPOINTMENT) or 2(FOS) depending upon the type of layout. |
| geofence | string | This is used to enable the geofencing. |
| auto\_assignment | boolean | Boolean key containing the value 0 if the task is not to be assigned automatically to the fleet. |
| tags | String | This is a string containing comma separated tags as filters for agents in auto assignment. |
| pickups\* | JSON array | Array of objects containing address, name, job\_description, latitude, longitude, time, phone, template\_name, template\_data, ref\_images, email, order\_id where address defines the address from which the pickup should be collected, name defines the name of the person from whom the pickup should be collected, job\_description defines the description of the task to be done, latitude and longitude defines the lat and long of the pick up location, time defines the time before which the pickup should be collected,phone defines the contact number of the person from whom the pickup should be collected,template\_name defines the custom fields template name that is pre-defined in your workflow page in the admin account and you just need to replace space in template with underscore(\_), template\_data defines an array of object containing label and data where label defines the custom field name and data will be his value.(Provided label should be in specified template.),ref\_images defines an array of strings containing links of images,email defines the email of the person from whom the pickup should be collected,order\_id can be passed as your own transaction number which can be used to identify tasks in tookan. |

\+ Request (application/json)

 {
 "api\_key": "c3e46bc0bbdc2d6cdf22f4dae426581259435bd522fd98b30f5baf939b9ce2ba",
 "merchant\_id": "45652",
 "fleet\_id": "",
 "timezone": -330,
 "has\_pickup": 1,
 "has\_delivery": 0,
 "layout\_type": 0,
 "geofence": 0,
 "auto\_assignment": 0,
 "tags": "",
 "pickups": \[{\
 "address": "Chandigarh International Airport, Sahibzada Ajit Singh Nagar, Punjab, India",\
 "name": "Saurabh",\
 "latitude": "30.7333148",\
 "longitude": "76.7794179",\
 "time": "2017-08-14 17:29:00",\
 "phone": "+911234567890",\
 "template\_name": "Template\_1",\
 "template\_data": \[\
 {\
 "label": "Price",\
 "data": "100"\
 },\
 {\
 "label": "Quantity",\
 "data": "100"\
 }\
 \],\
 "ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],\
 "order\_id": "123456",\
 "job\_description": "Job description goes here"\
 }\]
 }


\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":{
 "pickups":\[{\
 "job\_id":254746,\
 "job\_hash":"4e77cf8abc38bb1a81facaf7e4499550",\
 "job\_token":"25474615022800065310310",\
 "status":true,\
 "auto\_assignment\_data":0,\
 "order\_id":"123456",\
 "result\_tracking\_link":"https://goo.gl/GMYjmy",\
 "new\_agent\_task\_insertion\_data":\[\]\
 }\]
 }
 }

\### Create Multiple Delivery Tasks \[POST\]

This API is used to create multiple delivery merchant tasks for the fleets at once.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| merchant\_id\* | string | This is the unique ID given to each merchant. Enter the ID of the merchant whose task you want to create. You can get it from dashboard Menu>More>Merchant. |
| fleet\_id | String | Id of the fleet to which this task is to be assigned, optional. |
| timezone\* | string | Timezone of the country or location in numerical format. Eg - timezone for India = -330. |
| has\_pickup\* | boolean | Boolean key containing 1 if these are pickup tasks. |
| has\_delivery\* | boolean | Boolean key containing 1 if these are delivery tasks. |
| layout\_type\* | string | Set it as 0(PICKUP\_AND\_DELIVERY), 1(APPOINTMENT) or 2(FOS) depending upon the type of layout. |
| geofence | string | This is used to enable the geofencing. |
| auto\_assignment | boolean | Boolean key containing the value 0 if the task is not to be assigned automatically to the fleet. |
| tags | String | This is a string containing comma separated tags as filters for agents in auto assignment. |
| deliveries\* | JSON array | Array of objects containing address, name, job\_description, latitude, longitude, tie, phone, template\_name, template\_data, ref\_images, email, order\_id where address defines the address of the customer to whom the product should be delivered, name defines the name of the customer, job\_description defines the description of the task, latitude defines the latitude of the pickup location if you have it, otherwise leave it blank. We'll get it through geocoding API, longitude and latitude defines the long and lat of the pick up, time defines the time before the pickup should be collected, phone defines the contact number of the customer, template\_name defines the custom fields template name that is predefined in your workflow page in the admin account and you just need to replace space in template with underscore(\_), template\_data defines an array of object containing label and data where label defines the custom field name and data will be his value. (Provided label should be in specified template.),ref\_images defines an array of strings containing links of images,email defines the email of the customer to whom the product should be delivered,order\_id can be passed as your own transaction number which can be used to identify tasks in tookan. |

\+ Request (application/json)

 {
 "api\_key": "c3e46bc0bbdc2d6cdf22f4dae426581259435bd522fd98b30f5baf939b9ce2ba",
 "merchant\_id": "45265",
 "fleet\_id": "",
 "timezone": -330,
 "has\_pickup": 0,
 "has\_delivery": 1,
 "layout\_type": 0,
 "geofence": 0,
 "auto\_assignment": 0,
 "tags": "",
 "deliveries": \[{\
 "address": "Chandigarh International Airport, Sahibzada Ajit Singh Nagar, Punjab, India",\
 "name": "Saurabh",\
 "latitude": 30.66776609999999,\
 "longitude": 76.78622870000004,\
 "time": "2017-08-14 17:31:00",\
 "phone": "+911234567890",\
 "template\_name": "Template\_1",\
 "template\_data": \[\
 {\
 "label": "Price",\
 "data": "100"\
 },\
 {\
 "label": "Quantity",\
 "data": "100"\
 }\
 \],\
 "ref\_images": \["http://tookanapp.com/wp-content/uploads/2015/11/logo\_dark.png"\],\
 "email": null,\
 "order\_id": "123345566",\
 "job\_description": "Job description goes here"\
 }\]
 }


\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":
 {
 "deliveries":\[\
 {\
 "job\_id":254751,\
 "job\_hash":"5e0e634e7bd29fe36319b53617698a2a",\
 "job\_token":"25475115022801325504460",\
 "status":true,\
 "auto\_assignment\_data":0,\
 "order\_id":"123345566",\
 "result\_tracking\_link":"https://goo.gl/agt8MV",\
 "new\_agent\_task\_insertion\_data":\[\]\
 }\
 \]
 }
 }

\## Edit Merchant Task \[/edit\_task\]

\### Edit Merchant Task \[POST\]

This api used to edit a task that has already been added to the merchant account.

Request Body Parameters : Every parameter is same as while creating a merchant task the only parameter that should added while editing a task is shown below.

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| job\_id\* | string | This is the unique id given to every job which is returned while creating a task |

\+ Request (application/json)

 {
 "customer\_email":"john@example.com",
 "customer\_username":"John Doe",
 "customer\_phone":"+919999999999",
 "customer\_address":"Powai Lake, Powai, Mumbai, Maharashtra, India",
 "latitude":"28.5494489",
 "longitude":"77.2001368",
 "job\_description":"Beauty services",
 "job\_pickup\_datetime":"2016-09-30 16:00:00",
 "job\_delivery\_datetime":"2016-09-30 17:00:00",
 "has\_pickup":"0",
 "has\_delivery":"0",
 "layout\_type":"1",
 "tracking\_link":1,
 "timezone":"-330",
 "api\_key":"2b997be77e2cc22becfd4c66426ef504",
 "job\_id":2952,
 "merchant\_id":"25635",
 "notify": 1
 }

\+ Response 200 (application/json)

 \+ Body

 {
 "message": "The task has been updated ",
 "status": 200,
 "data": {}
 }
\## View Merchant Tasks \[/get\_all\_tasks\]

\### View Merchant Tasks \[POST\]

This API is used to get all the tasks of merchant as per the filters. Start Date and End Date range refer to Task Date.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can get a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| job\_status | number | Filter the list of tasks via their status |
| job\_type\* | number(mandatory) | Filter via Job Type - 0 for Pick Up, 1 for Delivery, 2 for Appointment and 3 for FOS |
| start\_date | number | Start Date for the date range |
| end\_date | number | End Date for the date range |
| custom\_fields | number | You can pass this flag as 1, if you want the custom fields data to be included in the response. default is 0 |
| is\_pagination | Boolean | You can set this as 1 to enable pagination. |
| requested\_page | number | Current(Which) page according to the page number of tasks in the filter. |
| customer\_id | number | Filter the list based on the customer id. |
| fleet\_id | number | Filter the list based on the agent id. |
| job\_id | array | Filter the list based on the job ids. |
| order\_id | array | Filter the list based on the order ids. |
| team\_id | number | Filter the list based on the team id. |
| is\_merchant | number | Set this key to 1. |
| merchant\_id | number | This is the unique ID given to each merchant. Enter the ID of the merchant whose task you want to create. You can get it from dashboard Menu>More>Merchant. |


\+ Request (application/json)

 {
 "api\_key": "00be7353ba73d5cb9812b9b9af404f8b",
 "job\_status": 1,
 "job\_type": 1,
 "start\_date": "2016-08-20",
 "end\_date": "2016-08-20",
 "custom\_fields": 0,
 "is\_pagination":1,
 "requested\_page":1,
 "customer\_id":"",
 "fleet\_id": 1234,
 "job\_id": \[123, 456, 789\],
 "order\_id": \["123", "Y-456", "O\_789"\],
 "team\_id":123,
 "is\_merchant" : 1,
 "merchant\_id" : 2653
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }

\# Group Geofence

\## Add Region \[/add\_region\]

\### Add Region \[POST\]
This API is used add regions for fleets.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| region\_name\* | string | This is the name of your region. |
| region\_data\* | string | Enter comma-seperated latitude longitude here that decribe the outline of the region. For Example : "30.71890702340647 76.80553835246496,31.72091770495563 76.81113880488806" |
| region\_description | string | Enter description about your region here/ |
| fleet\_id\* | string | Enter comma-seperated fleet ids here whom you want to assign this region. |
| selected\_team\_id | array | If you want to assign a region to whole team, then enter its team\_id here. |
| user\_id\* | number | You can get it from account details page in [Tookan dashboard](https://app.tookanapp.com/#/app/account). |
| is\_force | 0/1 (optional) | If the region is overlapping with other regions, the response will be a error message with status 410. If you still want to create this geofence, then set this parameter to 1. |

\+ Request (application/json)

 {
 "api\_key":"56616586f71342011c116e6a5210214518ecc7fb23da733e5a15",
 "user\_id":42537,
 "region\_name":"test2",
 "region\_description":"",
 "region\_data":"30.71890702340647 76.80553835246496,31.72091770495563 76.81113880488806,30.717892443406022 76.81193273875647,30.716951641503226 76.80663269374304,30.71890702340647 76.80553835246496",
 "selected\_team\_id":\[11167\],
 "fleet\_id":"33990",
 "is\_force":0
 }

\+ Response 200 (application/json)

 {
 "message":"The geo-fence 'test2' has been created.",
 "status":200,"data":{}
 }

\## Edit Region \[/edit\_region\]

\### Edit Region \[POST\]
This API is used to edit a geofence's details.

Request Body Parameters : Every parameter is same as while adding a region the only parameter that should added while editing a region is shown below.

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| region\_id\* | number | You can get region ids using the View Regions api. |

\+ Request (application/json)

 {
 "api\_key":"56616586f71342011c116e6a5210214518ecc7fb23da733e5a15",
 "user\_id":42537,
 "region\_name":"test1",
 "region\_description":"",
 "region\_data":"30.717274466719996 76.71020208287769,30.723324933677052 76.73251806188159,30.702072838333677 76.71758352208667,30.717274466719996 76.71020208287769",
 "selected\_team\_id":\[11167\],
 "fleet\_id":"33990,34361,34362",
 "region\_id":1244,
 "is\_force":0
 }

\+ Response 200 (application/json)

 {
 "message":"The geo-fence 'test1' has been updated",
 "status":200,
 "data":{}
 }

\## View Regions \[/view\_regions\]

\### View Regions \[POST\]

This API is used to view the Geofences and their respective agents.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_id\* | number | You can get it from account details page in [Tookan dashboard](https://app.tookanapp.com/#/app/account). |
| region\_id | number(Optional) | This will get the data of particular Geofence region. You can get this region id from the response when all Geofences called. |

\+ Request (application/json)

 {
 "api\_key":"076225def01849131c152c3017162c431fe4c4fe2c",
 "user\_id":1234,
 "region\_id":9874
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": \[\
 {\
 "user\_id": 1234,\
 "region\_id": 9874,\
 "region\_name": "United States",\
 "region\_description": "",\
 "region\_data": \[\
 {\
 "x": 30.66629589544139,\
 "y": 76.74439889714176\
 },\
 {\
 "x": 30.663342751242116,\
 "y": 76.82919961735661\
 },\
 {\
 "x": 30.697003243996004,\
 "y": 76.82919961735661\
 },\
 {\
 "x": 30.702316986005894,\
 "y": 76.7955539874738\
 },\
 {\
 "x": 30.68046973119217,\
 "y": 76.75813180729801\
 },\
 {\
 "x": 30.66629589544139,\
 "y": 76.74439889714176\
 }\
 \],\
 "created\_by": 1234,\
 "is\_active": 1,\
 "last\_updated\_at": "2018-09-19T14:41:42.000Z",\
 "fleets": \[\
 {\
 "fleet\_id": 1254,\
 "fleet\_thumb\_image": "https://tookan.s3.amazonaws.com/fleet\_thumb\_profile/thumb-aQMC1536819115209-YZa815368191143077103245orig.jpg",\
 "fleet\_name": "Aman"\
 }\
 \],\
 "selected\_team\_id": \[\]\
 } \]
 }

\## View Region Details \[/view\_regions\_only\]

\### View Region Details \[POST\]
This API is used to view a particular region's details.

Requset Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_id\* | number | You can get it from account details page in [Tookan dashboard](https://app.tookanapp.com/#/app/account). |
| region\_id | number | You can get region ids using the View Regions api. |

\+ Request (application/json)

 {
 "api\_key":"56616586f71342011c116e6a5210214518ecc7fb23da733e5a15",
 "user\_id":42537,
 "region\_id":1243
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": \[{\
 "region\_id": 1243,\
 "region\_name": "test4",\
 "region\_description": "",\
 "is\_active": 1,\
 "last\_updated\_at": "2018-09-20T07:18:52.000Z"\
 }\]
 }

\## Remove Region For Agent \[/remove\_region\_for\_agent\]

\### Remove Region For Agent \[POST\]
This API is used to remove a region for a particular agent/fleet/driver.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_id\* | number | You can get it from account details page in [Tookan dashboard](https://app.tookanapp.com/#/app/account). |
| region\_id\* | number | You can get region ids using the View Regions api. |
| fleet\_id\* | string | This is unique agent id given to each agent, if given the task will be assigned to the respective agent. You can get it from dashboard Menu>More>agents. |

\+ Request (application/json)

 {
 "api\_key":"56616586f71342011c116e6a5210214518ecc7fb23da733e5a15",
 "user\_id":42537,
 "region\_id":1243,
 "fleet\_id":33990
 }

\+ Response 200 (application/json)

 {
 "message":"The geo-fence 'test1' has been deleted",
 "status":200,
 "data":{}
 }

\## Delete Region \[/remove\_region\]

\### Delete Region \[POST\]

This API is used to delete a region.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| user\_id\* | number | You can get it from account details page in [Tookan dashboard](https://app.tookanapp.com/#/app/account). |
| region\_id\* | number | You can get region ids using the View Regions api. |

\+ Request (application/json)

 {
 "api\_key":"56616586f71342011c116e6a5210214518ecc7fb23da733e5a15",
 "user\_id":42537,
 "region\_id":1242
 }

\+ Response 200 (application/json)

 {
 "message":"The geo-fence 'test1' has been deleted",
 "status":200,
 "data":{}
 }

\## Find Region From Points \[/find\_region\_from\_points\]

\### Find Region From Points \[POST\]

This API is used to find geofence region using latitude and longitude as points.

Request Body Parameters :

|     |     |     |
| --- | --- | --- |
| **Name** | **Type** | **Description** |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| points\* | JSON array | Array containing latitude and longitude. |

\+ Request (application/json)

 {
 "api\_key":"your\_api\_key",
 "points":\[{"latitude":"30.7133899","longitude":"76.7950984"}\]
 }

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data": \[{"region\_id":7235,"user\_id":7756,"created\_by":7756,"region\_name":"CHANDIGARH","region\_description":"Chandigarh city of Chandigarh","region\_data":\[\[{"x":30.73250061240159,"y":76.70157453963805}\]\],"is\_active":1,"creation\_datetime":"2019-06-20T08:22:10.000Z","last\_updated\_at":"2019-06-27T07:24:23.000Z"}\]
 }
\# Group Mission

A mission consists of multiple tasks belonging to multiple workflows (Pickup & Delivery/ Appointments/ Field Workforce) and each could be assigned to multiple agents. So, if a business has such a diverse need, then instead of creating multiple individual tasks it can create just one ‘Mission’. Once the mission is dispatched for assignment, agents are assigned corresponding to their workflow. As the mission is in progress, you can track the overall status of the mission as well as the status of the individual tasks within each mission.

\## Create Mission Task \[/create\_mission\_task\]

\### Create Mission Task \[POST\]

This API is used to create a Mission.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| mission\_name\* | string | This is the name of your mission. |
| create\_task\_body | json obect | This is same as the create multiple tasks request body. Enter the array of pickups, delivery and appointments you want to create. |
| end\_date\* | string | Enter end date of your mission in (YYYY-MM-DD) format. |
| start\_date\* | string | Enter start date of your mission in (YYYY-MM-DD) format. |
| dispatched\_status | number | Set this value to 0 if you want to save mission as a draft, otherwise set 1. |

\+ Request (application/json)

 {
 "api\_key":"57666686f111544e177b60471021451fe6c3ff22de7d3a5b1a",
 "dispatched\_status":1,
 "mission\_name":"Mission 1",
 "create\_task\_body":\[\
 {\
 "access\_token":"55631.076225def01849131c152c3017162c431fe4c4fe2c",\
 "is\_dashboard":1,\
 "fleet\_id":"",\
 "timezone":-330,\
 "has\_pickup":0,\
 "has\_delivery":0,\
 "pickup\_delivery\_relationship":0,\
 "layout\_type":1,\
 "team\_id":0,\
 "geofence":0,\
 "auto\_assignment":1,\
 "tags":"",\
 "no\_of\_agents":1,\
 "deliveries":\[\],\
 "pickups":\[\],\
 "appointments":\[{\
 "address":"CDCL, Madhya Marg, 28B, Sector 28B, Chandigarh, India",\
 "name":"test",\
 "job\_description":"heeelo",\
 "latitude":30.7188978,\
 "longitude":76.81029809999995,\
 "start\_time":"2018-10-09 12:55:00",\
 "end\_time":"2018-10-17 12:55:00",\
 "phone":"+919467664844",\
 "template\_data":\[\],\
 "ref\_images":\[\],\
 "email":"yukta@gmail.com"\
 }\]\
 }\],
 "end\_date":"2018-10-17",
 "start\_date":"2018-10-09"
 }

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":{
 "mission\_id":64
 }
 }

\## Mission List \[/get\_mission\_list\]

\### Mission List \[POST\]

This API is used to view the list of mission owned by admin.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| end\_date\* | string | Enter end date of your mission in (YYYY-MM-DD) format. |
| start\_date\* | string | Enter start date of your mission in (YYYY-MM-DD) format. |

\+ Request (application/json)

 {
 "api\_key":"57666686f1115b1e177b60471021451fe6c3ff22de7d3a5b1a",
 "end\_date":"2018-10-17",
 "start\_date":"2018-10-09"
 }

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":\[\
 {\
 "mission\_id":64,\
 "mission\_name":"Mission 1",\
 "mission\_status":6,\
 "dispatched\_status":1,\
 "created\_by":55631\
 },\
 {\
 "mission\_id":66,\
 "mission\_name":"Mission 1",\
 "mission\_status":6,\
 "dispatched\_status":1,\
 "created\_by":55631\
 }\
 \]
 }

\## Delete Mission \[/delete\_mission\]

\### Delete Mission \[POST\]

This API is used to delete a mission.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| mission\_id\* | number | This is the unique Id assigned to a mission. You can get in using the "Mission List" Api. |

\+ Request (application/json)

 {
 "api\_key":"57666686f111544b1e7b60471021451fe6c3ff22de7d3a5b1a",
 "mission\_id":"63"
 }

\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":{}
 }


\# Group Webhook

We can POST following data to your url upon status update. You can use job\_id and job\_status to detect the state and update accordingly at your end. For verifying the request, you can compare tookan\_shared\_secret param. We can set it to a key provided by you and upon web hook call, you can check if it is the same which you have shared and verify that requests are coming from Tookan.
Append ?task\_history=1 at the end of the URL, if you want to include task history in the webhook data. You can customize these webhook URLs from the notifications section in the dashboard.

\- Sample Webhook POST data:

 {
 "job\_latitude": "37.7913917",
 "fleet\_email": "JonSnow@example.com",
 "is\_routed": "0",
 "job\_type": "1",
 "team\_id": "56",
 "auto\_assignment": "0",
 "job\_description": "adsfasd",
 "timezone": "-330",
 "fleet\_rating": "0",
 "user\_id": "1",
 "job\_id": "236365",
 "job\_state": "Successful",
 "has\_delivery": "1",
 "pickup\_delivery\_relationship": "cd7dd3e12424de76141787af773782c9100",
 "job\_hash": "c48fcd2646c282ad3576e9b096c1d798",
 "job\_address": "114, Sansome St Ste 250, San Francisco, CA, USA",
 "job\_pickup\_latitude": "30.7397101",
 "job\_pickup\_name": "Jon Snow",
 "job\_status": "2",
 "sign\_image": "https://app.tookanapp.com",
 "customer\_username": "sesas",
 "customer\_email": "",
 "order\_id": "",
 "customer\_comment": "",
 "customer\_phone": "+13334445555",
 "is\_active": "1",
 "job\_longitude": "-122.4008504",
 "dispatcher\_id": "",
 "job\_pickup\_longitude": "-122.4008504",
 "is\_customer\_rated": "0",
 "completed\_by\_admin": "0",
 "customer\_id": "1074",
 "tookan\_shared\_secret": "",
 "total\_distance\_travelled": "0",
 "total\_time\_spent\_at\_task\_till\_completion": "15",
 "session\_id": "",
 "has\_pickup": "1",
 "job\_token": "cd7dd3e12424de76141787af773782c9100",
 "job\_pickup\_address": "CDCL,MadhyaMarg,Chandigarh,India",
 "job\_pickup\_phone": "+917837173739",
 "fleet\_id": "3635",
 "fleet\_name": "SumeetRana",
 "job\_pickup\_email": "sumeet@clicklabs.in",
 "custom\_fields": \[\
 {\
 "label": "Customer\_Name",\
 "value": 1,\
 "required": 1,\
 "data\_type": "Text",\
 "app\_side": 1,\
 "data": "",\
 "template\_id": "booking\_information",\
 "item\_id": 0,\
 "fleet\_data": "harry"\
 },\
 {\
 "label": "CustomerImage",\
 "value": 1,\
 "required": 1,\
 "data\_type": "Image",\
 "app\_side": 1,\
 "data": "",\
 "template\_id": "booking\_information",\
 "item\_id": 0,\
 "fleet\_data": "\['https: //tookan.s3.amazonaws.com/task\_images/zJOw1452514280545-TOOKAN\_11012016\_053825.jpg'\]"\
 },\
 {\
 "label": "Vehicle\_selected",\
 "value": 1,\
 "required": 1,\
 "data\_type": "Dropdown",\
 "app\_side": 1,\
 "data": "Bike, Van, Truck",\
 "template\_id": "booking\_information",\
 "item\_id": 0,\
 "dropdown": \[\
 {\
 "id": 0,\
 "value": "Bike"\
 },\
 {\
 "id": 1,\
 "value": " Van"\
 },\
 {\
 "id": 2,\
 "value": " Truck"\
 }\
 \]\
 },\
 {\
 "label": "Date",\
 "value": 1,\
 "required": 1,\
 "data\_type": "Date",\
 "app\_side": 1,\
 "data": "",\
 "template\_id": "booking\_information",\
 "item\_id": 0\
 },\
 {\
 "label": "Amount",\
 "value": 1,\
 "required": 1,\
 "data\_type": "Number",\
 "app\_side": 1,\
 "data": "",\
 "template\_id": "booking\_information",\
 "item\_id": 0\
 },\
 {\
 "label": "Gender",\
 "value": 1,\
 "required": 1,\
 "data\_type": "Dropdown",\
 "app\_side": 0,\
 "data": "Male,Female",\
 "template\_id": "booking\_information",\
 "item\_id": 0,\
 "dropdown": \[\
 {\
 "id": 0,\
 "value": "Male"\
 },\
 {\
 "id": 1,\
 "value": "Female"\
 }\
 \]\
 },\
 {\
 "label": "Gender",\
 "value": 1,\
 "required": 1,\
 "data\_type": "Dropdown",\
 "app\_side": 1,\
 "data": "Male,Female",\
 "template\_id": "booking\_information",\
 "item\_id": 0,\
 "dropdown": \[\
 {\
 "id": 0,\
 "value": "Male"\
 },\
 {\
 "id": 1,\
 "value": "Female"\
 }\
 \]\
 },\
 {\
 "label": "ID\_Image",\
 "value": 1,\
 "required": 1,\
 "data\_type": "Image",\
 "app\_side": 1,\
 "data": "",\
 "template\_id": "booking\_information",\
 "item\_id": 0,\
 "fleet\_data": "\['https: //tookan.s3.amazonaws.com/task\_images/PZyQ1452514382208-TOOKAN\_11012016\_054006.jpg'\]"\
 }\
 \],
 "task\_history": \[\
 {\
 "id": 235973,\
 "job\_id": 85185,\
 "fleet\_id": 3829,\
 "fleet\_name": "bobby singh",\
 "latitude": "30.7192552",\
 "longitude": "76.8102558",\
 "type": "state\_changed",\
 "description": "Status updated from Assigned to Unassigned",\
 "creation\_datetime": "2016-01-11T09:34:17.000Z"\
 },\
 {\
 "id": 236365,\
 "job\_id": 85185,\
 "fleet\_id": 3635,\
 "fleet\_name": "Rusty B",\
 "latitude": "30.7193512",\
 "longitude": "76.8102679",\
 "type": "state\_changed",\
 "description": "Accepted at",\
 "creation\_datetime": "2016-01-11T12:11:02.000Z"\
 },\
 {\
 "id": 236366,\
 "job\_id": 85185,\
 "fleet\_id": 3635,\
 "fleet\_name": "Rusty B",\
 "latitude": "30.7193512",\
 "longitude": "76.8102679",\
 "type": "state\_changed",\
 "description": "Started at",\
 "creation\_datetime": "2016-01-11T12:11:04.000Z"\
 },\
 {\
 "id": 236367,\
 "job\_id": 85185,\
 "fleet\_id": 3635\
 "fleet\_name": "Rusty B",\
 "latitude": "30.7195829",\
 "longitude": "76.8101409",\
 "type": "state\_changed",\
 "description": "Arrived at",\
 "creation\_datetime": "2016-01-11T12:11:07.000Z"\
 },\
 {\
 "id": 236368,\
 "job\_id": 85185,\
 "fleet\_id": 3635,\
 "fleet\_name": "Rusty B",\
 "latitude": "30.7183782",\
 "longitude": "76.8096116",\
 "type": "custom\_field\_updated",\
 "description": "\
 {\
 'label':'CustomerImage',\
 'value':1,'required':1,\
 'data\_type':'Image',\
 'app\_side':1,\
 'data':'',\
 'template\_id':'booking\_information',\
 'item\_id':0,\
 'fleet\_data':'https: //tookan.s3.amazonaws.com/task\_images/zJOw1452514280545-TOOKAN\_11012016\_053825.jpg'\
 }",\
 "creation\_datetime": "2016-01-11T12:12:46.000Z"\
 },\
 {\
 "id": 236376,\
 "job\_id": 85185,\
 "fleet\_id": 3635,\
 "fleet\_name": "Rusty B",\
 "latitude": "30.7183782",\
 "longitude": "76.8096116",\
 "type": "text\_added",\
 "description": "vcvvvv",\
 "creation\_datetime": "2016-01-11T12:13:14.000Z"\
 },\
 {\
 "id": 236377,\
 "job\_id": 85185,\
 "fleet\_id": 3635,\
 "fleet\_name": "Rusty B",\
 "latitude": "30.7194513",\
 "longitude": "76.8103432",\
 "type": "image\_added",\
 "description": "https://tookan.s3.amazonaws.com/acknowledgement\_images/JhTU1452514406350-TOOKAN\_11012016\_054030.jpg",\
 "creation\_datetime": "2016-01-11T12:13:27.000Z"\
 },\
 {\
 "id": 236378,\
 "job\_id": 85185,\
 "fleet\_id": 3635,\
 "fleet\_name": "Rusty B",\
 "latitude": "30.7194513",\
 "longitude": "76.8103432",\
 "type": "signature\_image\_added",\
 "description": "https://tookan.s3.amazonaws.com/acknowledgement\_images/srA51452514416346-task\_signature.png",\
 "creation\_datetime": "2016-01-11T12:13:36.000Z"\
 },\
 {\
 "id": 236379,\
 "job\_id": 85185,\
 "fleet\_id": 3635,\
 "fleet\_name": "Rusty B",\
 "latitude": "30.7194513",\
 "longitude": "76.8103432",\
 "type": "state\_changed",\
 "description": "Successful at",\
 "creation\_datetime": "2016-01-11T12:13:42.000Z"\
 }\
 \]
 }

\## Tookan Shared Secret \[/set\_tookan\_shared\_secret\_key\]

\### Set Tookan Shared Secret \[POST\]

This API is used to set Tookan Shared Secret for Webhook data validation.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| api\_key | string | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| tookan\_shared\_secret | string | Tookan Shared Secret Value |

\+ Request (application/json)

 {
 "api\_key":"eaac56717958fa6664a9c5a0a29a43810a30fcda90be26a3e023b2f70f9ffa05",
 "tookan\_shared\_secret":"secret value"
 }

\+ Response 200 (application/json)

 {
 "message": "Successful",
 "status": 200,
 "data": {}
 }
\# Group Logistics

\## Adding a Hub \[/hubs/addHub\]

\### Create Hubs \[POST\]
This API is used to create and add a hub.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key\* | String | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| hub\_name\* | String | Name of the hub. |
| hub\_address\* | String | Address of the hub. |
| hub\_latitude\* | String | Latitude corresponding to the hub you wish to create. |
| hub\_longitude\* | String | Latitude corresponding to the hub you wish to create. |
| sub\_admin\_ids\* | Array | Subadmin ID/s managing the hub. |
| team\_ids\* | Array | ID of the team Id linked to the hub. |
| hub\_radius\* | Number | Radius of the hub in kilometers. |

\+ Request (application/json)



\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":\[\
 "hub\_id":124\
 \]
 }

\## Editing a Hub \[/hubs/editHub\]

\### Edit Hubs \[POST\]
This API is used to edit hub parameters like name, address, latitude, longitude, radius.

Request Body Parameters:

|     |     |     |
| --- | --- | --- |
| **name** | **Type** | **Description** |
| api\_key\* | String | You can generate a key from settings(Login>Menu>Settings>API Keys) in your tookan account. Or [click here](https://app.tookanapp.com/#/app/settings/apikey) to get API key |
| hub\_id\* | Number | ID of the hub to Update. |
| is\_delete\* | Number | Set to 1 if deleting certain params, and 0 incase of UPDATION/MODIFICATION of hub details. |
| is\_hub\_updated\* | Number | Set to 1 in order to update or delete a hub. |
| hub\_name | String | Name of the updated hub (Optional). |
| hub\_address | String | Address of the updated hub (Optional). |
| hub\_latitude | String | Latitude corresponding to the hub you wish to update (Optional). |
| hub\_longitude | String | Latitude corresponding to the hub you wish to update (Optional). |
| hub\_radius | Number | Radius of the updated hub in kilometers (Optional). |

\+ Request (application/json)

 {
 "api\_key": "c3e46bc0bbdc2d6cdf22f4dae426581259435bd522fd98b30f5baf939b9ce2ba",
 "is\_delete": 0,
 "is\_hub\_updated": 1,
 "hub\_id": 124,
 "hub\_name": "Chandigarh Hub 1",
 "hub\_address": "Sector 62, Mohali, India",
 "hub\_radius": "70",
 "hub\_latitude": "30.661367053238887",
 "hub\_longitude": "76.77182077969052"
 }


\+ Response 200 (application/json)

 {
 "message":"Successful",
 "status":200,
 "data":\[\
 \]
 }

\## Add or Remove SubAdmin from a Hub \[/hubs/addRemoveSubAdmin\]

# Tookan API · Apiary



